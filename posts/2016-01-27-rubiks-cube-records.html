<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Rubik's Cube records</title><meta name="description" content="Simplex Sigillum Veri"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="canonical" href="https://remusao.github.io/posts/rubiks-cube-records.html"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><style type="text/css">.sharing-facebook{background-image:url(data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2232%22%20width%3D%2232%22%3E%3Crect%20height%3D%2232%22%20rx%3D%224%22%20ry%3D%224%22%20width%3D%2232%22%20fill%3D%22%233b5998%22%2F%3E%3Cpath%20d%3D%22M17.936%2028.5V17.096h3.827l.574-4.444h-4.402V9.815c0-1.287.358-2.164%202.203-2.164h2.353V3.675c-.407-.055-1.804-.176-3.43-.176-3.392%200-5.715%202.072-5.715%205.875v3.278H9.51v4.443h3.838V28.5z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E);background-repeat:no-repeat}.sharing-pocket,.sharing-twitter{background-image:url(data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2232%22%20width%3D%2232%22%3E%3Crect%20height%3D%2232%22%20rx%3D%224%22%20ry%3D%224%22%20width%3D%2232%22%20fill%3D%22%2300abf1%22%2F%3E%3Cpath%20d%3D%22M28.5%208.246a10.249%2010.249%200%2001-2.945.808%205.148%205.148%200%20002.255-2.837%2010.272%2010.272%200%2001-3.258%201.244%205.12%205.12%200%2000-3.743-1.62%205.13%205.13%200%2000-4.997%206.299A14.562%2014.562%200%20015.241%206.78a5.104%205.104%200%2000-.695%202.579%205.125%205.125%200%20002.282%204.269%205.115%205.115%200%2001-2.323-.641v.064a5.133%205.133%200%20004.114%205.03%205.163%205.163%200%2001-1.351.18c-.33%200-.653-.034-.966-.093a5.134%205.134%200%20004.791%203.562%2010.288%2010.288%200%2001-6.37%202.195c-.413%200-.821-.024-1.223-.072a14.516%2014.516%200%20007.863%202.305c9.434%200%2014.593-7.816%2014.593-14.593%200-.223-.006-.444-.015-.664a10.427%2010.427%200%20002.56-2.655z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E);background-repeat:no-repeat}.sharing-pocket{background-image:url(data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2232%22%20width%3D%2232%22%3E%3Crect%20height%3D%2232%22%20rx%3D%224%22%20ry%3D%224%22%20width%3D%2232%22%20fill%3D%22%23e84352%22%2F%3E%3Cpath%20d%3D%22M24.297%205.554H7.703c-1.631%200-2.953%201.332-2.953%202.976v8.243c0%20.153.012.303.034.45a6.366%206.366%200%2000-.034.666c0%204.725%205.037%208.557%2011.25%208.557s11.25-3.832%2011.25-8.557a6.71%206.71%200%2000-.034-.666c.022-.147.034-.297.034-.45V8.53c0-1.644-1.324-2.976-2.953-2.976zM22.9%2013.841l-5.811%205.81a1.49%201.49%200%2001-1.07.438%201.489%201.489%200%2001-1.107-.438l-5.81-5.81a1.494%201.494%200%20012.112-2.112L16%2016.516l4.787-4.787a1.494%201.494%200%20012.112%200%201.493%201.493%200%20010%202.112z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E)}.sharing-hackernews,.sharing-reddit{background-image:url(data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2232%22%20width%3D%2232%22%3E%3Crect%20height%3D%2232%22%20rx%3D%224%22%20ry%3D%224%22%20width%3D%2232%22%20fill%3D%22%23f68423%22%2F%3E%3Cpath%20d%3D%22M6.796%204.124l7.656%2015.157v8.595h3.114V19.28l7.638-15.157h-3.382l-5.82%2011.412-5.598-11.412z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E);background-repeat:no-repeat}.sharing-reddit{background-image:url(data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2232%22%20width%3D%2232%22%3E%3Crect%20height%3D%2232%22%20rx%3D%224%22%20ry%3D%224%22%20width%3D%2232%22%20fill%3D%22%23ef4623%22%2F%3E%3Cpath%20d%3D%22M21.374%2016.93a1.385%201.385%200%2001.094.504c0%20.34-.118.672-.315.942a1.495%201.495%200%2001-.798.565l-.006.002-.004.002a1.428%201.428%200%2001-.464.076%201.648%201.648%200%2001-1.006-.354%201.513%201.513%200%2001-.566-.92v-.005l-.001-.003a1.382%201.382%200%2001-.031-.293c0-.328.112-.643.296-.903a1.553%201.553%200%2001.746-.57h.003l.002-.002a1.535%201.535%200%2001.533-.096%201.664%201.664%200%2001.919.28c.268.178.485.44.595.764l.002.006.002.005h-.001zm-1%204.027a.797.797%200%2000-.432-.134.679.679%200%2000-.375.114%207.275%207.275%200%2001-3.693%201.02c-.968%200-1.93-.203-2.8-.632l-.005-.002-.005-.001c-.13-.054-.28-.168-.444-.278a1.653%201.653%200%2000-.266-.146.795.795%200%2000-.312-.07.697.697%200%2000-.288.066l-.015.006a.702.702%200%2000-.347.29.834.834%200%2000-.02.825.71.71%200%2000.286.287c1.246.84%202.712%201.221%204.185%201.22a9.127%209.127%200%20003.852-.867l.006-.003.006-.003c.157-.093.365-.176.562-.298a1.27%201.27%200%2000.273-.226.856.856%200%2000.184-.342.697.697%200%2000-.05-.486.845.845%200%2000-.301-.34zm-8.744-2.02a.022.022%200%2001.007.002%201.412%201.412%200%2000.486.087c.404%200%20.798-.166%201.095-.436a1.48%201.48%200%2000.502-1.091c0-.012%200-.023-.002-.037a1.168%201.168%200%2000.002-.063c0-.433-.2-.818-.495-1.09a1.63%201.63%200%2000-1.094-.44c-.109%200-.22.014-.328.039h-.006a1.592%201.592%200%2000-1.184%201.062v.002a1.458%201.458%200%2000-.073.459c0%20.336.111.664.303.934a1.5%201.5%200%2000.787.573zm16.865-3.924v.002a3.084%203.084%200%2001-.515%201.85%203.389%203.389%200%2001-1.203%201.115c.03.241.049.485.049.728a6.026%206.026%200%2001-1.237%203.623h-.002c-1.451%201.93-3.68%203.069-5.93%203.643l-.003.002a15.582%2015.582%200%2001-3.674.44%2014.52%2014.52%200%2001-5.406-1.022v-.002h-.002c-1.783-.734-3.482-1.902-4.523-3.613a5.892%205.892%200%2001-.869-3.061c0-.243.017-.487.05-.729a3.49%203.49%200%2001-1.178-1.086%203.201%203.201%200%2001-.552-1.639v-.009c0-.833.362-1.623.925-2.204.563-.582%201.33-.962%202.154-.962h.035a3.714%203.714%200%2001.261-.01%203.408%203.408%200%20011.223.219l.002.001h.002a4.1%204.1%200%2001.968.55c.096-.051.202-.108.32-.153%201.806-1.07%203.904-1.482%205.95-1.6.018-1.014.142-2.074.636-3.003.412-.77%201.126-1.371%201.977-1.579l.003-.002h.004a5.132%205.132%200%2001.975-.092c.864%200%201.718.205%202.517.524.354-.533.859-.95%201.452-1.184l.005-.003.006-.002a3.665%203.665%200%20011.083-.172c.39%200%20.781.07%201.149.235l.008.002c.527.203.972.578%201.288%201.043.316.469.502%201.029.502%201.605a2.756%202.756%200%2001-.018.32l-.001.001v.006c-.063.744-.44%201.397-.973%201.863a2.995%202.995%200%2001-1.947.75%202.85%202.85%200%2001-.345-.02c-.708-.055-1.369-.398-1.854-.908-.486-.508-.8-1.189-.8-1.922%200-.035.004-.072.005-.107-.665-.296-1.37-.542-2.072-.541a2.8%202.8%200%2000-.304.016h-.002a1.586%201.586%200%2000-1.25.857v.002c-.358.7-.43%201.517-.442%202.33%202.014.13%204.04.614%205.815%201.635h.003l.026.014c.033.02.096.055.152.085.122-.1.25-.201.399-.289a3.279%203.279%200%20011.814-.537c.283%200%20.567.036.842.107h.001l.012.003.01.002a3.36%203.36%200%20011.68%201.043c.443.504.74%201.14.799%201.834zm-5.93-6.589c0%20.027%200%20.055.003.084v.005c.013.35.178.675.43.915.251.24.586.39.926.391h.008c.025.002.05.002.073.002.343%200%20.683-.147.939-.387.256-.24.425-.568.438-.92v-.005a.793.793%200%2000.004-.08c0-.362-.17-.709-.436-.965a1.43%201.43%200%2000-.972-.414%201.1%201.1%200%2000-.336.05h-.007a1.485%201.485%200%2000-.756.492%201.315%201.315%200%2000-.315.832zM7.702%2013.821c-.27-.125-.547-.215-.822-.213a1.093%201.093%200%2000-.14.007h-.006l-.006.002a1.72%201.72%200%2000-1.094.458%201.522%201.522%200%2000-.512%201.056v.008a1.226%201.226%200%2000-.004.097c0%20.253.077.497.21.719.096.165.223.317.368.448.461-1.01%201.183-1.869%202.006-2.582zm17.54%204.944c0-.901-.326-1.806-.853-2.535-1.049-1.46-2.676-2.412-4.37-2.943l-.011-.004a13.78%2013.78%200%2000-.984-.263%2013.603%2013.603%200%2000-3.018-.338%2013.675%2013.675%200%2000-4.025.603c-1.693.537-3.326%201.483-4.373%202.948v.001a4.397%204.397%200%2000-.842%202.544c0%20.333.042.665.13.99h.001c.19.727.563%201.376%201.046%201.941a7.521%207.521%200%20001.696%201.444%2011.725%2011.725%200%2000.418.246c1.807%201.008%203.888%201.45%205.954%201.45.35%200%20.7-.012%201.048-.037%202.08-.171%204.17-.786%205.859-2.04v-.002a6.567%206.567%200%20001.43-1.425%204.62%204.62%200%2000.814-1.824v-.003a3.577%203.577%200%2000.079-.753zm1.641-3.585a1.345%201.345%200%2000-.16-.64l-.002-.002-.002-.004a1.562%201.562%200%2000-.653-.684%201.897%201.897%200%2000-.928-.236%201.9%201.9%200%2000-.846.197c.826.717%201.55%201.58%202.02%202.594a1.692%201.692%200%2000.375-.47c.125-.234.196-.496.196-.755z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E)}body{color:#2f2f2f;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen-Sans,Ubuntu,Cantarell,'Helvetica Neue',sans-serif;line-height:1.6em;margin:20px auto;max-width:40rem;padding:0 1.5em;text-rendering:optimizeLegibility}h1{line-height:1.1em}h2{border-bottom:1px solid #eaecef;padding-bottom:.5em}h1,h2,h3{padding-top:.7em}.header{color:#555;margin-top:-.8em}.main a{color:#3465a4}.main a:visited{color:#75507b}.main figcaption{color:#696f72;font-style:italic;line-height:2em;text-align:center}.main img{display:block;height:auto;margin:auto;padding-bottom:1em;padding-top:1em;width:90%}.main blockquote{border-left:thin solid #d3d7cf;color:#555;margin:10px;padding:0 0 0 1em}code{background-color:#f6f8fa;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:14px;line-height:20px;padding:.2em .4em}pre code{display:block;overflow-x:auto}.leave-comment-btn,summary{font-size:16px;font-weight:600}.leave-comment-btn{background-color:#28a745;background-image:linear-gradient(-180deg,#34d058,#28a745 90%);border:1px solid rgba(27,31,35,.2);border-radius:.25em;color:#fff;display:inline-block;margin-top:1.5em;padding:3px 10px;text-decoration:none}.leave-comment-btn:hover{box-shadow:0 1px 3px rgba(0,0,0,.24)}summary{color:#516ae8;cursor:pointer;line-height:1.2rem;margin-top:2rem}.comments-list{list-style:none;padding:0}.comment{background-color:#fff;border:1px solid #d1d5da;border-radius:3px;color:#24292e;font-size:16px;margin:1em 0}.meta{background-color:#f6f8fa;border-bottom:1px solid #d1d5da;color:#586069}.author,.date{text-decoration:none}.author{color:#24292e!important;font-weight:700}.date{color:#586069}.date:hover{color:#0366d6}.content{padding-left:20px}.avatar,.emoji{vertical-align:middle}.avatar{display:inline-block;margin-right:5px}.emoji{height:1.1em;width:1.1em}table{border-collapse:collapse;margin:auto}td,th{border:1px solid #ddd;padding:10px}tr:hover{background-color:#f5f5f5}footer{border-top:thin solid #d3d7cf;margin:1.5em 0}.share ul{text-align:right}.share li{display:inline;padding:0 5px}.sharing{display:inline-block;height:32px;width:32px}.main a,header a{text-decoration:none}.hljs{background:#f8f8f8;color:#333;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-quote{color:#6a737d;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#d73a49}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:#005cc5}.hljs-doctag,.hljs-string{color:#032f62}.hljs-section,.hljs-selector-id,.hljs-title{color:#900}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#6f42c1}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><main><header><h1><a href="../"><span>../</span></a></h1></header><h1>Rubik's Cube records</h1><section class="header"><div>└─ 2016-01-27 • <em>Reading time: ~9 minutes</em></div></section><article><div class="main"><p>Following on the recent hype around the robot that is able to solve a Rubik’s cube <a href="http://hackaday.com/2016/01/27/robot-solves-rubiks-cube-in-just-one-second/" target="_blank" rel="noopener noreferrer">in a second</a> (which seems a big improvement over the previous robot that was able to solve it in about 3 seconds), I got interested in human records, and their evolution over the year.</p><p>The <a href="https://www.worldcubeassociation.org" target="_blank" rel="noopener noreferrer">World Cube Association</a> provides dataset about ranking, records, players in Rubik’s Cube competitions. They offer a <a href="https://www.worldcubeassociation.org/results/misc/export.html" target="_blank" rel="noopener noreferrer">downloadable dataset</a> for data science purpose. But since it would be too easy to use a TSV ;), I’ll show how we can extract data from this website, and use Pandas get some insight.</p><h1>Players</h1><p>We’ll first try to explore data about results of Worldwide competitions that we can find on <a href="https://www.worldcubeassociation.org/results" target="_blank" rel="noopener noreferrer">this page</a>.</p><p>Let’s use <code>requests</code> to fetch HTML from the URL. If you go directly on the page, you’ll see that you can select the number of results you’re interested in, countries, years, etc. All theses parameters can be specified in the URL too. In this post, I’ll use all the data (all players, all years, all countries):</p><pre class="code" data-lang="python"><code><span class="hljs-keyword">import</span> requests
r = requests.get(<span class="hljs-string">&quot;https://www.worldcubeassociation.org/results/events.php?eventId=333&amp;regionId=&amp;years=&amp;show=All%2BPersons&amp;single=Single&quot;</span>)
</code></pre><p>Beautifulsoup will let you manipulate HTML without dealing too much with low-level details.</p><pre class="code" data-lang="python"><code><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup
soup = BeautifulSoup(r.text, <span class="hljs-string">&#x27;html.parser&#x27;</span>)
</code></pre><p>You can ask him to find and extract one particular part of the HTML, in our case it would be <code>table-responsive</code> which represents the array of results:</p><pre class="code" data-lang="python"><code>table = soup.find(<span class="hljs-string">&quot;div&quot;</span>, {<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;table-responsive&quot;</span>})
raw_lines = [
    line.contents[:<span class="hljs-number">5</span>]
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> table.find_all(<span class="hljs-string">&quot;tr&quot;</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(line) == <span class="hljs-number">6</span>
]
raw_lines[<span class="hljs-number">0</span>]
</code></pre><blockquote><p>1 | <a href="/results/p.php?i=2011ETTE01">Lucas Etter</a> | 4.90 | USA | <a href="/results/c.php?i=RiverHillFall2015">River Hill Fall 2015</a> — | — | — | — |</p></blockquote><p>We get a list of <code>HMTL Entities</code> that we will process to extract the data we need. But first, let’s automate this extraction process with a function, since every tables on this website respect the same format:</p><pre class="code" data-lang="python"><code><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup
<span class="hljs-keyword">import</span> requests

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_table_raws</span>(<span class="hljs-params">url, cols</span>):</span>
    r = requests.get(url)
    soup = BeautifulSoup(r.text, <span class="hljs-string">&#x27;html.parser&#x27;</span>)
    table = soup.find(<span class="hljs-string">&quot;div&quot;</span>, {
        <span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;table-responsive&quot;</span>
    })

    raw_lines = [
        line.contents
        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> table.find_all(<span class="hljs-string">&quot;tr&quot;</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(line) == cols
    ]

    <span class="hljs-keyword">return</span> [[c.text <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> line] <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> raw_lines]
</code></pre><p>Since we’ll have to deal with dates and timings, we could use this little helpers to do the conversions:</p><pre class="code" data-lang="python"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">extract_year_from_competition</span>(<span class="hljs-params">competition</span>):</span>
    <span class="hljs-comment"># Format is [name] [year]</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(competition.strip().rsplit(<span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">-1</span>])

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">convert_timing_to_seconds</span>(<span class="hljs-params">timing</span>):</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Try to convert directly in seconds</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">float</span>(timing)
    <span class="hljs-keyword">except</span> ValueError:
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># Format should be [minutes]:[seconds].[tenth]</span>
            minutes, rest = timing.split(<span class="hljs-string">&quot;:&quot;</span>, <span class="hljs-number">1</span>)
            seconds, tenth = rest.split(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span> (
                <span class="hljs-built_in">float</span>(minutes) * <span class="hljs-number">60</span> +
                <span class="hljs-built_in">float</span>(seconds) +
                <span class="hljs-built_in">float</span>(tenth) / <span class="hljs-number">100</span>
            )
        <span class="hljs-keyword">except</span> ValueError:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre><p>Let’s use our helpers to extract all the data:</p><pre class="code" data-lang="python"><code>url = <span class="hljs-string">&quot;https://www.worldcubeassociation.org/results/events.php?eventId=333&amp;regionId=&amp;years=&amp;show=All%2BPersons&amp;single=Single&quot;</span>
clean_table = []
<span class="hljs-keyword">for</span> rank, (_, person, timing, country, competition, _) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(get_table_raws(url, <span class="hljs-number">6</span>)):
    year = extract_year_from_competition(competition)
    timing = convert_timing_to_seconds(timing)
    clean_table.append((rank + <span class="hljs-number">1</span>, person, timing, country, competition, year))

clean_table[:<span class="hljs-number">5</span>]
</code></pre><blockquote><pre class="code" data-lang="python"><code>[(<span class="hljs-number">1</span>, <span class="hljs-string">u&#x27;Lucas Etter&#x27;</span>, <span class="hljs-number">4.9</span>, <span class="hljs-string">u&#x27;USA&#x27;</span>, <span class="hljs-string">u&#x27;River Hill Fall 2015&#x27;</span>, <span class="hljs-number">2015</span>),
 (<span class="hljs-number">2</span>, <span class="hljs-string">u&#x27;Keaton Ellis&#x27;</span>, <span class="hljs-number">5.09</span>, <span class="hljs-string">u&#x27;USA&#x27;</span>, <span class="hljs-string">u&#x27;River Hill Fall 2015&#x27;</span>, <span class="hljs-number">2015</span>),
 (<span class="hljs-number">3</span>, <span class="hljs-string">u&#x27;Collin Burns&#x27;</span>, <span class="hljs-number">5.25</span>, <span class="hljs-string">u&#x27;USA&#x27;</span>, <span class="hljs-string">u&#x27;Doylestown Spring 2015&#x27;</span>, <span class="hljs-number">2015</span>),
 (<span class="hljs-number">4</span>, <span class="hljs-string">u&#x27;Feliks Zemdegs&#x27;</span>, <span class="hljs-number">5.39</span>, <span class="hljs-string">u&#x27;Australia&#x27;</span>, <span class="hljs-string">u&#x27;World Championship 2015&#x27;</span>, <span class="hljs-number">2015</span>),
 (<span class="hljs-number">5</span>, <span class="hljs-string">u&#x27;Mats Valk&#x27;</span>, <span class="hljs-number">5.55</span>, <span class="hljs-string">u&#x27;Netherlands&#x27;</span>, <span class="hljs-string">u&#x27;Zonhoven Open 2013&#x27;</span>, <span class="hljs-number">2013</span>)]
</code></pre></blockquote><pre class="code" data-lang="python"><code><span class="hljs-built_in">len</span>(clean_table)
</code></pre><blockquote><pre class="code" data-lang="python"><code><span class="hljs-number">47465</span>
</code></pre></blockquote><p>Let’s see if we can gain some insight from this dataset using Pandas:</p><pre class="code" data-lang="python"><code><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

df = pd.DataFrame(
    data=clean_table,
    columns=(
        <span class="hljs-string">&#x27;Rank&#x27;</span>,
        <span class="hljs-string">&#x27;Person&#x27;</span>,
        <span class="hljs-string">&#x27;Timing&#x27;</span>,
        <span class="hljs-string">&#x27;Country&#x27;</span>,
        <span class="hljs-string">&#x27;Competition&#x27;</span>,
        <span class="hljs-string">&#x27;Year&#x27;</span>
    ))

df.head()
</code></pre><blockquote><table><thead><tr><th>Rank</th><th>Person</th><th>Timing</th><th>Country</th><th>Competition</th><th>Year</th></tr></thead><tbody><tr><td>1</td><td>Lucas Etter</td><td>4.9</td><td>USA</td><td>River Hill Fall 2015</td><td>2015</td></tr><tr><td>2</td><td>Keaton Ellis</td><td>5.09</td><td>USA</td><td>River Hill Fall 2015</td><td>2015</td></tr><tr><td>3</td><td>Collin Burns</td><td>5.25</td><td>USA</td><td>Doylestown Spring 2015</td><td>2015</td></tr><tr><td>4</td><td>Feliks Zemdegs</td><td>5.39</td><td>Australia</td><td>World Championship 2015</td><td>2015</td></tr><tr><td>5</td><td>Mats Valk</td><td>5.55</td><td>Netherlands</td><td>Zonhoven Open 2013</td><td>2013</td></tr></tbody></table></blockquote><p>We see that the first entry is the <em>World record</em> by <a href="https://www.youtube.com/watch?v=vh0W8E4cNkQ" target="_blank" rel="noopener noreferrer">Lucas Etter</a>. If you didn’t see, watch it now, it’s very impressive.</p><pre class="code" data-lang="python"><code>df[<span class="hljs-string">&quot;Timing&quot;</span>].describe()
</code></pre><blockquote><table><thead><tr><th></th></tr></thead><tbody><tr><td>count</td></tr><tr><td>mean</td></tr><tr><td>std</td></tr><tr><td>min</td></tr><tr><td>25%</td></tr><tr><td>50%</td></tr><tr><td>75%</td></tr><tr><td>max</td></tr></tbody></table></blockquote><blockquote><p>Name: Timing, dtype: float64</p></blockquote><p>We have 47465 entries. The average time of resolution in these competitions is 35 seconds, which is actually pretty fast. The maximum, of 648 seconds (10 minutes) seems more reasonable to me…</p><pre class="code" data-lang="python"><code>%matplotlib inline
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
plt.style.use(<span class="hljs-string">&#x27;ggplot&#x27;</span>)
</code></pre><p>We can count the number of players for each country:</p><pre class="code" data-lang="python"><code>country_count = df[[<span class="hljs-string">&quot;Country&quot;</span>]].apply(pd.value_counts)
country_count[:<span class="hljs-number">20</span>]
</code></pre><blockquote><table><thead><tr><th>Country</th><th>Count</th></tr></thead><tbody><tr><td>USA</td><td>8918</td></tr><tr><td>China</td><td>6286</td></tr><tr><td>India</td><td>4659</td></tr><tr><td>Brazil</td><td>2039</td></tr><tr><td>Poland</td><td>1739</td></tr><tr><td>Canada</td><td>1526</td></tr><tr><td>Germany</td><td>1092</td></tr><tr><td>Indonesia</td><td>1090</td></tr><tr><td>France</td><td>1065</td></tr><tr><td>Japan</td><td>999</td></tr><tr><td>Philippines</td><td>993</td></tr><tr><td>Spain</td><td>977</td></tr><tr><td>Mexico</td><td>932</td></tr><tr><td>Korea</td><td>869</td></tr><tr><td>Ukraine</td><td>848</td></tr><tr><td>Taiwan</td><td>828</td></tr><tr><td>Russia</td><td>817</td></tr><tr><td>Australia</td><td>766</td></tr><tr><td>Peru</td><td>671</td></tr><tr><td>Colombia</td><td>627</td></tr></tbody></table></blockquote><p>No surprise, bigger countries are more represented in Rubik’s Cube competitions. It would be interesting to compare these numbers with the actual population, to see if Rubik’s Cube is more <em>“popular”</em> in some countries.</p><p>Let’s visualize the countries with more than 200 players using a barplot:</p><pre class="code" data-lang="python"><code>country_count[country_count &gt; <span class="hljs-number">200</span>].dropna().plot(kind=<span class="hljs-string">&quot;bar&quot;</span>)
</code></pre><figure><a href="../images/output_27_1.png"><img src="../images/output_27_1.png" alt=""></a><figcaption>Players per country</figcaption></figure><p>We can do the same for players:</p><pre class="code" data-lang="python"><code>df[[<span class="hljs-string">&quot;Person&quot;</span>]]
    .apply(pd.value_counts)
    .apply(pd.value_counts)
</code></pre><blockquote><table><thead><tr><th>Number of participations</th><th>Count</th></tr></thead><tbody><tr><td>1</td><td>46709</td></tr><tr><td>2</td><td>305</td></tr><tr><td>3</td><td>26</td></tr><tr><td>4</td><td>13</td></tr><tr><td>5</td><td>2</td></tr><tr><td>6</td><td>1</td></tr></tbody></table></blockquote><p>It appears that the vast majority of player only <em>participated one time</em>. And only about 0.007% participated more than once. Can we conclude that players are more hobbyist than professional? Another information that could be interesting is the age of the participants, since the World Champion is very young, it would be fun to have more insight about the average or mean age of Rubik’s Cube champions.</p><h1>Records</h1><p>Let’s now get to the world records, and try to see how they evolve over the years. The code is pretty similar to the previous section, so we’ll just use our generic function for table extraction:</p><pre class="code" data-lang="python"><code>url = <span class="hljs-string">&quot;https://www.worldcubeassociation.org/results/regions.php?regionId=&amp;eventId=333&amp;years=&amp;history=History&quot;</span>
clean_table = []
<span class="hljs-keyword">for</span> (_, single, avg, person, country, competition, _) <span class="hljs-keyword">in</span> get_table_raws(url, <span class="hljs-number">7</span>):
    single = convert_timing_to_seconds(single.strip())
    avg = convert_timing_to_seconds(avg.strip())
    year = <span class="hljs-built_in">float</span>(extract_year_from_competition(competition))
    clean_table.append((person, single, avg, country, competition, year))

clean_table[:<span class="hljs-number">5</span>]
</code></pre><pre class="code" data-lang="python"><code>[
  (<span class="hljs-string">u&#x27;Lucas Etter&#x27;</span>, <span class="hljs-number">4.9</span>, <span class="hljs-literal">None</span>, <span class="hljs-string">u&#x27;USA&#x27;</span>, <span class="hljs-string">u&#x27;River Hill Fall 2015&#x27;</span>, <span class="hljs-number">2015.0</span>),
  (<span class="hljs-string">u&#x27;Collin Burns&#x27;</span>, <span class="hljs-number">5.25</span>, <span class="hljs-literal">None</span>, <span class="hljs-string">u&#x27;USA&#x27;</span>, <span class="hljs-string">u&#x27;Doylestown Spring 2015&#x27;</span>, <span class="hljs-number">2015.0</span>),
  (<span class="hljs-string">u&#x27;Mats Valk&#x27;</span>, <span class="hljs-number">5.55</span>, <span class="hljs-literal">None</span>, <span class="hljs-string">u&#x27;Netherlands&#x27;</span>, <span class="hljs-string">u&#x27;Zonhoven Open 2013&#x27;</span>, <span class="hljs-number">2013.0</span>),
  (<span class="hljs-string">u&#x27;Feliks Zemdegs&#x27;</span>, <span class="hljs-number">5.66</span>, <span class="hljs-literal">None</span>, <span class="hljs-string">u&#x27;Australia&#x27;</span>, <span class="hljs-string">u&#x27;Melbourne Winter Open 2011&#x27;</span>,
  <span class="hljs-number">2011.0</span>),
  (<span class="hljs-string">u&#x27;Feliks Zemdegs&#x27;</span>,
   <span class="hljs-number">6.18</span>,
   <span class="hljs-literal">None</span>,
   <span class="hljs-string">u&#x27;Australia&#x27;</span>,
   <span class="hljs-string">u&#x27;Melbourne Winter Open 2011&#x27;</span>,
   <span class="hljs-number">2011.0</span>)
]
</code></pre><pre class="code" data-lang="python"><code>df = pd.DataFrame(
    data=clean_table,
    columns=(<span class="hljs-string">&#x27;Person&#x27;</span>, <span class="hljs-string">&#x27;Single&#x27;</span>, <span class="hljs-string">&#x27;Avg&#x27;</span>, <span class="hljs-string">&#x27;Country&#x27;</span>, <span class="hljs-string">&#x27;Competition&#x27;</span>, <span class="hljs-string">&#x27;Year&#x27;</span>))

df.head()
</code></pre><blockquote><p>Person | Single | Avg | Country | Competition | Year — | — | — | — | — | 0 | Lucas Etter | 4.90 | <code>NaN</code> | USA | River Hill Fall 2015 | 2015 1 | Collin Burns | 5.25 | <code>NaN</code> | USA | Doylestown Spring 2015 | 2015 2 | Mats Valk | 5.55 | <code>NaN</code> | Netherlands | Zonhoven Open 2013 | 2013 3 | Feliks Zemdegs | 5.66 | <code>NaN</code> | Australia | Melbourne Winter Open 2011 | 2011 4 | Feliks Zemdegs | 6.18 | <code>NaN</code> | Australia | Melbourne Winter Open 2011 | 2011</p></blockquote><pre class="code" data-lang="python"><code>df = df.sort([<span class="hljs-string">&quot;Year&quot;</span>, <span class="hljs-string">&quot;Single&quot;</span>], ascending=[<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>])
df[df[<span class="hljs-string">&quot;Single&quot;</span>].notnull()].plot(x=<span class="hljs-string">&quot;Year&quot;</span>, y=<span class="hljs-string">&quot;Single&quot;</span>, legend=<span class="hljs-string">&quot;Test&quot;</span>)
plt.title(<span class="hljs-string">&quot;World records of Rubik&#x27;s Cube&quot;</span>)
</code></pre><figure><a href="../images/output_36_1.png"><img src="../images/output_36_1.png" alt=""></a><figcaption>World records of Rubik’s Cube</figcaption></figure><h1>Last words</h1><p>It would seem reasonable to conclude that <em>we are now on a plateau</em>. One think that could bring even more insight would be to compare this evolution to, say, evolution among sprinters’ world records over time, etc. I guess we’re hitting the same kind of limitation.</p><p>A major difference is that in Rubik’s Cube, you’re limited both by your fingers’ dexterity, and the speed at which your brain can process information, whereas in athletics, it’s more about physical performance. <em>I would be curious to see which one is more limiting: brain, or body</em>.</p><p>Another open question for me is: <em>how much does the final score depends on the initial configuration of the Rubik’s Cube?</em> I know that they are able to look at it before the beginning, so maybe this is negligible, maybe not.</p></div><div class="comments"></div></article><footer><div class="share"><ul><li><a href="https://www.facebook.com/sharer/sharer.php?u=https://remusao.github.io//posts/rubiks-cube-records.html&t=Rubik's Cube records" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><div class="sharing sharing-facebook"></div></a></li><li><a href="https://twitter.com/share?url=https://remusao.github.io//posts/rubiks-cube-records.html&text=Rubik's Cube records&via=Pythux" title="Tweet" target="_blank" rel="noopener noreferrer"><div class="sharing sharing-twitter"></div></a></li><li><a href="https://getpocket.com/save?url=https://remusao.github.io//posts/rubiks-cube-records.html&title=Rubik's Cube records" title="Add to Pocket" target="_blank" rel="noopener noreferrer"><div class="sharing sharing-pocket"></div></a></li><li><a href="https://news.ycombinator.com/submitlink?u=https://remusao.github.io//posts/rubiks-cube-records.html&t=Rubik's Cube records" title="Submit to Hacker News" target="_blank" rel="noopener noreferrer"><div class="sharing sharing-hackernews"></div></a></li><li><a href="https://www.reddit.com/submit?url=https://remusao.github.io//posts/rubiks-cube-records.html&title=Rubik's Cube records" title="Submit to Reddit" target="_blank" rel="noopener noreferrer"><div class="sharing sharing-reddit"></div></a></li></ul></div></footer></main></body></html>