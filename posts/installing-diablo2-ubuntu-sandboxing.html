<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Installing Diablo II</title><meta name="description" content="Simplex Sigillum Veri"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="canonical" href="https://remusao.github.io/posts/installing-diablo2-ubuntu-sandboxing.html"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><style type="text/css">body{color:#2f2f2f;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen-Sans,Ubuntu,Cantarell,'Helvetica Neue',sans-serif;line-height:1.6em;margin:20px auto;max-width:40rem;padding:0 1.5em;text-rendering:optimizeLegibility}h1{line-height:1.1em}h2{border-bottom:1px solid #eaecef;padding-bottom:.5em}h1,h2,h3{padding-top:.7em}.header{color:#555;margin-top:-.8em}.main a{color:#3465a4}.main a:visited{color:#75507b}.main figcaption{color:#696f72;font-style:italic;line-height:2em;text-align:center}.main img{display:block;height:auto;margin:auto;padding-bottom:1em;padding-top:1em;width:90%}.main blockquote{border-left:thin solid #d3d7cf;color:#555;margin:10px;padding:0 0 0 1em}code{background-color:#f6f8fa;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:14px;line-height:20px;padding:.2em .4em}pre code{display:block;overflow-x:auto}.leave-comment-btn,summary{font-size:16px;font-weight:600}.leave-comment-btn{background-color:#28a745;background-image:linear-gradient(-180deg,#34d058,#28a745 90%);border:1px solid rgba(27,31,35,.2);border-radius:.25em;color:#fff;display:inline-block;margin-top:1.5em;padding:3px 10px;text-decoration:none}.leave-comment-btn:hover{box-shadow:0 1px 3px rgba(0,0,0,.24)}summary{color:#516ae8;cursor:pointer;line-height:1.2rem;margin-top:2rem}.comments-list{list-style:none;padding:0}.comment{background-color:#fff;border:1px solid #d1d5da;border-radius:3px;color:#24292e;font-size:16px;margin:1em 0}.meta{background-color:#f6f8fa;border-bottom:1px solid #d1d5da;color:#586069}.author,.date{text-decoration:none}.author{color:#24292e!important;font-weight:700}.date{color:#586069}.date:hover{color:#0366d6}.content{padding-left:20px}.avatar,.emoji{vertical-align:middle}.avatar{display:inline-block;margin-right:5px}.emoji{height:1.1em;width:1.1em}table{border-collapse:collapse;margin:auto}td,th{border:1px solid #ddd;padding:10px}tr:hover{background-color:#f5f5f5}footer{border-top:thin solid #d3d7cf;margin:1.5em 0}.share ul{text-align:right}.share li{display:inline;padding:0 5px}.share img{width:32px}.main a,header a{text-decoration:none}.hljs{background:#f8f8f8;color:#333;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-quote{color:#6a737d;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#d73a49}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:#005cc5}.hljs-doctag,.hljs-string{color:#032f62}.hljs-section,.hljs-selector-id,.hljs-title{color:#900}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#6f42c1}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><main><header><h1><a href="../"><span>../</span></a></h1></header><h1>Installing Diablo II</h1><section class="header"><div>└─ 2019-11-02 • <em>Reading time: ~8 minutes</em></div></section><article><div class="main"><picture><source srcset="../images/diablo2-banner.webp" type="image/webp"><source srcset="../images/diablo2-banner.png" type="image/png"><img src="../images/diablo2-banner.png" alt="Diablo II banner" style="width:100%"></picture><p>You might have heard the news: <em>Diablo IV</em> has been announced yesterday with a <a href="https://www.youtube.com/watch?v=9bRWIdOMfro" target="_blank" rel="noopener noreferrer">great cinematic</a>. What better time to install <s>Diablo III</s> <em>Diablo II</em> again and have some fun while waiting for the latest iteration of the franchise?</p><p>But… it’s 2019 and it is not always easy to install a game first released back in June 2000 (yes, that’s 19 years ago. Yes, you’re old)! In this post I will show you how to install <em>Diablo II</em> with its extension <em>Lord of Destruction</em> on Windows, MacOS and Linux (Ubuntu in this case), using <a href="https://www.winehq.org" target="_blank" rel="noopener noreferrer"><em>Wine</em></a> as well as optional sandboxing using <a href="https://github.com/netblue30/firejail" target="_blank" rel="noopener noreferrer"><em>firejail</em></a>! Let’s get to it…</p><p>If you are running <em>MacOS</em> or <em>Windows</em>, you’re in luck! The official game launcher already supports those platforms natively so you can install it and play straight away without extra hassle! Here are the links:</p><ul><li><a href="https://eu.battle.net/download/getLegacy?product=D2DV&amp;locale=enUS&amp;os=WIN" target="_blank" rel="noopener noreferrer">Windows – Diablo II</a>.</li><li><a href="https://eu.battle.net/download/getLegacy?product=D2XP&amp;locale=enUS&amp;os=WIN" target="_blank" rel="noopener noreferrer">Windows – Lord of Destruction</a>.</li><li><a href="https://eu.battle.net/download/getLegacy?product=D2DV&amp;locale=enUS&amp;os=MAC" target="_blank" rel="noopener noreferrer">MacOS – Diablo II</a>.</li><li><a href="https://eu.battle.net/download/getLegacy?product=D2XP&amp;locale=enUS&amp;os=MAC" target="_blank" rel="noopener noreferrer">MacOS – Lord of Destruction</a>.</li></ul><h2>Get a License Key</h2><p>First of, you will need a valid CD-Key for the game (both <em>Diablo II</em> and its extension <em>LOD</em>). You can get them on the <a href="https://www.blizzard.com" target="_blank" rel="noopener noreferrer">official website</a> for about <em>20 euros</em> from Blizzard (yes, that’s a shame, the game used to cost <em>15.99</em> euros a few years ago!), or by registering your old keys if you still have the box version (which is what I did).</p><h2>Get the Launcher</h2><p>The second step is to download the Windows launcher of the game which we will use in conjunction with Wine to make it work on Linux. You can find the links on <a href="https://www.blizzard.com/en-us/download/" target="_blank" rel="noopener noreferrer">Blizzard’s website</a>. Here they are if you want to save some time:</p><ul><li><a href="https://eu.battle.net/download/getLegacy?product=D2DV&amp;locale=enUS&amp;os=WIN" target="_blank" rel="noopener noreferrer">Downloader_Diablo2_enUS.exe</a></li><li><a href="https://eu.battle.net/download/getLegacy?product=D2XP&amp;locale=enUS&amp;os=WIN" target="_blank" rel="noopener noreferrer">Downloader_Diablo2_Lord_of_Destruction_enUS.exe</a></li></ul><h2>Installing Latest Wine</h2><p>You could probably use the stock version of wine which ships with your Linux distribution but I always like to get the latest shiny version so here we go. If you use another distribution than Ubuntu, you can <em>skip this section completely</em>. From the <a href="https://wiki.winehq.org/Ubuntu" target="_blank" rel="noopener noreferrer">official wiki</a>:</p><blockquote><p>If your system is 64 bit, enable 32 bit architecture (if you haven’t already):</p><pre class="code" data-lang="sh"><code>sudo dpkg --add-architecture i386
</code></pre><p>Download and add the repository key:</p><pre class="code" data-lang="sh"><code>wget -nc https://dl.winehq.org/wine-builds/winehq.key
sudo apt-key add winehq.key
</code></pre></blockquote><p>Now you need to get the repository matching your release of Ubuntu. For me it was <code>bionic</code> (you can get yours using command <code>lsb_release -cs</code>), but check official instructions if that does not correspond to yours.</p><blockquote><pre class="code" data-lang="sh"><code>sudo apt-add-repository <span class="hljs-string">&#x27;deb https://dl.winehq.org/wine-builds/ubuntu/ bionic main&#x27;</span>
sudo apt install --install-recommends winehq-stable
</code></pre></blockquote><p>Note that I could not install <code>winehq-stable</code> directly and had to first install one of its dependencies manually. If you encounter an error, then try to run the following command before installing <code>winehq-stable</code> again:</p><pre class="code" data-lang="sh"><code>sudo apt install libasound2-plugins:i386
</code></pre><p>I am using <strong>version 4.0.2</strong> of <code>wine</code>.</p><h2>[Optional] Installing Firejail</h2><p>Firejail has a special place in my heart. It allows to sandbox any program running on Linux using kernel capabilities (some of them you might already know from Docker world). From the <a href="https://github.com/netblue30/firejail" target="_blank" rel="noopener noreferrer">official repository</a>:</p><blockquote><p>Firejail is a SUID sandbox program that reduces the risk of security breaches by restricting the running environment of untrusted applications using Linux namespaces, seccomp-bpf and Linux capabilities. It allows a process and all its descendants to have their own private view of the globally shared kernel resources, such as the network stack, process table, mount table. Firejail can work in a SELinux or AppArmor environment, and it is integrated with Linux Control Groups.</p></blockquote><p>There is an extra benefit in my opinion. You can specify a different directory to be used as the <code>~/</code> (home) folder of each program you run in a sandbox instead of your real home. This is great because it allows to keep files and folders of each app nicely isolated. For example I run <code>thunderbird</code>, <code>cliqz</code> and other programs in sandboxes and assign them different homes like <code>~/.sandboxes/thunderbird</code>, <code>~/.sandboxed/cliqz</code>, etc. This means that I can clean-up all files for each program by simply deleting their respective folders! That’s super convenient.</p><p>Let’s get back to <em>Diablo II</em>! Install Firejail from your official Linux repositories (or <a href="https://github.com/netblue30/firejail#compile-and-install" target="_blank" rel="noopener noreferrer">compile it yourself</a> if that’s your thing… that’s what I did). I am currently running <strong>version 0.9.61</strong> but I assume this should work with other versions as well.</p><p>Firejail comes with a preset for sandboxing wine which you can find at <code>/etc/firejail/wine.profile</code>. That’s the one we will be using!</p><h2>Preparing Wine Home Folder</h2><p>Let’s now prepare the <code>wine</code> folder that we will use in our Firejail sandbox:</p><pre class="code" data-lang="sh"><code>mkdir -p ~/.sandboxes/wine
</code></pre><p>Copy the two downloaders into <code>~/.sandboxes/wine/</code>:</p><ul><li><code>~/.sandboxes/wine/Downloader_Diablo2_enUS.exe</code></li><li><code>~/.sandboxes/wine/Downloader_Diablo2_Lord_of_Destruction_enUS.exe</code></li></ul><h2>Installing Diablo II</h2><p>We can now proceed and install <em>Diablo II</em> base game:</p><pre class="code" data-lang="sh"><code>firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/Downloader_Diablo2_enUS.exe
</code></pre><p>Here are screenshots for each step of the installation process:</p><figure><a href="../images/diablo2-install-1.png"><picture><source srcset="../images/diablo2-install-1.webp" type="image/webp"><source srcset="../images/diablo2-install-1.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-1.png" alt="Press 'OK' to select default download folder." style="width:100%"></picture></a><figcaption>Press 'OK' to select default download folder.</figcaption></figure><figure><a href="../images/diablo2-install-2.png"><picture><source srcset="../images/diablo2-install-2.webp" type="image/webp"><source srcset="../images/diablo2-install-2.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-2.png" alt="Enjoy the murloc view while downloading the game..." style="width:100%"></picture></a><figcaption>Enjoy the murloc view while downloading the game...</figcaption></figure><figure><a href="../images/diablo2-install-3.png"><picture><source srcset="../images/diablo2-install-3.webp" type="image/webp"><source srcset="../images/diablo2-install-3.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-3.png" alt="Press 'Install Diablo II'." style="width:100%"></picture></a><figcaption>Press 'Install Diablo II'.</figcaption></figure><figure><a href="../images/diablo2-install-7.png"><picture><source srcset="../images/diablo2-install-7.webp" type="image/webp"><source srcset="../images/diablo2-install-7.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-7.png" alt="Accept license." style="width:100%"></picture></a><figcaption>Accept license.</figcaption></figure><figure><a href="../images/diablo2-install-6.png"><picture><source srcset="../images/diablo2-install-6.webp" type="image/webp"><source srcset="../images/diablo2-install-6.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-6.png" alt="Enter you CD-Key." style="width:100%"></picture></a><figcaption>Enter you CD-Key.</figcaption></figure><figure><a href="../images/diablo2-install-5.png"><picture><source srcset="../images/diablo2-install-5.webp" type="image/webp"><source srcset="../images/diablo2-install-5.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-5.png" alt="Press 'OK' to select default destination directory." style="width:100%"></picture></a><figcaption>Press 'OK' to select default destination directory.</figcaption></figure><figure><a href="../images/diablo2-install-4.png"><picture><source srcset="../images/diablo2-install-4.webp" type="image/webp"><source srcset="../images/diablo2-install-4.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-4.png" alt="It's so fast that I don't know how I managed to make a screenshot!" style="width:100%"></picture></a><figcaption>It's so fast that I don't know how I managed to make a screenshot!</figcaption></figure><p>Press <strong>Back</strong> then <strong>Exit Installer</strong>. Time to install the extension!</p><h2>Installing Lord of Destruction</h2><pre class="code" data-lang="sh"><code>firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/Downloader_Diablo2_Lord_of_Destruction_enUS.exe
</code></pre><p>I will spare you all the screenshots since the procedure is identical to the base version of the game. When you are done, resist the damning temptation and <strong>exit the installer</strong>; there is one last thing we have to take care of…</p><h2>Install Latest Patch</h2><p>Before starting the game and finally start playing, you will want to install the latest patch for Diablo II: <strong>1.14d</strong>. Usually it can be done by accessing <a href="http://Battle.net" target="_blank" rel="noopener noreferrer">Battle.net</a> in-game but for some reason it failed in my case because of a corrupted file… Luckily, it’s possible to download and install the update manually. Get it from the following link:</p><ul><li><a href="http://ftp.blizzard.com/pub/diablo2exp/patches/PC/LODPatch_114d.exe" target="_blank" rel="noopener noreferrer">LODPatch_114d.exe</a></li></ul><p>Copy it into your <code>wine</code> home folder: <code>~/.sandboxes/wine/LODPatch_114d.exe</code>. Then start the update with:</p><pre class="code" data-lang="sh"><code>firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/LODPatch_114d.exe
</code></pre><h2>Let’s Play!</h2><p>Finally, to launch the game you can use the following command:</p><pre class="code" data-lang="sh"><code>firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/.wine/drive_c/Program\ Files\ \(x86\)/Diablo\ II/Diablo\ II.exe
</code></pre><p>Have fun!</p><figure><a href="../images/diablo2-cows.jpg"><picture><source srcset="../images/diablo2-cows.webp" type="image/webp"><source srcset="../images/diablo2-cows.jpg" type="image/jpeg"><img loading="lazy" src="../images/diablo2-cows.jpg" alt="There is no such thing as the 'Cow Level'." style="width:100%"></picture></a><figcaption>There is no such thing as the 'Cow Level'.</figcaption></figure></div><div class="comments"><span><a class="leave-comment-btn" href="https://github.com/remusao/remusao.github.io/issues/51" title="https://github.com/remusao/remusao.github.io/issues/51" target="_blank" rel="noopener noreferrer">Leave a comment on GitHub</a></span><details><summary>25 comments</summary><ul class="comments-list"><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/5502068.jpg" width="40" height="40"> <a class="author" href="https://github.com/lucamosca1" title="lucamosca1" target="_blank" rel="noopener noreferrer">lucamosca1</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599208476" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599208476" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>Just a note since I reinstalled it in this quarantine period :D After you install diablo 2 con windows pc, to play on <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> you need to install the latest patch. This process is automatically handled by game, but you need to run as administrator to install this patch. So, install D2, then run it the first time as admin and connect to <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> install latest patch</p><p>HTH</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/49915827.jpg" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599259375" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599259375" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>I keep getting this error -</p><p>Error: inaccessible profile file: /etc/firejail/wine.profile</p><p>I am located in etc/firejail/ - I created the directory /sandboxes/wine and copied in the downloader. I navigate to the download files via terminal and run the prompt to install but get the above error.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599265528" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599265528" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>@Th3-Think3r could you maybe paste the exact commands you ran so that I can check? Also, can you check what you have in /etc/firejail as well as which version of firejail you have installed?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/49915827.jpg" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599266627" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599266627" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>Alright I got it working - I got through my CD-key</p><p>Now, when I click “Play Diablo” it will launch. When trying to patch through <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> i get the following error.</p><p><a rel="noopener noreferrer" href="https://ibb.co/jLNHcfK">https://ibb.co/jLNHcfK</a></p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271722" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271722" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>@Th3-Think3r yes this is expected unfortunately and this can be solved by downloading the patch and installing manually before launching the game for the first time. There are a few more details in the last section of the article.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/49915827.jpg" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271795" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271795" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p><img alt="Battle" src="https://user-images.githubusercontent.com/49915827/76711706-294f6d00-66e0-11ea-977e-85d0c762291a.png"> Now I am getting this error - lol</p><p>I have installed both d2 and d2lod - have them both patched up. I can play single player fine but when connecting to battlenet the game is crashing</p><p>I really want to play this game lol - I see tons of other people posting about it crashing at <a rel="noopener noreferrer" href="http://Battle.net">Battle.net</a> login screen but I haven’t really seen a solid fix.</p><p>I dont want to buy windows just to play D2 lol</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599276468" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599276468" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>@Th3-Think3r as far as I remember there is a way to get it working by deleting a specific file in D2 install folder. I will try to find this trick again tomorrow and update my comment.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/49915827.jpg" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599281390" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599281390" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>I would really appreciate it. I’ve been trying to get this to work for hours. Only needing to do this because I didnt know newest iOS doesn’t work with D2 either…</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/39827752.jpg" width="40" height="40"> <a class="author" href="https://github.com/karsten-cliqz" title="karsten-cliqz" target="_blank" rel="noopener noreferrer">karsten-cliqz</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599398636" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599398636" target="_blank" rel="noopener noreferrer">5 months ago</a></div><div class="content"><p>@Th3-Think3r I’ve had this issue as well and what solved it for me is this: when launching D2 (via wine) it sort of matters which folder you’re in. An <code>mpq</code> file with a long name like <code>8F4AB75......mpg</code> is created when you’re trying to connect to the <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> (or maybe even earlier, I can’t recall). So before I started the game, I moved to <code>~/.wine/drive_c/Program Files (x86)/DiabloII/</code> (may be different depending on where/how you installed the game and wine - also I didn’t use firejail) and <em>deleted the existing file</em>. Now when I connect to <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> a new file is created <strong>in the folder I’m in when I start diablo</strong>. Note that when you start the game from a different folder later on though, you might have trouble again. I just added an alias to <code>.bash_aliases</code> that switched to the folder and started the game from there`. Let me know if this helps please, I’ve stopped playing some time ago so this is from memory.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/60417421.jpg" width="40" height="40"> <a class="author" href="https://github.com/JoJohn86" title="JoJohn86" target="_blank" rel="noopener noreferrer">JoJohn86</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-649908076" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-649908076" target="_blank" rel="noopener noreferrer">a month ago</a></div><div class="content"><p>im using the apps wine and playonlinux. i was able to install Diablo II but trying to get the LOD i keep getting errors. it’s saying i need to download diablo 2. it sees as if its missing and its not. i was wondering if you guys could help me. if i have to delete it all and try with firejail i guess i could but it was pretty ticky getting the installers to get this far</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/60417421.jpg" width="40" height="40"> <a class="author" href="https://github.com/JoJohn86" title="JoJohn86" target="_blank" rel="noopener noreferrer">JoJohn86</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-649908688" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-649908688" target="_blank" rel="noopener noreferrer">a month ago</a></div><div class="content"><pre data-lang="sh" class="code"><code>joshua@AMD:~$ wine <span class="hljs-string">'/media/joshua/Game Disk/Games/Diablo II/Diablo II.exe'</span>
joshua@AMD:~$ wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
joshua@AMD:~$ wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
joshua@AMD:~$ <span class="hljs-string">'/home/joshua/Downloads/Downloader_Diablo2_Lord_of_Destruction_enUS.exe'</span>
bash: /home/joshua/Downloads/Downloader_Diablo2_Lord_of_Destruction_enUS.exe: Permission denied
joshua@AMD:~$ wine <span class="hljs-string">'/home/joshua/Downloads/Downloader_Diablo2_Lord_of_Destruction_enUS.exe'</span> 
Could not find Wine Gecko. HTML rendering will be disabled.
003b:err:mshtml:create_document_object Failed to init Gecko, returning CLASS_E_CLASSNOTAVAILABLE
joshua@AMD:~$ 001f:err:appbar:appbar_wndproc couldn<span class="hljs-string">'t open calling process
001f:err:appbar:appbar_wndproc couldn'</span>t open calling process
001f:err:appbar:appbar_wndproc couldn<span class="hljs-string">'t open calling process
001f:err:appbar:appbar_wndproc couldn'</span>t open calling process
joshua@AMD:~$ 001f:err:appbar:appbar_wndproc couldn<span class="hljs-string">'t open calling process
001f:err:appbar:appbar_wndproc couldn'</span>t open calling process
001f:err:appbar:appbar_wndproc couldn<span class="hljs-string">'t open calling process
001f:err:appbar:appbar_wndproc couldn'</span>t open calling process
joshua@AMD:~$ 002b:err:d3d:wined3d_device_cleanup Device released with resources still bound.
002b:err:d3d:wined3d_device_cleanup Leftover resource 0x42230d8 with <span class="hljs-built_in">type</span> WINED3D_RTYPE_TEXTURE_2D (0x3).
joshua@AMD:~$ wine <span class="hljs-string">'/home/joshua/Downloads/Downloader_Diablo2_Lord_of_Destruction_enUS.exe'</span> 
Could not find Wine Gecko. HTML rendering will be disabled.
0009:err:mshtml:create_document_object Failed to init Gecko, returning CLASS_E_CLASSNOTAVAILABLE
wine: Read access denied <span class="hljs-keyword">for</span> device L<span class="hljs-string">"\\??\\Z:\\"</span>, FS volume label and serial are not available.
</code></pre></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-650564011" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-650564011" target="_blank" rel="noopener noreferrer">a month ago</a></div><div class="content"><p>Hi @JoJohn86, I have had success in the past installing Diablo 2 using PlayOnLinux but it’s been a while. If you want to try with Wine only, you do not need to go the Firejail road (it’s more like a bonus). Can you maybe tell me which system you are working on and which version of <code>wine</code> you have?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/60417421.jpg" width="40" height="40"> <a class="author" href="https://github.com/JoJohn86" title="JoJohn86" target="_blank" rel="noopener noreferrer">JoJohn86</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-650580583" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-650580583" target="_blank" rel="noopener noreferrer">a month ago</a></div><div class="content"><p>i got it. the patch that downloads from <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> is broken so i just flash drived the whole D2 LOD folder off my windows computer and moved it to here</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/32760239.jpg" width="40" height="40"> <a class="author" href="https://github.com/frbrz" title="frbrz" target="_blank" rel="noopener noreferrer">frbrz</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657252213" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657252213" target="_blank" rel="noopener noreferrer">19 days ago</a></div><div class="content"><p>Hi @remusao, have you tried PlugY (<a rel="noopener noreferrer" href="https://www.youtube.com/watch?v=Ml9W6zezO_o">https://www.youtube.com/watch?v=Ml9W6zezO_o</a>, <a rel="noopener noreferrer" href="http://plugy.free.fr/en/index.html">http://plugy.free.fr/en/index.html</a>) with your Diablo II installation? People say this mod adds just Quality of Life features and that is so good they don’t want to go back to vanilla. What do you think?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657400180" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657400180" target="_blank" rel="noopener noreferrer">19 days ago</a></div><div class="content"><p>Hi @frbrz, I did not try Plugy personally but I heard good things about it as well. I usually prefer playing the vanilla Diablo 2 experience, though. Probably out of nostalgia :)</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/32760239.jpg" width="40" height="40"> <a class="author" href="https://github.com/frbrz" title="frbrz" target="_blank" rel="noopener noreferrer">frbrz</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657402247" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657402247" target="_blank" rel="noopener noreferrer">19 days ago</a></div><div class="content"><p>I read somewhere that, if you run plugy inside the same wine bottle than diablo, it will work. I really don’t understand much about this topic. This link has some information, <a rel="noopener noreferrer" href="https://forum.winehq.org/viewtopic.php?t=30214&amp;p=114654">https://forum.winehq.org/viewtopic.php?t=30214&amp;p=114654</a> Do you think is transferable to your instructions somehow?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657407328" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657407328" target="_blank" rel="noopener noreferrer">19 days ago</a></div><div class="content"><p>In theory it should work. But as far as I can see Plugy does not support the latest Diablo 2 patch. On the official page the latest release is compatible with Diablo 2 version 1.13, but the latest Diabloe 2 patch is 1.14. So one way to make it work would be to install Diablo 2 in Wine as usual, but only install updates (probably manually) up to 1.13. Then install Plugy in the same wine environment. I did not try but I assume it should work. Also keep in mind that you might not be able to play online either (so only solo mode or LAN).</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/32760239.jpg" width="40" height="40"> <a class="author" href="https://github.com/frbrz" title="frbrz" target="_blank" rel="noopener noreferrer">frbrz</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657679630" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-657679630" target="_blank" rel="noopener noreferrer">18 days ago</a></div><div class="content"><p>Uh… that’s very complicated for my abilities. I will need to run vanilla or search for another option. Thank you.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-659965087" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-659965087" target="_blank" rel="noopener noreferrer">15 days ago</a></div><div class="content"><p>@frbrz Were you able to install the base Diablo 2 game following the instructions in this article? Is so, I could try to add a dedicated section to install Plugy with similarly detailed explanations. Would that be helpful?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/32760239.jpg" width="40" height="40"> <a class="author" href="https://github.com/frbrz" title="frbrz" target="_blank" rel="noopener noreferrer">frbrz</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-659977582" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-659977582" target="_blank" rel="noopener noreferrer">15 days ago</a></div><div class="content"><p>I installed Diablo 2 using Wine 5.0. Wine was installed using your instructions but I skipped Firejail, because I didn’t see an advantage for gaming with legitimate files. The game ran perfectly. But I wanted to play the game in a higher resolution resolution, 800x600 is too low. I ran Median-XL, which includes higher resolutions, in a computer with Windows some days later because in Linux it’s a nightmare. It’s cool, but some changes to the interface are not. I know it sounds spoiled. People using higher resolutions are using D2 v1.14 and a Glide wrapper, but is a lot of work and I don’t have v1.14 files (<a rel="noopener noreferrer" href="https://www.youtube.com/watch?v=6fV7boMaM-s">https://www.youtube.com/watch?v=6fV7boMaM-s</a>). I gave up. If you can run Median with your instructions it would be nice. I don’t know.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/56554201.jpg" width="40" height="40"> <a class="author" href="https://github.com/degenerate36" title="degenerate36" target="_blank" rel="noopener noreferrer">degenerate36</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-660999712" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-660999712" target="_blank" rel="noopener noreferrer">11 days ago</a></div><div class="content"><p>i tried to do this using wine to run the .exe file from <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> but when i click “install diablo 2” on the installer, nothing happens</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/1299873.jpg" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-661213597" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-661213597" target="_blank" rel="noopener noreferrer">11 days ago</a></div><div class="content"><p>@degenerate36 Can you maybe share the operating system you are using as well as version of wine? Also maybe the exact command you ran locally and any stack trace you might have in the terminal?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/56554201.jpg" width="40" height="40"> <a class="author" href="https://github.com/degenerate36" title="degenerate36" target="_blank" rel="noopener noreferrer">degenerate36</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-662077938" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-662077938" target="_blank" rel="noopener noreferrer">10 days ago</a></div><div class="content"><p>wine-3.6, Ubuntu 18.04 LTS(Bionic Beaver), i ran the command “wine Diablo.exe” I changed the name of the .exe file to Diablo for practicality (there’s probably some big thing im missing or don’t even know about)</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/2358980.jpg" width="40" height="40"> <a class="author" href="https://github.com/LouisDinatale" title="LouisDinatale" target="_blank" rel="noopener noreferrer">LouisDinatale</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-662622412" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-662622412" target="_blank" rel="noopener noreferrer">9 days ago</a></div><div class="content"><p>@karsten-cliqz I tried to delete the file and ran from the correct folder but im still hanging at logging in to <a rel="noopener noreferrer" href="http://battle.net">battle.net</a>.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="/images/comments/avatar/2358980.jpg" width="40" height="40"> <a class="author" href="https://github.com/LouisDinatale" title="LouisDinatale" target="_blank" rel="noopener noreferrer">LouisDinatale</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-664576435" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-664576435" target="_blank" rel="noopener noreferrer">4 days ago</a></div><div class="content"><blockquote><p>@Th3-Think3r I’ve had this issue as well and what solved it for me is this: when launching D2 (via wine) it sort of matters which folder you’re in. An <code>mpq</code> file with a long name like <code>8F4AB75......mpg</code> is created when you’re trying to connect to the <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> (or maybe even earlier, I can’t recall). So before I started the game, I moved to <code>~/.wine/drive_c/Program Files (x86)/DiabloII/</code> (may be different depending on where/how you installed the game and wine - also I didn’t use firejail) and <em>deleted the existing file</em>. Now when I connect to <a rel="noopener noreferrer" href="http://battle.net">battle.net</a> a new file is created <strong>in the folder I’m in when I start diablo</strong>. Note that when you start the game from a different folder later on though, you might have trouble again. I just added an alias to <code>.bash_aliases</code> that switched to the folder and started the game from there`. Let me know if this helps please, I’ve stopped playing some time ago so this is from memory.</p></blockquote><p>I have tried this again with not luck, do you know if you need to delete the original .mpg file or just the file in the folder you are launching from?</p></div></div></li></ul></details></div></article><footer><div class="share"><ul><li><a href="https://www.facebook.com/sharer/sharer.php?u=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&t=Installing Diablo II" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Share on Facebook" src="/images/social_flat_rounded_rects_svg/Facebook.svg"><a></a></li><li><a href="https://twitter.com/share?url=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&text=Installing Diablo II&via=Pythux" title="Tweet" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Tweet" src="/images/social_flat_rounded_rects_svg/Twitter.svg"><a></a></li><li><a href="https://getpocket.com/save?url=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&title=Installing Diablo II" title="Add to Pocket" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Add to Pocket" src="/images/social_flat_rounded_rects_svg/Pocket.svg"><a></a></li><li><a href="https://news.ycombinator.com/submitlink?u=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&t=Installing Diablo II" title="Submit to Hacker News" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Hacker News" src="/images/social_flat_rounded_rects_svg/HackerNews.svg"><a></a></li><li><a href="https://www.reddit.com/submit?url=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&title=Installing Diablo II" title="Submit to Reddit" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Reddit" src="/images/social_flat_rounded_rects_svg/Reddit.svg"><a></a></li></ul></div></footer></main></body></html>