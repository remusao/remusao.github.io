<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Installing Diablo II in 2019</title><meta name="description" content="Simplex Sigillum Veri"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="canonical" href="https://remusao.github.io/posts/installing-diablo2-ubuntu-sandboxing.html"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><style type="text/css">@font-face{font-display:swap;font-family:'Open Sans';font-style:italic;font-weight:400;src:url(/fonts/OpenSans_italic_400.woff2) format('woff2')}@font-face{font-display:swap;font-family:'Open Sans';font-style:italic;font-weight:700;src:url(/fonts/OpenSans_italic_700.woff2) format('woff2')}@font-face{font-display:swap;font-family:'Open Sans';font-style:normal;font-weight:400;src:url(/fonts/OpenSans_normal_400.woff2) format('woff2')}@font-face{font-display:swap;font-family:'Open Sans';font-style:normal;font-weight:700;src:url(/fonts/OpenSans_normal_700.woff2) format('woff2')}body{color:#2f2f2f;font-family:'Open Sans',sans-serif;font-size:95%;line-height:1.6em;margin:20px auto;max-width:42em;padding:0 1em}@media (min-width:760px){body{font-size:100%}}@media (min-width:1024px){body{font-size:105%}}h1,h2,h3{font-size:1.7em;font-weight:400;padding-top:.7em}h2,h3{font-size:1.5em}h3{font-size:1.2em}.header,.main figcaption{color:#555;font-style:italic}.main a{color:#3465a4}.main a:visited{color:#75507b}.main figcaption{color:#696f72;line-height:2em;text-align:center}.main img{display:block;height:auto;margin:auto;padding-bottom:1em;padding-top:1em;width:90%}.main blockquote{border-left:thin solid #d3d7cf;color:#555;margin:10px;padding:0 0 0 1em}@font-face{font-display:swap;font-family:'Inconsolata';font-style:normal;font-weight:400;src:url(/fonts/Inconsolata.woff2) format('truetype')}code{background-color:#f3f4f5;font-family:'Inconsolata';line-height:1.2em}pre code{display:block;overflow-x:auto;padding:8px}.leave-comment-btn,summary{font-size:15px;font-weight:600}.leave-comment-btn{background-color:#28a745;background-image:linear-gradient(-180deg,#34d058,#28a745 90%);border:1px solid rgba(27,31,35,.2);border-radius:.25em;color:#fff;display:inline-block;margin-top:1.5em;padding:3px 10px;text-decoration:none}.leave-comment-btn:hover{box-shadow:0 1px 3px rgba(0,0,0,.24)}summary{color:#516ae8;cursor:pointer;line-height:1.2rem;margin-top:2rem}.comments-list{list-style:none;padding:0}.comment{background-color:#fff;border:1px solid #d1d5da;border-radius:3px;color:#24292e;font-size:15px;margin:1em 0}.meta{background-color:#f6f8fa;border-bottom:1px solid #d1d5da;color:#586069}.author,.date{text-decoration:none}.author{color:#24292e!important;font-weight:700}.date{color:#586069}.date:hover{color:#0366d6}.content{padding-left:20px}.avatar,.emoji{vertical-align:middle}.avatar{display:inline-block;margin-right:5px}.emoji{height:1.1em;width:1.1em}table{border-collapse:collapse;margin:auto}td,th{border:1px solid #ddd;padding:10px}tr:hover{background-color:#f5f5f5}footer{border-top:thin solid #d3d7cf;margin:1.5em 0}.share ul{text-align:right}.share li{display:inline;padding:0 5px}.share img{width:2em}.main a,header a{text-decoration:none}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag{color:#333;font-weight:700}.hljs-subst{color:#333}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><main><header><h1><a href="../"><span>../</span></a></h1></header><h1>Installing Diablo II in 2019</h1><section class="header"><div>2019-11-02 | <em>Reading time: ~8 minutes</em></div></section><article><div class="main"><picture><source srcset="../images/diablo2-banner.webp" type="image/webp"><source srcset="../images/diablo2-banner.png" type="image/png"><img loading="lazy" src="../images/diablo2-banner.png" alt="Diablo II" style="width:100%"></picture><p>You might have heard the news: <em>Diablo IV</em> has been announced yesterday with a <a href="https://www.youtube.com/watch?v=9bRWIdOMfro">great cinematic</a>. What better time to install <del>Diablo III</del> <em>Diablo II</em> again and have some fun while waiting for the latest iteration of the franchise?</p><p>But… it’s 2019 and it is not always easy to install a game first released back in June 2000 (yes, that’s 19 years ago. Yes, you’re old)! In this post I will show you how to install <em>Diablo II</em> with its extension <em>Lord of Destruction</em> on Windows, MacOS and Linux (Ubuntu in this case), using <a href="https://www.winehq.org"><em>Wine</em></a> as well as optional sandboxing using <a href="https://github.com/netblue30/firejail"><em>firejail</em></a>! Let’s get to it…</p><p>If you are running <em>MacOS</em> or <em>Windows</em>, you’re in luck! The official game launcher already supports those platforms natively so you can install it and play straight away without extra hassle! Here are the links:</p><ul><li><a href="https://eu.battle.net/download/getLegacy?product=D2DV&amp;locale=enUS&amp;os=WIN">Windows – Diablo II</a>.</li><li><a href="https://eu.battle.net/download/getLegacy?product=D2XP&amp;locale=enUS&amp;os=WIN">Windows – Lord of Destruction</a>.</li><li><a href="https://eu.battle.net/download/getLegacy?product=D2DV&amp;locale=enUS&amp;os=MAC">MacOS – Diablo II</a>.</li><li><a href="https://eu.battle.net/download/getLegacy?product=D2XP&amp;locale=enUS&amp;os=MAC">MacOS – Lord of Destruction</a>.</li></ul><h2 id="get-a-license-key">Get a License Key</h2><p>First of, you will need a valid CD-Key for the game (both <em>Diablo II</em> and its extension <em>LOD</em>). You can get them on the <a href="https://www.blizzard.com">official website</a> for about <em>20 euros</em> from Blizzard (yes, that’s a shame, the game used to cost <em>15.99</em> euros a few years ago!), or by registering your old keys if you still have the box version (which is what I did).</p><h2 id="get-the-launcher">Get the Launcher</h2><p>The second step is to download the Windows launcher of the game which we will use in conjunction with Wine to make it work on Linux. You can find the links on <a href="https://www.blizzard.com/en-us/download/">Blizzard’s website</a>. Here they are if you want to save some time:</p><ul><li><a href="https://eu.battle.net/download/getLegacy?product=D2DV&amp;locale=enUS&amp;os=WIN">Downloader_Diablo2_enUS.exe</a></li><li><a href="https://eu.battle.net/download/getLegacy?product=D2XP&amp;locale=enUS&amp;os=WIN">Downloader_Diablo2_Lord_of_Destruction_enUS.exe</a></li></ul><h2 id="installing-latest-wine">Installing Latest Wine</h2><p>You could probably use the stock version of wine which ships with your Linux distribution but I always like to get the latest shiny version so here we go. If you use another distribution than Ubuntu, you can <em>skip this section completely</em>. From the <a href="https://wiki.winehq.org/Ubuntu">official wiki</a>:</p><blockquote><p>If your system is 64 bit, enable 32 bit architecture (if you haven’t already):</p><pre><code class="language-sh">sudo dpkg --add-architecture i386</code></pre><p>Download and add the repository key:</p><pre><code class="language-sh">wget -nc https://dl.winehq.org/wine-builds/winehq.key
sudo apt-key add winehq.key</code></pre></blockquote><p>Now you need to get the repository matching your release of Ubuntu. For me it was <code>bionic</code> (you can get yours using command <code>lsb_release -cs</code>), but check official instructions if that does not correspond to yours.</p><blockquote><pre><code class="language-sh">sudo apt-add-repository <span class="hljs-string">'deb https://dl.winehq.org/wine-builds/ubuntu/ bionic main'</span>
sudo apt install --install-recommends winehq-stable</code></pre></blockquote><p>Note that I could not install <code>winehq-stable</code> directly and had to first install one of its dependencies manually. If you encounter an error, then try to run the following command before installing <code>winehq-stable</code> again:</p><pre><code class="language-sh">sudo apt install libasound2-plugins:i386</code></pre><p>I am using <strong>version 4.0.2</strong> of <code>wine</code>.</p><h2 id="optional-installing-firejail">[Optional] Installing Firejail</h2><p>Firejail has a special place in my heart. It allows to sandbox any program running on Linux using kernel capabilities (some of them you might already know from Docker world). From the <a href="https://github.com/netblue30/firejail">official repository</a>:</p><blockquote><p>Firejail is a SUID sandbox program that reduces the risk of security breaches by restricting the running environment of untrusted applications using Linux namespaces, seccomp-bpf and Linux capabilities. It allows a process and all its descendants to have their own private view of the globally shared kernel resources, such as the network stack, process table, mount table. Firejail can work in a SELinux or AppArmor environment, and it is integrated with Linux Control Groups.</p></blockquote><p>There is an extra benefit in my opinion. You can specify a different directory to be used as the <code>~/</code> (home) folder of each program you run in a sandbox instead of your real home. This is great because it allows to keep files and folders of each app nicely isolated. For example I run <code>thunderbird</code>, <code>cliqz</code> and other programs in sandboxes and assign them different homes like <code>~/.sandboxes/thunderbird</code>, <code>~/.sandboxed/cliqz</code>, etc. This means that I can clean-up all files for each program by simply deleting their respective folders! That’s super convenient.</p><p>Let’s get back to <em>Diablo II</em>! Install Firejail from your official Linux repositories (or <a href="https://github.com/netblue30/firejail#compile-and-install">compile it yourself</a> if that’s your thing… that’s what I did). I am currently running <strong>version 0.9.61</strong> but I assume this should work with other versions as well.</p><p>Firejail comes with a preset for sandboxing wine which you can find at <code>/etc/firejail/wine.profile</code>. That’s the one we will be using!</p><h2 id="preparing-wine-home-folder">Preparing Wine Home Folder</h2><p>Let’s now prepare the <code>wine</code> folder that we will use in our Firejail sandbox:</p><pre><code class="language-sh">mkdir -p ~/.sandboxes/wine</code></pre><p>Copy the two downloaders into <code>~/.sandboxes/wine/</code>:</p><ul><li><code>~/.sandboxes/wine/Downloader_Diablo2_enUS.exe</code></li><li><code>~/.sandboxes/wine/Downloader_Diablo2_Lord_of_Destruction_enUS.exe</code></li></ul><h2 id="installing-diablo-ii">Installing Diablo II</h2><p>We can now proceed and install <em>Diablo II</em> base game:</p><pre><code class="language-sh">firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/Downloader_Diablo2_enUS.exe</code></pre><p>Here are screenshots for each step of the installation process:</p><figure><a href="../images/diablo2-install-1.png"><picture><source srcset="../images/diablo2-install-1.webp" type="image/webp"><source srcset="../images/diablo2-install-1.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-1.png" alt="Press 'OK' to select default download folder." style="width:100%"></picture></a><figcaption>Press 'OK' to select default download folder.</figcaption></figure><figure><a href="../images/diablo2-install-2.png"><picture><source srcset="../images/diablo2-install-2.webp" type="image/webp"><source srcset="../images/diablo2-install-2.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-2.png" alt="Enjoy the murloc view while downloading the game..." style="width:100%"></picture></a><figcaption>Enjoy the murloc view while downloading the game...</figcaption></figure><figure><a href="../images/diablo2-install-3.png"><picture><source srcset="../images/diablo2-install-3.webp" type="image/webp"><source srcset="../images/diablo2-install-3.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-3.png" alt="Press 'Install Diablo II'." style="width:100%"></picture></a><figcaption>Press 'Install Diablo II'.</figcaption></figure><figure><a href="../images/diablo2-install-7.png"><picture><source srcset="../images/diablo2-install-7.webp" type="image/webp"><source srcset="../images/diablo2-install-7.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-7.png" alt="Accept license." style="width:100%"></picture></a><figcaption>Accept license.</figcaption></figure><figure><a href="../images/diablo2-install-6.png"><picture><source srcset="../images/diablo2-install-6.webp" type="image/webp"><source srcset="../images/diablo2-install-6.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-6.png" alt="Enter you CD-Key." style="width:100%"></picture></a><figcaption>Enter you CD-Key.</figcaption></figure><figure><a href="../images/diablo2-install-5.png"><picture><source srcset="../images/diablo2-install-5.webp" type="image/webp"><source srcset="../images/diablo2-install-5.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-5.png" alt="Press 'OK' to select default destination directory." style="width:100%"></picture></a><figcaption>Press 'OK' to select default destination directory.</figcaption></figure><figure><a href="../images/diablo2-install-4.png"><picture><source srcset="../images/diablo2-install-4.webp" type="image/webp"><source srcset="../images/diablo2-install-4.png" type="image/png"><img loading="lazy" src="../images/diablo2-install-4.png" alt="It's so fast that I don't know how I managed to make a screenshot!" style="width:100%"></picture></a><figcaption>It's so fast that I don't know how I managed to make a screenshot!</figcaption></figure><p>Press <strong>Back</strong> then <strong>Exit Installer</strong>. Time to install the extension!</p><h2 id="installing-lord-of-destruction">Installing Lord of Destruction</h2><pre><code class="language-sh">firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/Downloader_Diablo2_Lord_of_Destruction_enUS.exe</code></pre><p>I will spare you all the screenshots since the procedure is identical to the base version of the game. When you are done, resist the damning temptation and <strong>exit the installer</strong>; there is one last thing we have to take care of…</p><h2 id="install-latest-patch">Install Latest Patch</h2><p>Before starting the game and finally start playing, you will want to install the latest patch for Diablo II: <strong>1.14d</strong>. Usually it can be done by accessing Battle.net in-game but for some reason it failed in my case because of a corrupted file… Luckily, it’s possible to download and install the update manually. Get it from the following link:</p><ul><li><a href="http://ftp.blizzard.com/pub/diablo2exp/patches/PC/LODPatch_114d.exe">LODPatch_114d.exe</a></li></ul><p>Copy it into your <code>wine</code> home folder: <code>~/.sandboxes/wine/LODPatch_114d.exe</code>. Then start the update with:</p><pre><code class="language-sh">firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/LODPatch_114d.exe</code></pre><h2 id="lets-play">Let’s Play!</h2><p>Finally, to launch the game you can use the following command:</p><pre><code class="language-sh">firejail \
  --profile=/etc/firejail/wine.profile \
  --private=~/.sandboxes/wine \
  wine ~/.wine/drive_c/Program\ Files\ \(x86\)/Diablo\ II/Diablo\ II.exe</code></pre><p>Have fun!</p><figure><a href="../images/diablo2-cows.jpg"><picture><source srcset="../images/diablo2-cows.webp" type="image/webp"><source srcset="../images/diablo2-cows.jpg" type="image/jpeg"><img loading="lazy" src="../images/diablo2-cows.jpg" alt="There is no such thing as the 'Cow Level'." style="width:100%"></picture></a><figcaption>There is no such thing as the 'Cow Level'.</figcaption></figure></div><div class="comments"><span><a class="leave-comment-btn" href="https://github.com/remusao/remusao.github.io/issues/51" title="https://github.com/remusao/remusao.github.io/issues/51" target="_blank" rel="noopener noreferrer">Leave a comment on GitHub</a></span><details><summary>9 comments</summary><ul class="comments-list"><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars0.githubusercontent.com/u/5502068?v=4" width="40" height="40"> <a class="author" href="https://github.com/lucamosca1" title="lucamosca1" target="_blank" rel="noopener noreferrer">lucamosca1</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599208476" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599208476" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>Just a note since I reinstalled it in this quarantine period :D After you install diablo 2 con windows pc, to play on battle.net you need to install the latest patch. This process is automatically handled by game, but you need to run as administrator to install this patch. So, install D2, then run it the first time as admin and connect to battle.net install latest patch</p><p>HTH</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars3.githubusercontent.com/u/49915827?v=4" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599259375" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599259375" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>I keep getting this error -</p><p>Error: inaccessible profile file: /etc/firejail/wine.profile</p><p>I am located in etc/firejail/ - I created the directory /sandboxes/wine and copied in the downloader. I navigate to the download files via terminal and run the prompt to install but get the above error.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars1.githubusercontent.com/u/1299873?v=4" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599265528" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599265528" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>@Th3-Think3r could you maybe paste the exact commands you ran so that I can check? Also, can you check what you have in /etc/firejail as well as which version of firejail you have installed?</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars3.githubusercontent.com/u/49915827?v=4" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599266627" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599266627" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>Alright I got it working - I got through my CD-key</p><p>Now, when I click “Play Diablo” it will launch. When trying to patch through battle.net i get the following error.</p><p><a href="https://ibb.co/jLNHcfK">https://ibb.co/jLNHcfK</a></p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars1.githubusercontent.com/u/1299873?v=4" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271722" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271722" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>@Th3-Think3r yes this is expected unfortunately and this can be solved by downloading the patch and installing manually before launching the game for the first time. There are a few more details in the last section of the article.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars3.githubusercontent.com/u/49915827?v=4" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271795" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599271795" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p><img alt="Battle" src="https://user-images.githubusercontent.com/49915827/76711706-294f6d00-66e0-11ea-977e-85d0c762291a.png"> Now I am getting this error - lol</p><p>I have installed both d2 and d2lod - have them both patched up. I can play single player fine but when connecting to battlenet the game is crashing</p><p>I really want to play this game lol - I see tons of other people posting about it crashing at Battle.net login screen but I haven’t really seen a solid fix.</p><p>I dont want to buy windows just to play D2 lol</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars1.githubusercontent.com/u/1299873?v=4" width="40" height="40"> <a class="author" href="https://github.com/remusao" title="remusao" target="_blank" rel="noopener noreferrer">remusao</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599276468" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599276468" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>@Th3-Think3r as far as I remember there is a way to get it working by deleting a specific file in D2 install folder. I will try to find this trick again tomorrow and update my comment.</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars3.githubusercontent.com/u/49915827?v=4" width="40" height="40"> <a class="author" href="https://github.com/Th3-Think3r" title="Th3-Think3r" target="_blank" rel="noopener noreferrer">Th3-Think3r</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599281390" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599281390" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>I would really appreciate it. I’ve been trying to get this to work for hours. Only needing to do this because I didnt know newest iOS doesn’t work with D2 either..</p></div></div></li><li><div class="comment"><div class="meta"><img loading="lazy" class="avatar" src="https://avatars3.githubusercontent.com/u/39827752?v=4" width="40" height="40"> <a class="author" href="https://github.com/karsten-cliqz" title="karsten-cliqz" target="_blank" rel="noopener noreferrer">karsten-cliqz</a> <span>commented </span><a class="date" href="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599398636" title="https://github.com/remusao/remusao.github.io/issues/51#issuecomment-599398636" target="_blank" rel="noopener noreferrer">23 days ago</a></div><div class="content"><p>@Th3-Think3r I’ve had this issue as well and what solved it for me is this: when launching D2 (via wine) it sort of matters which folder you’re in. An <code>mpq</code> file with a long name like <code>8F4AB75......mpg</code> is created when you’re trying to connect to the battle.net (or maybe even earlier, I can’t recall). So before I started the game, I moved to <code>~/.wine/drive_c/Program Files (x86)/DiabloII/</code> (may be different depending on where/how you installed the game and wine - also I didn’t use firejail) and <em>deleted the existing file</em>. Now when I connect to battle.net a new file is created <strong>in the folder I’m in when I start diablo</strong>. Note that when you start the game from a different folder later on though, you might have trouble again. I just added an alias to <code>.bash_aliases</code> that switched to the folder and started the game from there`. Let me know if this helps please, I’ve stopped playing some time ago so this is from memory.</p></div></div></li></ul></details></div></article><footer><div class="share"><ul><li><a href="https://www.facebook.com/sharer/sharer.php?u=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&t=Installing Diablo II in 2019" title="Share on Facebook" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Share on Facebook" src="/images/social_flat_rounded_rects_svg/Facebook.svg"><a></a></li><li><a href="https://twitter.com/share?url=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&text=Installing Diablo II in 2019&via=Pythux" title="Tweet" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Tweet" src="/images/social_flat_rounded_rects_svg/Twitter.svg"><a></a></li><li><a href="https://getpocket.com/save?url=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&title=Installing Diablo II in 2019" title="Add to Pocket" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Add to Pocket" src="/images/social_flat_rounded_rects_svg/Pocket.svg"><a></a></li><li><a href="https://news.ycombinator.com/submitlink?u=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&t=Installing Diablo II in 2019" title="Submit to Hacker News" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Hacker News" src="/images/social_flat_rounded_rects_svg/HackerNews.svg"><a></a></li><li><a href="https://www.reddit.com/submit?url=https://remusao.github.io//posts/installing-diablo2-ubuntu-sandboxing.html&title=Installing Diablo II in 2019" title="Submit to Reddit" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Reddit" src="/images/social_flat_rounded_rects_svg/Reddit.svg"><a></a></li></ul></div></footer></main></body></html>