<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>State of Privacy in Statically Generated Blogs</title><meta name="description" content="Simplex Sigillum Veri"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="canonical" href="https://remusao.github.io/posts/state-of-static-blogs.html"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><style type="text/css">@font-face{font-display:swap;font-family:'Open Sans';font-style:italic;font-weight:400;src:url(/fonts/OpenSans_italic_400.woff2) format('woff2')}@font-face{font-display:swap;font-family:'Open Sans';font-style:italic;font-weight:700;src:url(/fonts/OpenSans_italic_700.woff2) format('woff2')}@font-face{font-display:swap;font-family:'Open Sans';font-style:normal;font-weight:400;src:url(/fonts/OpenSans_normal_400.woff2) format('woff2')}@font-face{font-display:swap;font-family:'Open Sans';font-style:normal;font-weight:700;src:url(/fonts/OpenSans_normal_700.woff2) format('woff2')}body{color:#2f2f2f;font-family:'Open Sans',sans-serif;font-size:95%;line-height:1.6em;margin:20px auto;max-width:42em;padding:0 1em}@media (min-width:760px){body{font-size:100%}}@media (min-width:1024px){body{font-size:105%}}h1,h2,h3{font-size:1.7em;font-weight:400;padding-top:.7em}h2,h3{font-size:1.5em}h3{font-size:1.2em}.header,.main figcaption{color:#555;font-style:italic}.main a{color:#3465a4}.main a:visited{color:#75507b}.main figcaption{color:#696f72;line-height:2em;text-align:center}.main img{display:block;height:auto;margin:auto;padding-bottom:1em;padding-top:1em;width:90%}.main blockquote{border-left:thin solid #d3d7cf;color:#555;margin:10px;padding:0 0 0 1em}@font-face{font-display:swap;font-family:'Inconsolata';font-style:normal;font-weight:400;src:url(/fonts/Inconsolata.woff2) format('truetype')}code{background-color:#f3f4f5;font-family:'Inconsolata';line-height:1.2em}pre code{display:block;overflow-x:auto;padding:8px}.leave-comment-btn,summary{font-size:15px;font-weight:600}.leave-comment-btn{background-color:#28a745;background-image:linear-gradient(-180deg,#34d058,#28a745 90%);border:1px solid rgba(27,31,35,.2);border-radius:.25em;color:#fff;display:inline-block;margin-top:1.5em;padding:3px 10px;text-decoration:none}.leave-comment-btn:hover{box-shadow:0 1px 3px rgba(0,0,0,.24)}summary{color:#516ae8;cursor:pointer;line-height:1.2rem;margin-top:2rem}.comments-list{list-style:none;padding:0}.comment{background-color:#fff;border:1px solid #d1d5da;border-radius:3px;color:#24292e;font-size:15px;margin:1em 0}.meta{background-color:#f6f8fa;border-bottom:1px solid #d1d5da;color:#586069}.author,.date{text-decoration:none}.author{color:#24292e!important;font-weight:700}.date{color:#586069}.date:hover{color:#0366d6}.content{padding-left:20px}.avatar,.emoji{vertical-align:middle}.avatar{display:inline-block;margin-right:5px}.emoji{height:1.1em;width:1.1em}table{border-collapse:collapse;margin:auto}td,th{border:1px solid #ddd;padding:10px}tr:hover{background-color:#f5f5f5}footer{border-top:thin solid #d3d7cf;margin:1.5em 0}.share ul{text-align:right}.share li{display:inline;padding:0 5px}.share img{width:2em}.main a,header a{text-decoration:none}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag{color:#333;font-weight:700}.hljs-subst{color:#333}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><main><header><h1><a href="../"><span>../</span></a></h1></header><h1>State of Privacy in Statically Generated Blogs</h1><section class="header"><div>2017-10-08 | <em>Reading time: ~8 minutes</em></div></section><article><div class="main"><p>I woke up one morning and realized that my “static blog” (hosted on Github pages), contained around <strong>14 trackers</strong> on every page. By tracker I mean a third-party company having some piece of <code>javascript</code> injected on the page. Each tracker would also try to send unsafe data to their backend (You can observe this behavior using any privacy extension: Ghostery or Cliqz for example).</p><p>The truth is, most static blog embed <em>Google</em> for analytics, <em>Disqus</em> for comments, <em>Mathjax</em> for Latex rendering, extra fonts, CSS, etc.</p><p>This is nice, and it brings many benefits to your blog, but people are probably not aware of what the consequences are for their readers. Instead of having a nice static html page containing only the content you’d like to read, you get third-party scripts tracking you on every page you visit (my content blocker extension even blocked a few advertising requests).</p><figure><a href="../images/static-site-ghostery-trackers.png"><img src="../images/static-site-ghostery-trackers.png" alt="Ghostery Trackers"></a><figcaption>Advertisers joined the party...</figcaption></figure><p>If you wonder why there are so many, let’s just say that once you allow a third-party script to execute on your page, you loose control over what happens next. It might be that any script you include on your page, will also inject a script from another company, which might make a few requests as well, etc. If you want to see for yourself, go on a random site having Disqus and Google Analytics (or your own blog if you have one), and open the <em>Network Monitor</em> while loading the page. You will see all the resources fetched (which can be scary…).</p><figure><a href="../images/network-monitor-tracking.png"><img src="../images/network-monitor-tracking.png" alt="Network Monitor"></a><figcaption>74 requests seems like a lot for a static page.</figcaption></figure><p>And they all send unsafe data (unique identifiers) back! I agree that features like comments and math rendering are sometimes unavoidable, but there should be a way to do it without all the tracking.</p><p>Unfortunately, the alternatives (if there is one at all), represent more work to integrate and use.</p><p>For my own blog I decided to first strip all superfluous external dependencies (meaning basically anything but the content of the blog), and then find a way to introduce extra features one by one if needed.</p><p>It means that currently, there are no comments and no analytics report on the number of readers/visits. But there are some promising solutions.</p><h2 id="comments">Comments</h2><p>That is one of the most wanted features on a blog, and yet it requires having a central server to store the comments. <em>Disqus</em> comes pretty handy here, with only one small line of javascript to include on the page to load the entire commenting system (but it comes with a high price, as we saw above).</p><p>Some possible alternatives are:</p><ul><li>Using <em>Github Issues</em> to host the comments. Here are a few posts about how that can work for you:<ul><li><a href="https://mademistakes.com/articles/jekyll-static-comments/">Going Static: Episode II — Attack of the Comments</a></li><li><a href="http://ivanzuzak.info/2011/02/18/github-hosted-comments-for-github-hosted-blogs.html">GitHub hosted comments for GitHub hosted blogs</a></li><li><a href="http://artsy.github.io/blog/2017/07/15/Comments-are-on/">Using GitHub Issues for Blog Comments</a></li><li><a href="http://sean.lane.sh/blog/2016/Hosting_comments_within_issues_on_Github_Pages">Hosting comments within issues on Github Pages</a></li><li>Last but not least, I seriously consider *embedding the comments statically in the page* (since Github’s API returns the markdown, it would allow to style the comments like the rest of your blog). That would require you to fetch all the comments when you generate your page (yes it takes extra time, but I would rather pay this price once, instead of making users do it at every page load). Then there could be some automated task scheduled using Travis to re-generate the blog (or only the pages with new comments) every time there is a new comment. I admit that this does not scale for a popular blog with a lot of comments, but most of the times comments are scarce, so this solution would work pretty well!</li></ul></li><li><a href="https://posativ.org/isso/">Isso</a>, which requires self-hosting.</li><li>There is also <em>Talk</em>, from the <a href="https://coralproject.net/about.html">Mozilla Coral Project</a>. I’m not sure if it can be used on any static website, but it might be something worth investigating.</li></ul><p>That does not seem to exist yet, but a totally distributed commenting system would be an ideal fit here (using something like <a href="https://ipfs.io/">IPFS</a>). There are some discussions about that on this <a href="https://www.reddit.com/r/ipfs/comments/4om8c0/how_to_create_a_fairly_decentralized_commenting/">reddit thread</a>.</p><p>I’m not sure yet if I will add one of those on this blog, since I don’t really have enough readers to justify the extra complexity (and it’s still possible to leave some feedback on Github or Twitter if you really want to). But if I were to choose one solution, I would probably go for the Github Issues solution, which seems to fit nicely with a blog hosted on Github Pages.</p><h2 id="math-rendering">Math Rendering</h2><p>One solution for privacy-preserving math rendering is to render the equations at build-time and then embed them in the html as data urls. That might not be the perfect solution, but it actually works pretty well, and does not require any third-party resource. I used the <a href="https://github.com/liamoc/latex-formulae">latex-formulae</a> plugin of Hakyll, which worked pretty smoothly!</p><p>For example:</p><p>$$ \sum^{42}_{i=0} i^2 $$</p><p>But it can also be inlined like that $\sum^{42}_{i=0} i^2$.</p><h2 id="analytics">Analytics</h2><p>I have to admit that I totally dropped this feature for now. Ideally, Github would provide a very basic visit counter for each page of your blog by default.</p><p>Otherwise, there are some nicer alternatives to <em>Google Analytics</em> such as:</p><ul><li><a href="https://piwik.org/">Piwik</a> – probably the most serious alternative.</li><li><a href="https://github.com/cliqz-oss/green-analytics">Green Tracker</a> – still experimental but demonstrates some very promising capabilities, and it requires self-hosting as well.</li></ul><p>And probably more, although none of them will be as convenient/powerful as Google Analytics (for now at least…), but do you need as much?</p><h2 id="fonts-and-styling">Fonts and styling</h2><p>This is obviously a very personal choice here, and most people will go with pre-existing templates or frameworks such as <em>Bootstrap</em>.</p><p>I took the path of more simplicity and tried to roll-out my own super minimal template. I also tried to use only fonts available widely (and provide fall-backs in case a font is not present on the system).</p><h2 id="social-sharing">Social sharing</h2><p>It’s nice to have a few buttons to share an article quickly on Twitter, Facebook or other social network using the social sharing widgets. The downside is that most of the time, you’re also including trackers on your page! (e.g.: Facebook will be able to track users reading your page).</p><p>One option is to insert static buttons on your page, instead of the official widgets. More information can be found there:</p><ul><li><a href="https://www.savjee.be/2015/01/Creating-static-social-share-buttons/">Creating static social share buttons</a></li></ul><p>Check them out at the bottom of the page!</p><h2 id="conclusion">Conclusion</h2><p>The main down-side of this path, is that most of the time you will be on your own. You might get lucky and find a plugin for your favorite static blog generator (Jekyll, Pelican, Hugo, Hakyll), but if there is nothing, you will have to come up with a solution from scratch.</p><p>At the end, I think it’s possible to get a mostly static site, with no or very few external dependencies. This post was probably loaded using only one request (the main document + the example images), which includes everything needed. Yes it’s super minimal, and it could look better, and it could use some comments, but most personal static blogs don’t need as much, and if they do, and you’re willing to spend the extra time – having totally private analytics, comments or math rendering, could make for a very interesting and rewarding side-project!</p></div><div class="comments"></div></article><footer><div class="share"><ul><li><a href="https://www.facebook.com/sharer/sharer.php?u=https://remusao.github.io//posts/state-of-static-blogs.html&t=State of Privacy in Statically Generated Blogs" title="Share on Facebook" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Share on Facebook" src="/images/social_flat_rounded_rects_svg/Facebook.svg"><a></a></li><li><a href="https://twitter.com/share?url=https://remusao.github.io//posts/state-of-static-blogs.html&text=State of Privacy in Statically Generated Blogs&via=Pythux" title="Tweet" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Tweet" src="/images/social_flat_rounded_rects_svg/Twitter.svg"><a></a></li><li><a href="https://getpocket.com/save?url=https://remusao.github.io//posts/state-of-static-blogs.html&title=State of Privacy in Statically Generated Blogs" title="Add to Pocket" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Add to Pocket" src="/images/social_flat_rounded_rects_svg/Pocket.svg"><a></a></li><li><a href="https://news.ycombinator.com/submitlink?u=https://remusao.github.io//posts/state-of-static-blogs.html&t=State of Privacy in Statically Generated Blogs" title="Submit to Hacker News" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Hacker News" src="/images/social_flat_rounded_rects_svg/HackerNews.svg"><a></a></li><li><a href="https://www.reddit.com/submit?url=https://remusao.github.io//posts/state-of-static-blogs.html&title=State of Privacy in Statically Generated Blogs" title="Submit to Reddit" target="_blang" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Reddit" src="/images/social_flat_rounded_rects_svg/Reddit.svg"><a></a></li></ul></div></footer></main></body></html>