<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Exploring etymology using Wiktionary data</title><meta name="description" content="Simplex Sigillum Veri"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="canonical" href="https://remusao.github.io/posts/wiktionary-etymology-exploration.html"><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><style type="text/css">body{color:#2f2f2f;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen-Sans,Ubuntu,Cantarell,'Helvetica Neue',sans-serif;line-height:1.6em;margin:20px auto;max-width:40rem;padding:0 1.5em;text-rendering:optimizeLegibility}h1{line-height:1.1em}h2{border-bottom:1px solid #eaecef;padding-bottom:.5em}h1,h2,h3{padding-top:.7em}.header{color:#555;margin-top:-.8em}.main a{color:#3465a4}.main a:visited{color:#75507b}.main figcaption{color:#696f72;font-style:italic;line-height:2em;text-align:center}.main img{display:block;height:auto;margin:auto;padding-bottom:1em;padding-top:1em;width:90%}.main blockquote{border-left:thin solid #d3d7cf;color:#555;margin:10px;padding:0 0 0 1em}code{background-color:#f6f8fa;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:14px;line-height:20px;padding:.2em .4em}pre code{display:block;overflow-x:auto}.leave-comment-btn,summary{font-size:16px;font-weight:600}.leave-comment-btn{background-color:#28a745;background-image:linear-gradient(-180deg,#34d058,#28a745 90%);border:1px solid rgba(27,31,35,.2);border-radius:.25em;color:#fff;display:inline-block;margin-top:1.5em;padding:3px 10px;text-decoration:none}.leave-comment-btn:hover{box-shadow:0 1px 3px rgba(0,0,0,.24)}summary{color:#516ae8;cursor:pointer;line-height:1.2rem;margin-top:2rem}.comments-list{list-style:none;padding:0}.comment{background-color:#fff;border:1px solid #d1d5da;border-radius:3px;color:#24292e;font-size:16px;margin:1em 0}.meta{background-color:#f6f8fa;border-bottom:1px solid #d1d5da;color:#586069}.author,.date{text-decoration:none}.author{color:#24292e!important;font-weight:700}.date{color:#586069}.date:hover{color:#0366d6}.content{padding-left:20px}.avatar,.emoji{vertical-align:middle}.avatar{display:inline-block;margin-right:5px}.emoji{height:1.1em;width:1.1em}table{border-collapse:collapse;margin:auto}td,th{border:1px solid #ddd;padding:10px}tr:hover{background-color:#f5f5f5}footer{border-top:thin solid #d3d7cf;margin:1.5em 0}.share ul{text-align:right}.share li{display:inline;padding:0 5px}.share img{width:32px}.main a,header a{text-decoration:none}.hljs{background:#f8f8f8;color:#333;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-quote{color:#6a737d;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#d73a49}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:#005cc5}.hljs-doctag,.hljs-string{color:#032f62}.hljs-section,.hljs-selector-id,.hljs-title{color:#900}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#6f42c1}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style></head><body><main><header><h1><a href="../"><span>../</span></a></h1></header><h1>Exploring etymology using Wiktionary data</h1><section class="header"><div>└─ 2018-07-14 • <em>Reading time: ~12 minutes</em></div></section><article><div class="main"><p>Etymology is a fascinating topic. Looking closer at the origin of words often yields surprising and interesting connections between languages and countries, forgotten stories or fun anecdotes. There are multiple sources for etymological data, and most of the time, using specialized books is a safe bet. The issue is that they are usually dedicated to one language, and it’s close to impossible to extract the data in a format which allows manipulation by programs.</p><p>There is an alternative though: <a href="https://www.wiktionary.org/" target="_blank" rel="noopener noreferrer"><strong>Wiktionary</strong></a>. It is not perfect and suffers from the following drawbacks:</p><ul><li>Information about some words can be missing or incomplete</li><li>Different editions offer various degrees of exhaustiveness</li><li>It is still not trivial to extract the data in a nice format (more on that later)</li></ul><p>But it offers very nice benefits as well:</p><ul><li>It is possible to parse the dumps (although not as easy as it could)</li><li>It is possible to combine multiple editions to get more complete etymological data (e.g.: French and English dumps)</li><li>It is constantly evolving and freely accessible</li></ul><p>I often use Wiktinary from the website to get more insight about some words, but it is not always optimal: it can be time-consuming to follow the links, difficult to know if you missed anything, and hard to answer some questions. In particular:</p><ol><li>What is the “etymological” distance between two words, and how are they connected? (according to Wiktionary data)</li><li>Given a word in a source language (e.g.: <code>Buch</code> from <em>German</em>), what is the closest word in another target language (e.g.: in <em>English</em> it would be <code>book</code>.)</li><li>Can we identify the subset of words from a source language which is very closely connected to words from a target language? (e.g. by direct inheritance)?</li><li>Could we visualize the graph of etymological connections from a source <em>word</em> until a given <em>distance</em>?</li><li>etc.</li></ol><p>In the rest of this article, I’d like to present a work-in-progress project called <a href="https://github.com/remusao/wgraph" target="_blank" rel="noopener noreferrer"><em>wgraph</em></a>, which I have been developing recently. It allows to parse the content of Wiktionary dumps in multiple languages (currently French and English are well supported and more are on the way), to extract a graph of etymological relationships between words. Here are a few examples of possible connections:</p><ul><li>German word ‘Buch’ <em>cognates</em> with English word ‘book’</li><li>English word ‘table’ <em>inherits</em> from Middle English words ‘table’, ‘tabel’, ‘tabil’ and ‘tabul’</li><li>French word ‘chaise’ is <em>borrowed</em> from Old French ‘chaiere’, and <em>cognates</em> with English word ‘chair’</li></ul><h2>Parsing the data</h2><p>The parsing stage takes as input one or multiple <a href="https://dumps.wikimedia.org/backup-index.html" target="_blank" rel="noopener noreferrer">dumps</a>, and produces a mapping between <code>source</code> words, and multiple references as found in the specific pages from Wiktionary, in the <code>etymology</code> section. Using <code>wgraph</code>, this can be performed as follows:</p><pre class="code" data-lang="sh"><code>$ parse enwiki-articles/enwiktionary-latest-pages-articles.xml
</code></pre><p>(Note that you can input a compressed version of the dumps as well, either in <code>.gz</code> or <code>.bz2</code> format)</p><p>This will produce a file named <code>graph.tsv</code> containing one word per line, alongside its references. The first few lines look like:</p><pre class="code" data-lang="sh"><code>lire  lira|etyl|  lira|borrowed|it  *lekʷs-|mention|ine-pro  lies|cognate|nl ...
encyclopédie  encyclique|lien|  encyclopaedia|etyl|  encyclopaedia|mention|la ...
manga  漫|mention|ltc  manga|mention|pt  漫画|borrowed|ja  man + -ga|suffix|zza ...
</code></pre><p>Each line starts with the word (e.g.: <code>manga</code>) and then follows a tab-separated list of references. Each reference is a tuple of <code>word</code>, <code>kind</code> (kind of relationship with the origin word, e.g.: borrowed from, inherited from, etc.) and <code>origin</code> (optional, since not all origins are specified in the data).</p><p>And this is all we need start exploring the data and answer interesting questions!</p><h2>Etymological summary visualization</h2><p>Once we have a graph of “etymological” connections between words, one of the simplest things we can do is to visualize the neighborhood of a given word. This can be performed using the <code>summary</code> command provided by <code>wgraph</code>:</p><pre class="code" data-lang="sh"><code>$ summary graph.tsv Buch
Graph written into: wgraph_Buch
</code></pre><figure><a href="../images/wgraph_Buch_1.svg"><img src="../images/wgraph_Buch_1.svg" alt="Etymological neighborhood of 'Buch'" style="width:100.0%"></a><figcaption>Etymological neighborhood of *Buch*</figcaption></figure><p>We can also look deeper in the graph:</p><pre class="code" data-lang="sh"><code>$ summary graph.tsv candidate --max-depth 2
Graph written into: wgraph_Buch
</code></pre><figure><a href="../images/wgraph_candidate.svg"><img src="../images/wgraph_candidate.svg" alt="Etymological neighborhood of 'candidate'" style="width:100.0%"></a><figcaption>Etymological neighborhood of *candidate*</figcaption></figure><p>Interestingly enough, the ‘candidates’ referred to the “Roman candidates wearing bleached white togas as a symbol of purity at a public forum” (source: <a href="https://en.wiktionary.org/wiki/candidate#Etymology" target="_blank" rel="noopener noreferrer">Wiktionary</a>). This explains why the word ‘candidate’ is related to ‘white’, ‘candide’, ‘blank’ and even the ‘elves’.</p><p>Note that by default, up to 50 words will be included in the graph, to not overload it too much.</p><p>It is also possible to group the nodes by origin using the <code>--group-by-origin</code> argument:</p><pre class="code" data-lang="sh"><code>$ summary graph.tsv petrol --max-depth 2 --group-by-origin
Graph written into: wgraph_Buch
</code></pre><figure><a href="../images/wgraph_petrol_2_groupped.svg"><img src="../images/wgraph_petrol_2_groupped.svg" alt="Etymological neighborhood of 'petrol'" style="width:100.0%"></a><figcaption>Etymological neighborhood of *petrol*</figcaption></figure><p>Now we know that <em>pretrol</em> literally means “oil from stones”: <em>ol</em> + <em>petra</em> (the stone).</p><p>As a last example, let’s explore the neighborhood of ‘truie’ a French word used to designate the female of the pork. This word has a curious origin…</p><pre class="code" data-lang="sh"><code>$ summary graph.tsv truie --max-depth 2 --group-by-origin
Graph written into: wgraph_Buch
</code></pre><figure><a href="../images/wgraph_truie.svg"><img src="../images/wgraph_truie.svg" alt="Etymological neighborhood of 'truie'" style="width:100.0%"></a><figcaption>Etymological neighborhood of *truie*</figcaption></figure><p>You can see mentions of the word “Troja”, the famous city, where the “Trojan Horse” was used as a subterfuge that the Greeks used to enter the city of Troy during the war. And this is where we think this ‘truie’ comes from. The “Trojan Horse” gave its name to a way to prepare (or grill) the pork called: “Porka de Troja”, and they ‘truie’ in French.</p><h2>Distance between two words</h2><p>Another simple application of the graph is to compute the size of the shortest path between two words. This can be achieved using the <code>distance</code> command provided by <code>wgraph</code>:</p><figure><a href="../images/wgraph_distance_Buch_beech.svg"><img src="../images/wgraph_distance_Buch_beech.svg" alt="Etymological distance between 'Buch' and 'beech'" style="width:20.0%"></a><figcaption>Etymological distance between *Buch* and *beech*</figcaption></figure><pre class="code" data-lang="sh"><code>$ distance graph.tsv Buch book
Distance: 1
Start: Buch
&gt; Cognates with book (English)
</code></pre><pre class="code" data-lang="sh"><code>$ distance graph.tsv Buch beech
Distance: 5
Start: Buch
&gt; Cognates with book (English)
&gt; Cognates with boek (Dutch)
&gt; Cognates with bog (Danish)
&gt; Inherited from boc (Old Irish (to 900))
&gt; Mention beech (English)
</code></pre><pre class="code" data-lang="sh"><code>$ distance graph.tsv camaraderie chambre
Distance: 3
Start: camaraderie
&gt; Mention comrade (English)
&gt; Mention chamber (English)
&gt; Inherited from chambre (Middle English (1100-1500))
</code></pre><pre class="code" data-lang="sh"><code>$ distance graph.tsv camarade chambre
Distance: 2
Start: camarade
&gt; None chambrée (French)
&gt; None chambre (French)
</code></pre><p>You probably noticed that <code>origin</code> or <code>kind</code> are not always available. This is mainly caused by:</p><ol><li>Data in French dumps are not formatted in an easily parsable format, and most information needs to be extracted from links (e.g.: <code>''[[word]]''''</code>) as well as the context, and the parser from <code>wgraph</code> is not yet smart enough to do this in a lot of cases.</li><li>Sometimes the information is not available at all.</li></ol><p>Also note that this command only finds <em>one possible path</em>, but it happens that multiple paths of the same length link two words of the graph. A possible improvement would be to find all possible paths between two words, which would probably gives some nice insight! (It could also be visualized as a graph!)</p><h2>Closest word in a target language</h2><p>Let’s say you are learning a new language (e.g.: German) and while learning a new word, you are looking for a way to “connect” it to some words you already know. One way we could leverage our graph of words is to find a close word in a language you already know! This is what the command <code>closest</code> is doing:</p><pre class="code" data-lang="sh"><code>$ closest graph.tsv buchstabieren en
Start: buchstabieren
&gt; None Buchstabe (unknown origin)
&gt; Mention bookstaff (English)
</code></pre><p>The German word “buchstabieren” (or “to spell” in English) literally means “to stab the letters on the Buch/book/beech”. The connection with “beech” comes from the fact that people used to use “beech” tree as a material to create the tablets to write.</p><pre class="code" data-lang="sh"><code>$ closest graph.tsv hospital fr
Start: hospital
&gt; Cognates with hôpital (French)
</code></pre><p>This one was pretty easy…</p><pre class="code" data-lang="sh"><code>$ closest graph.tsv therme en
Start: therme
&gt; Etymology θερμός (unknown origin)
&gt; Cognates with wearm (Old English (ca. 450-1100))
&gt; Cognates with formus (Latin)
&gt; Cognates with warm (English)
</code></pre><p>Interesting to know that “therme” (name given to the ancient Roman baths) connects to “warm” in English (very indirectly, but we find this idea of “warm water”).</p><pre class="code" data-lang="sh"><code>$ closest graph.tsv schön en
Start: schön
&gt; None sheen (unknown origin)
&gt; Cognates with show (English)
</code></pre><pre class="code" data-lang="sh"><code>$ closest graph.tsv Welt fr
Start: Welt
&gt; Inherited from weralt (Old High German (ca. 750-1050))
&gt; Mention world (English)
&gt; Cognates with verd (Norwegian Nynorsk)
&gt; Cognates with vert (French)
</code></pre><p>Some connections are pretty far-fetched, and we would need to dig in the original data to understand why! And this is where it can get exciting to do some manual research!</p><h2>What are the easiest words to learn in a language?</h2><p>As a final application, and as a result of our ability to compute the minimum distance between two words in different languages, we can try to identify the easiest sub-set of a language you can learn! This works as follows:</p><ol><li>Specify the target language (e.g.: German)</li><li>Specify languages you already know (e.g.: French and English)</li></ol><p>Then the <code>easiest</code> command will try to find a set of German words which is very close from words in either English or French. These words should be easier to memorize because they will probably resemble words you already know.</p><pre class="code" data-lang="sh"><code>$ easiest graph.tsv
========================================
&gt; 1
========================================
  * personell
  * Republik
  * munizipal
  * Provokateur
  * Strauß
  * Beispiel
  * Tupperware
  * Karosserie
  * maritim
  * hypoallergen
  * Etappe
  * Finanzier
  * Pansen
  * bekommen
  * Feuer
  * blockieren
  * robbe
  * kidnappen
  * Flakon
  * lukrativ
  * eskortieren
  * universell
  * Bravour
  * Mittwoch
  * grotesk
  * jetzt
  * positiv
  ...
</code></pre><p>At the moment it is not possible to specify other languages than French, English and German, but it will probably be in the future.</p><h2>Closing remarks</h2><p>There is probably much more we can do using this data, and this is only the beginning, I already find the project useful to get insight about the origin of some words, but it is still rough around the edges. In the following weeks I intend to improve <code>wgraph</code> in the following ways:</p><ol><li>Improve information extraction from Wiktionary dumps (especially for the French edition), this should have a direct impact on the results of all sub-commands presented above.</li><li>Support more editions to make the dataset more complete (German is next)</li><li>Find more interesting applications and visualizations ideas!</li></ol></div><div class="comments"><span><a class="leave-comment-btn" href="https://github.com/remusao/remusao.github.io/issues/13" title="https://github.com/remusao/remusao.github.io/issues/13" target="_blank" rel="noopener noreferrer">Leave a comment on GitHub</a></span></div></article><footer><div class="share"><ul><li><a href="https://www.facebook.com/sharer/sharer.php?u=https://remusao.github.io//posts/wiktionary-etymology-exploration.html&t=Exploring etymology using Wiktionary data" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Share on Facebook" src="/images/social_flat_rounded_rects_svg/Facebook.svg"><a></a></li><li><a href="https://twitter.com/share?url=https://remusao.github.io//posts/wiktionary-etymology-exploration.html&text=Exploring etymology using Wiktionary data&via=Pythux" title="Tweet" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Tweet" src="/images/social_flat_rounded_rects_svg/Twitter.svg"><a></a></li><li><a href="https://getpocket.com/save?url=https://remusao.github.io//posts/wiktionary-etymology-exploration.html&title=Exploring etymology using Wiktionary data" title="Add to Pocket" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Add to Pocket" src="/images/social_flat_rounded_rects_svg/Pocket.svg"><a></a></li><li><a href="https://news.ycombinator.com/submitlink?u=https://remusao.github.io//posts/wiktionary-etymology-exploration.html&t=Exploring etymology using Wiktionary data" title="Submit to Hacker News" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Hacker News" src="/images/social_flat_rounded_rects_svg/HackerNews.svg"><a></a></li><li><a href="https://www.reddit.com/submit?url=https://remusao.github.io//posts/wiktionary-etymology-exploration.html&title=Exploring etymology using Wiktionary data" title="Submit to Reddit" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Reddit" src="/images/social_flat_rounded_rects_svg/Reddit.svg"><a></a></li></ul></div></footer></main></body></html>