/* Copyright Plotly Inc. 
All material herein is subject to copyright and 1-year license terms as described at 
https://plot.ly/licensing. Using or modifying this file is strictly prohibited without
purchasing a license or receiving written permission from Plotly Inc */

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Plotly=t()}}(function(){var t;return function t(e,n,r){function a(i,l){if(!n[i]){if(!e[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[i]={exports:{}};e[i][0].call(c.exports,function(t){var n=e[i][1][t];return a(n?n:t)},c,c.exports,t,e,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function a(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function i(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!a(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,l,s,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],i(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(a=arguments.length,l=new Array(a-1),s=1;a>s;s++)l[s-1]=arguments[s];n.apply(this,l)}else if(o(n)){for(a=arguments.length,l=new Array(a-1),s=1;a>s;s++)l[s-1]=arguments[s];for(u=n.slice(),a=u.length,s=0;a>s;s++)u[s].apply(this,l)}return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var a;a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),a||(a=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var a=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,a,i,l;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,a=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(l=i;l-->0;)if(n[l]===e||n[l].listener&&n[l].listener===e){a=l;break}if(0>a)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],2:[function(t,e){function n(){if(!i){i=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}i=!1}}function r(){}var a=e.exports={},o=[],i=!1;a.nextTick=function(t){o.push(t),i||setTimeout(n,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],3:[function(t){"use strict";var e=t("../src/plotly"),n={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;",Y:"position:fixed;top:50px;right:20px;z-index:10000;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var r in n){var a=r.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");e.Lib.addStyleRule(a,n[r])}},{"../src/plotly":29}],4:[function(t,e){"use strict";e.exports={ascent:850,descent:-150,undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z"},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z"},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z"},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z"},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z"},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z"},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z"},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z"},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z"},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z"},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z"},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z"},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z"},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z"},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z"}}},{}],5:[function(){d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function r(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function a(){}function o(){}function i(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function l(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=Di.length;r>n;++n){var a=Di[n]+e;if(a in t)return a}}function s(){}function u(){}function c(t){function e(){for(var e,r=n,a=-1,o=r.length;++a<o;)(e=r[a].on)&&e.apply(this,arguments);return t}var n=[],r=new a;return e.on=function(e,a){var o,i=r.get(e);return arguments.length<2?i&&i.on:(i&&(i.on=null,n=n.slice(0,o=n.indexOf(i)).concat(n.slice(o+1)),r.remove(e)),a&&n.push(r.set(e,{on:a})),t)},e}function f(){yi.event.preventDefault()}function d(){for(var t,e=yi.event;t=e.sourceEvent;)e=t;return e}function h(t){for(var e=new u,n=0,r=arguments.length;++n<r;)e[arguments[n]]=c(e);return e.of=function(n,r){return function(a){try{var o=a.sourceEvent=yi.event;a.target=t,yi.event=a,e[a.type].apply(n,r)}finally{yi.event=o}}},e}function g(t){return Pi(t,Ri),t}function p(t){return"function"==typeof t?t:function(){return Ii(t,this)}}function m(t){return"function"==typeof t?t:function(){return Ni(t,this)}}function v(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function i(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function l(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=yi.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?l:i:t.local?o:a}function y(t){return t.trim().replace(/\s+/g," ")}function x(t){return new RegExp("(?:^|\\s+)"+yi.requote(t)+"(?:\\s+|$)","g")}function b(t,e){function n(){for(var n=-1;++n<a;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<a;)t[n](this,r)}t=t.trim().split(/\s+/).map(_);var a=t.length;return"function"==typeof e?r:n}function _(t){var e=x(t);return function(n,r){if(a=n.classList)return r?a.add(t):a.remove(t);var a=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(a)||n.setAttribute("class",y(a+" "+t))):n.setAttribute("class",y(a.replace(e," ")))}}function w(t,e,n){function r(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:a}function k(t,e){function n(){delete this[t]}function r(){this[t]=e}function a(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?a:r}function M(t){return"function"==typeof t?t:(t=yi.ns.qualify(t)).local?function(){return _i.createElementNS(t.space,t.local)}:function(){return _i.createElementNS(this.namespaceURI,t)}}function A(t){return{__data__:t}}function L(t){return function(){return Fi(this,t)}}function T(t){return arguments.length||(t=yi.ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function z(t,e){for(var n=0,r=t.length;r>n;n++)for(var a,o=t[n],i=0,l=o.length;l>i;i++)(a=o[i])&&e(a,i,n);return t}function S(t){return Pi(t,Hi),t}function C(t){var e,n;return function(r,a,o){var i,l=t[o].update,s=l.length;for(o!=n&&(n=o,e=0),a>=e&&(e=a+1);!(i=l[e])&&++e<s;);return i}}function E(){var t=this.__transition__;t&&++t.active}function D(t,e,n){function r(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}function a(){var a=u(e,bi(arguments));r.call(this),this.addEventListener(t,this[i]=a,a.$=n),a._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+yi.requote(t)+"$");for(var r in this)if(e=r.match(n)){var a=this[r];this.removeEventListener(e[1],a,a.$),delete this[r]}}var i="__on"+t,l=t.indexOf("."),u=O;l>0&&(t=t.substring(0,l));var c=Vi.get(t);return c&&(t=c,u=P),l?e?a:r:e?s:o}function O(t,e){return function(n){var r=yi.event;yi.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{yi.event=r}}}function P(t,e){var n=O(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function I(){var t=".dragsuppress-"+ ++Yi,e="touchmove"+t,n="selectstart"+t,r="dragstart"+t,a="click"+t,o=yi.select(ki).on(e,f).on(n,f).on(r,f),i=wi.style,l=i[Zi];return i[Zi]="none",function(e){function n(){o.on(a,null)}o.on(t,null),i[Zi]=l,e&&(o.on(a,function(){f(),n()},!0),setTimeout(n,0))}}function N(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Xi&&(ki.scrollX||ki.scrollY)){n=yi.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();Xi=!(a.f||a.e),n.remove()}return Xi?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function j(t){return t>0?1:0>t?-1:0}function F(t){return t>1?0:-1>t?Gi:Math.acos(t)}function R(t){return t>1?Gi/2:-1>t?-Gi/2:Math.asin(t)}function q(t){return(Math.exp(t)-Math.exp(-t))/2}function H(t){return(Math.exp(t)+Math.exp(-t))/2}function B(t){return q(t)/H(t)}function V(t){return(t=Math.sin(t/2))*t}function Z(){}function Y(t,e,n){return new X(t,e,n)}function X(t,e,n){this.h=t,this.s=e,this.l=n}function G(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(i-o)*t/60:180>t?i:240>t?o+(i-o)*(240-t)/60:o}function a(t){return Math.round(255*r(t))}var o,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,i=.5>=n?n*(1+e):n+e-n*e,o=2*n-i,ie(a(t+120),a(t),a(t-120))}function U(t,e,n){return new $(t,e,n)}function $(t,e,n){this.h=t,this.c=e,this.l=n}function Q(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),J(n,Math.cos(t*=Qi)*e,Math.sin(t)*e)}function J(t,e,n){return new W(t,e,n)}function W(t,e,n){this.l=t,this.a=e,this.b=n}function K(t,e,n){var r=(t+16)/116,a=r+e/500,o=r-n/200;return a=ee(a)*ll,r=ee(r)*sl,o=ee(o)*ul,ie(re(3.2404542*a-1.5371385*r-.4985314*o),re(-.969266*a+1.8760108*r+.041556*o),re(.0556434*a-.2040259*r+1.0572252*o))}function te(t,e,n){return t>0?U(Math.atan2(n,e)*Ji,Math.sqrt(e*e+n*n),t):U(0/0,0/0,t)}function ee(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ne(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function re(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ae(t){return ie(t>>16,t>>8&255,255&t)}function oe(t){return ae(t)+""}function ie(t,e,n){return new le(t,e,n)}function le(t,e,n){this.r=t,this.g=e,this.b=n}function se(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ue(t,e,n){var r,a,o,i=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(he(a[0]),he(a[1]),he(a[2]))}return(o=dl.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(i=t.charAt(1),i+=i,l=t.charAt(2),l+=l,s=t.charAt(3),s+=s):7===t.length&&(i=t.substring(1,3),l=t.substring(3,5),s=t.substring(5,7)),i=parseInt(i,16),l=parseInt(l,16),s=parseInt(s,16)),e(i,l,s))}function ce(t,e,n){var r,a,o=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),l=i-o,s=(i+o)/2;return l?(a=.5>s?l/(i+o):l/(2-i-o),r=t==i?(e-n)/l+(n>e?6:0):e==i?(n-t)/l+2:(t-e)/l+4,r*=60):(r=0/0,a=s>0&&1>s?0:r),Y(r,a,s)}function fe(t,e,n){t=de(t),e=de(e),n=de(n);var r=ne((.4124564*t+.3575761*e+.1804375*n)/ll),a=ne((.2126729*t+.7151522*e+.072175*n)/sl),o=ne((.0193339*t+.119192*e+.9503041*n)/ul);return J(116*a-16,500*(r-a),200*(a-o))}function de(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function ge(t){return"function"==typeof t?t:function(){return t}}function pe(t){return t}function me(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ve(e,n,t,r)}}function ve(t,e,n,r){function a(){var t,e=s.status;if(!e&&s.responseText||e>=200&&300>e||304===e){try{t=n.call(o,s)}catch(t){return void i.error.call(o,t)}i.load.call(o,t)}else i.error.call(o,s)}var o={},i=yi.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;return!ki.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=a:s.onreadystatechange=function(){s.readyState>3&&a()},s.onprogress=function(t){var e=yi.event;yi.event=t;try{i.progress.call(o,s)}finally{yi.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(bi(arguments)))}}),o.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),s.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),s.setRequestHeader)for(var c in l)s.setRequestHeader(c,l[c]);return null!=e&&s.overrideMimeType&&s.overrideMimeType(e),null!=u&&(s.responseType=u),null!=a&&o.on("error",a).on("load",function(t){a(null,t)}),i.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},yi.rebind(o,i,"on"),null==r?o:o.get(ye(r))}function ye(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function xe(){var t=_e(),e=we()-t;e>24?(isFinite(e)&&(clearTimeout(ml),ml=setTimeout(xe,e)),pl=0):(pl=1,yl(xe))}function be(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now()),vl.callback=t,vl.time=n+e}function _e(){var t=Date.now();for(vl=hl;vl;)t>=vl.time&&(vl.flush=vl.callback(t-vl.time)),vl=vl.next;return t}function we(){for(var t,e=hl,n=1/0;e;)e.flush?e=t?t.next=e.next:hl=e.next:(e.time<n&&(n=e.time),e=(t=e).next);return gl=t,n}function ke(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Me(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ae(t){return t+""}function Le(){}function Te(t,e,n){var r=n.s=t+e,a=r-t,o=r-a;n.t=t-o+(e-a)}function ze(t,e){t&&Cl.hasOwnProperty(t.type)&&Cl[t.type](t,e)}function Se(t,e,n){var r,a=-1,o=t.length-n;for(e.lineStart();++a<o;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ce(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Se(t[n],e,1);e.polygonEnd()}function Ee(){function t(t,e){t*=Qi,e=e*Qi/2+Gi/4;var n=t-r,i=Math.cos(e),l=Math.sin(e),s=o*l,u=a*i+s*Math.cos(n),c=s*Math.sin(n);Dl.add(Math.atan2(c,u)),r=t,a=i,o=l}var e,n,r,a,o;Ol.point=function(i,l){Ol.point=t,r=(e=i)*Qi,a=Math.cos(l=(n=l)*Qi/2+Gi/4),o=Math.sin(l)},Ol.lineEnd=function(){t(e,n)}}function De(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Oe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ie(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ne(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function je(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fe(t){return[Math.atan2(t[1],t[0]),R(t[2])]}function Re(t,e){return Math.abs(t[0]-e[0])<Ui&&Math.abs(t[1]-e[1])<Ui}function qe(t,e){t*=Qi;var n=Math.cos(e*=Qi);He(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function He(t,e,n){++Pl,Nl+=(t-Nl)/Pl,jl+=(e-jl)/Pl,Fl+=(n-Fl)/Pl}function Be(){function t(t,a){t*=Qi;var o=Math.cos(a*=Qi),i=o*Math.cos(t),l=o*Math.sin(t),s=Math.sin(a),u=Math.atan2(Math.sqrt((u=n*s-r*l)*u+(u=r*i-e*s)*u+(u=e*l-n*i)*u),e*i+n*l+r*s);Il+=u,Rl+=u*(e+(e=i)),ql+=u*(n+(n=l)),Hl+=u*(r+(r=s)),He(e,n,r)}var e,n,r;Yl.point=function(a,o){a*=Qi;var i=Math.cos(o*=Qi);e=i*Math.cos(a),n=i*Math.sin(a),r=Math.sin(o),Yl.point=t,He(e,n,r)}}function Ve(){Yl.point=qe}function Ze(){function t(t,e){t*=Qi;var n=Math.cos(e*=Qi),i=n*Math.cos(t),l=n*Math.sin(t),s=Math.sin(e),u=a*s-o*l,c=o*i-r*s,f=r*l-a*i,d=Math.sqrt(u*u+c*c+f*f),h=r*i+a*l+o*s,g=d&&-F(h)/d,p=Math.atan2(d,h);Bl+=g*u,Vl+=g*c,Zl+=g*f,Il+=p,Rl+=p*(r+(r=i)),ql+=p*(a+(a=l)),Hl+=p*(o+(o=s)),He(r,a,o)}var e,n,r,a,o;Yl.point=function(i,l){e=i,n=l,Yl.point=t,i*=Qi;var s=Math.cos(l*=Qi);r=s*Math.cos(i),a=s*Math.sin(i),o=Math.sin(l),He(r,a,o)},Yl.lineEnd=function(){t(e,n),Yl.lineEnd=Ve,Yl.point=qe}}function Ye(){return!0}function Xe(t,e,n,r,a){var o=[],i=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Re(n,r)){a.lineStart();for(var l=0;e>l;++l)a.point((n=t[l])[0],n[1]);return void a.lineEnd()}var s={point:n,points:t,other:null,visited:!1,entry:!0,subject:!0},u={point:n,points:[n],other:s,visited:!1,entry:!1,subject:!1};s.other=u,o.push(s),i.push(u),s={point:r,points:[r],other:null,visited:!1,entry:!1,subject:!0},u={point:r,points:[r],other:s,visited:!1,entry:!0,subject:!1},s.other=u,o.push(s),i.push(u)}}),i.sort(e),Ge(o),Ge(i),o.length){if(n)for(var l=1,s=!n(i[0].point),u=i.length;u>l;++l)i[l].entry=s=!s;for(var c,f,d,h=o[0];;){for(c=h;c.visited;)if((c=c.next)===h)return;f=c.points,a.lineStart();do{if(c.visited=c.other.visited=!0,c.entry){if(c.subject)for(var l=0;l<f.length;l++)a.point((d=f[l])[0],d[1]);else r(c.point,c.next.point,1,a);c=c.next}else{if(c.subject){f=c.prev.points;for(var l=f.length;--l>=0;)a.point((d=f[l])[0],d[1])}else r(c.point,c.prev.point,-1,a);c=c.prev}c=c.other,f=c.points}while(!c.visited);a.lineEnd()}}}function Ge(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.next=n=t[r],n.prev=a,a=n;a.next=n=t[0],n.prev=a}}function Ue(t,e,n,r){return function(a){function o(e,n){t(e,n)&&a.point(e,n)}function i(t,e){p.point(t,e)}function l(){m.point=i,p.lineStart()}function s(){m.point=o,p.lineEnd()}function u(t,e){y.point(t,e),g.push([t,e])}function c(){y.lineStart(),g=[]}function f(){u(g[0][0],g[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),r=n.length;if(g.pop(),h.push(g),g=null,r){if(1&e){t=n[0];var o,r=t.length-1,i=-1;for(a.lineStart();++i<r;)a.point((o=t[i])[0],o[1]);return void a.lineEnd()}r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter($e))}}var d,h,g,p=e(a),m={point:o,lineStart:l,lineEnd:s,polygonStart:function(){m.point=u,m.lineStart=c,m.lineEnd=f,d=[],h=[],a.polygonStart()},polygonEnd:function(){m.point=o,m.lineStart=l,m.lineEnd=s,d=yi.merge(d),d.length?Xe(d,Je,null,n,a):r(h)&&(a.lineStart(),n(null,null,1,a),a.lineEnd()),a.polygonEnd(),d=h=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},v=Qe(),y=e(v);return m}}function $e(t){return t.length>1}function Qe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:s,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Je(t,e){return((t=t.point)[0]<0?t[1]-Gi/2-Ui:Gi/2-t[1])-((e=e.point)[0]<0?e[1]-Gi/2-Ui:Gi/2-e[1])}function We(t,e){var n=t[0],r=t[1],a=[Math.sin(n),-Math.cos(n),0],o=0,i=0;Dl.reset();for(var l=0,s=e.length;s>l;++l){var u=e[l],c=u.length;if(c)for(var f=u[0],d=f[0],h=f[1]/2+Gi/4,g=Math.sin(h),p=Math.cos(h),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Gi/4,x=Math.sin(y),b=Math.cos(y),_=v-d,w=Math.abs(_)>Gi,k=g*x;if(Dl.add(Math.atan2(k*Math.sin(_),p*b+k*Math.cos(_))),o+=w?_+(_>=0?2:-2)*Gi:_,w^d>=n^v>=n){var M=Pe(De(f),De(t));je(M);var A=Pe(a,M);je(A);var L=(w^_>=0?-1:1)*R(A[2]);r>L&&(i+=w^_>=0?1:-1)}if(!m++)break;d=v,g=x,p=b,f=t}}return(-Ui>o||Ui>o&&0>Dl)^1&i}function Ke(t){var e,n=0/0,r=0/0,a=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,i){var l=o>0?Gi:-Gi,s=Math.abs(o-n);Math.abs(s-Gi)<Ui?(t.point(n,r=(r+i)/2>0?Gi/2:-Gi/2),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(o,r),e=0):a!==l&&s>=Gi&&(Math.abs(n-a)<Ui&&(n-=a*Ui),Math.abs(o-l)<Ui&&(o-=l*Ui),r=tn(n,r,o,i),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=o,r=i),a=l},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function tn(t,e,n,r){var a,o,i=Math.sin(t-n);return Math.abs(i)>Ui?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(e))*Math.sin(t))/(a*o*i)):(e+r)/2}function en(t,e,n,r){var a;if(null==t)a=n*Gi/2,r.point(-Gi,a),r.point(0,a),r.point(Gi,a),r.point(Gi,0),r.point(Gi,-a),r.point(0,-a),r.point(-Gi,-a),r.point(-Gi,0),r.point(-Gi,a);else if(Math.abs(t[0]-e[0])>Ui){var o=(t[0]<e[0]?1:-1)*Gi;a=n*o/2,r.point(-o,a),r.point(0,a),r.point(o,a)}else r.point(e[0],e[1])}function nn(t){return We(Gl,t)}function rn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,o,i,s,c;return{lineStart:function(){s=i=!1,c=1},point:function(f,d){var h,g=[f,d],p=e(f,d),m=l?p?0:a(f,d):p?a(f+(0>f?Gi:-Gi),d):0;if(!n&&(s=i=p)&&t.lineStart(),p!==i&&(h=r(n,g),(Re(n,h)||Re(g,h))&&(g[0]+=Ui,g[1]+=Ui,p=e(g[0],g[1]))),p!==i)c=0,p?(t.lineStart(),h=r(g,n),t.point(h[0],h[1])):(h=r(n,g),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(u&&n&&l^p){var v;m&o||!(v=r(g,n,!0))||(c=0,l?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!p||n&&Re(n,g)||t.point(g[0],g[1]),n=g,i=p,o=m},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return c|(s&&i)<<1}}}function r(t,e,n){var r=De(t),a=De(e),o=[1,0,0],l=Pe(r,a),s=Oe(l,l),u=l[0],c=s-u*u;if(!c)return!n&&t;var f=i*s/c,d=-i*u/c,h=Pe(o,l),g=Ne(o,f),p=Ne(l,d);Ie(g,p);var m=h,v=Oe(g,m),y=Oe(m,m),x=v*v-y*(Oe(g,g)-1);if(!(0>x)){var b=Math.sqrt(x),_=Ne(m,(-v-b)/y);if(Ie(_,g),_=Fe(_),!n)return _;var w,k=t[0],M=e[0],A=t[1],L=e[1];k>M&&(w=k,k=M,M=w);var T=M-k,z=Math.abs(T-Gi)<Ui,S=z||Ui>T;if(!z&&A>L&&(w=A,A=L,L=w),S?z?A+L>0^_[1]<(Math.abs(_[0]-k)<Ui?A:L):A<=_[1]&&_[1]<=L:T>Gi^(k<=_[0]&&_[0]<=M)){var C=Ne(m,(-v+b)/y);return Ie(C,g),[_,Fe(C)]}}}function a(e,n){var r=l?t:Gi-t,a=0;return-r>e?a|=1:e>r&&(a|=2),-r>n?a|=4:n>r&&(a|=8),a}function o(t){return We(s,t)}var i=Math.cos(t),l=i>0,s=[t,0],u=Math.abs(i)>Ui,c=Cn(t,6*Qi);return Ue(e,n,c,o)}function an(t,e,n,r){function a(r,a){return Math.abs(r[0]-t)<Ui?a>0?0:3:Math.abs(r[0]-n)<Ui?a>0?2:1:Math.abs(r[1]-e)<Ui?a>0?1:0:a>0?3:2}function o(t,e){return i(t.point,e.point)}function i(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}function l(a,o){var i=o[0]-a[0],l=o[1]-a[1],s=[0,1];return Math.abs(i)<Ui&&Math.abs(l)<Ui?t<=a[0]&&a[0]<=n&&e<=a[1]&&a[1]<=r:on(t-a[0],i,s)&&on(a[0]-n,-i,s)&&on(e-a[1],l,s)&&on(a[1]-r,-l,s)?(s[1]<1&&(o[0]=a[0]+s[1]*i,o[1]=a[1]+s[1]*l),s[0]>0&&(a[0]+=s[0]*i,a[1]+=s[0]*l),!0):!1
}return function(s){function u(o){var i=a(o,-1),l=c([0===i||3===i?t:n,i>1?r:e]);return l}function c(t){for(var e=0,n=x.length,r=t[1],a=0;n>a;++a)for(var o,i=1,l=x[a],s=l.length,u=l[0];s>i;++i)o=l[i],u[1]<=r?o[1]>r&&f(u,o,t)>0&&++e:o[1]<=r&&f(u,o,t)<0&&--e,u=o;return 0!==e}function f(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function d(o,l,s,u){var c=0,f=0;if(null==o||(c=a(o,s))!==(f=a(l,s))||i(o,l)<0^s>0)do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+s+4)%4)!==f);else u.point(l[0],l[1])}function h(a,o){return a>=t&&n>=a&&o>=e&&r>=o}function g(t,e){h(t,e)&&s.point(t,e)}function p(){C.point=v,x&&x.push(b=[]),T=!0,L=!1,M=A=0/0}function m(){y&&(v(_,w),k&&L&&S.rejoin(),y.push(S.buffer())),C.point=g,L&&s.lineEnd()}function v(t,e){t=Math.max(-Ul,Math.min(Ul,t)),e=Math.max(-Ul,Math.min(Ul,e));var n=h(t,e);if(x&&b.push([t,e]),T)_=t,w=e,k=n,T=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&L)s.point(t,e);else{var r=[M,A],a=[t,e];l(r,a)?(L||(s.lineStart(),s.point(r[0],r[1])),s.point(a[0],a[1]),n||s.lineEnd()):n&&(s.lineStart(),s.point(t,e))}M=t,A=e,L=n}var y,x,b,_,w,k,M,A,L,T,z=s,S=Qe(),C={point:g,lineStart:p,lineEnd:m,polygonStart:function(){s=S,y=[],x=[]},polygonEnd:function(){s=z,(y=yi.merge(y)).length?(s.polygonStart(),Xe(y,o,u,d,s),s.polygonEnd()):c([t,e])&&(s.polygonStart(),s.lineStart(),d(null,null,1,s),s.lineEnd(),s.polygonEnd()),y=x=b=null}};return C}}function on(t,e,n){if(Math.abs(e)<Ui)return 0>=t;var r=t/e;if(e>0){if(r>n[1])return!1;r>n[0]&&(n[0]=r)}else{if(r<n[0])return!1;r<n[1]&&(n[1]=r)}return!0}function ln(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function sn(t){var e=0,n=Gi/3,r=kn(t),a=r(e,n);return a.parallels=function(t){return arguments.length?r(e=t[0]*Gi/180,n=t[1]*Gi/180):[e/Gi*180,n/Gi*180]},a}function un(t,e){function n(t,e){var n=Math.sqrt(o-2*a*Math.sin(e))/a;return[n*Math.sin(t*=a),i-n*Math.cos(t)]}var r=Math.sin(t),a=(r+Math.sin(e))/2,o=1+r*(2*a-r),i=Math.sqrt(o)/a;return n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/a,R((o-(t*t+n*n)*a*a)/(2*a))]},n}function cn(){function t(t,e){Ql+=a*t-r*e,r=t,a=e}var e,n,r,a;es.point=function(o,i){es.point=t,e=r=o,n=a=i},es.lineEnd=function(){t(e,n)}}function fn(t,e){Jl>t&&(Jl=t),t>Kl&&(Kl=t),Wl>e&&(Wl=e),e>ts&&(ts=e)}function dn(){function t(t,e){i.push("M",t,",",e,o)}function e(t,e){i.push("M",t,",",e),l.point=n}function n(t,e){i.push("L",t,",",e)}function r(){l.point=t}function a(){i.push("Z")}var o=hn(4.5),i=[],l={point:t,lineStart:function(){l.point=e},lineEnd:r,polygonStart:function(){l.lineEnd=a},polygonEnd:function(){l.lineEnd=r,l.point=t},pointRadius:function(t){return o=hn(t),l},result:function(){if(i.length){var t=i.join("");return i=[],t}}};return l}function hn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function gn(t,e){Nl+=t,jl+=e,++Fl}function pn(){function t(t,r){var a=t-e,o=r-n,i=Math.sqrt(a*a+o*o);Rl+=i*(e+t)/2,ql+=i*(n+r)/2,Hl+=i,gn(e=t,n=r)}var e,n;rs.point=function(r,a){rs.point=t,gn(e=r,n=a)}}function mn(){rs.point=gn}function vn(){function t(t,e){var n=t-r,o=e-a,i=Math.sqrt(n*n+o*o);Rl+=i*(r+t)/2,ql+=i*(a+e)/2,Hl+=i,i=a*t-r*e,Bl+=i*(r+t),Vl+=i*(a+e),Zl+=3*i,gn(r=t,a=e)}var e,n,r,a;rs.point=function(o,i){rs.point=t,gn(e=r=o,n=a=i)},rs.lineEnd=function(){t(e,n)}}function yn(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,i,0,2*Gi)}function n(e,n){t.moveTo(e,n),l.point=r}function r(e,n){t.lineTo(e,n)}function a(){l.point=e}function o(){t.closePath()}var i=4.5,l={point:e,lineStart:function(){l.point=n},lineEnd:a,polygonStart:function(){l.lineEnd=o},polygonEnd:function(){l.lineEnd=a,l.point=e},pointRadius:function(t){return i=t,l},result:s};return l}function xn(t){function e(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function a(){x=0/0,M.point=i,e.lineStart()}function i(r,a){var i=De([r,a]),l=t(r,a);n(x,b,y,_,w,k,x=l[0],b=l[1],y=r,_=i[0],w=i[1],k=i[2],o,e),e.point(x,b)}function l(){M.point=r,e.lineEnd()}function s(){a(),M.point=u,M.lineEnd=c}function u(t,e){i(f=t,d=e),h=x,g=b,p=_,m=w,v=k,M.point=i}function c(){n(x,b,y,_,w,k,h,g,f,p,m,v,o,e),M.lineEnd=l,l()}var f,d,h,g,p,m,v,y,x,b,_,w,k,M={point:r,lineStart:a,lineEnd:l,polygonStart:function(){e.polygonStart(),M.lineStart=s},polygonEnd:function(){e.polygonEnd(),M.lineStart=a}};return M}function n(e,o,i,l,s,u,c,f,d,h,g,p,m,v){var y=c-e,x=f-o,b=y*y+x*x;if(b>4*r&&m--){var _=l+h,w=s+g,k=u+p,M=Math.sqrt(_*_+w*w+k*k),A=Math.asin(k/=M),L=Math.abs(Math.abs(k)-1)<Ui?(i+d)/2:Math.atan2(w,_),T=t(L,A),z=T[0],S=T[1],C=z-e,E=S-o,D=x*C-y*E;(D*D/b>r||Math.abs((y*C+x*E)/b-.5)>.3||a>l*h+s*g+u*p)&&(n(e,o,i,l,s,u,z,S,L,_/=M,w/=M,k,m,v),v.point(z,S),n(z,S,L,_,w,k,c,f,d,h,g,p,m,v))}}var r=.5,a=Math.cos(30*Qi),o=16;return e.precision=function(t){return arguments.length?(o=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function bn(t){this.stream=t}function _n(t){var e=xn(function(e,n){return t([e*Ji,n*Ji])});return function(t){var n=new bn(t=e(t));return n.point=function(e,n){t.point(e*Qi,n*Qi)},n}}function wn(t){return kn(function(){return t})()}function kn(t){function e(t){return t=l(t[0]*Qi,t[1]*Qi),[t[0]*d+s,u-t[1]*d]}function n(t){return t=l.invert((t[0]-s)/d,(u-t[1])/d),t&&[t[0]*Ji,t[1]*Ji]}function r(){l=ln(i=Ln(v,y,x),o);var t=o(p,m);return s=h-t[0]*d,u=g+t[1]*d,a()}function a(){return c&&(c.valid=!1,c=null),e}var o,i,l,s,u,c,f=xn(function(t,e){return t=o(t,e),[t[0]*d+s,u-t[1]*d]}),d=150,h=480,g=250,p=0,m=0,v=0,y=0,x=0,b=Xl,_=pe,w=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),c=Mn(i,b(f(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Xl):rn((w=+t)*Qi),a()):w},e.clipExtent=function(t){return arguments.length?(k=t,_=t?an(t[0][0],t[0][1],t[1][0],t[1][1]):pe,a()):k},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],g=+t[1],r()):[h,g]},e.center=function(t){return arguments.length?(p=t[0]%360*Qi,m=t[1]%360*Qi,r()):[p*Ji,m*Ji]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Qi,y=t[1]%360*Qi,x=t.length>2?t[2]%360*Qi:0,r()):[v*Ji,y*Ji,x*Ji]},yi.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function Mn(t,e){var n=new bn(e);return n.point=function(n,r){r=t(n*Qi,r*Qi),n=r[0],e.point(n>Gi?n-2*Gi:-Gi>n?n+2*Gi:n,r[1])},n}function An(t,e){return[t,e]}function Ln(t,e,n){return t?e||n?ln(zn(t),Sn(e,n)):zn(t):e||n?Sn(e,n):An}function Tn(t){return function(e,n){return e+=t,[e>Gi?e-2*Gi:-Gi>e?e+2*Gi:e,n]}}function zn(t){var e=Tn(t);return e.invert=Tn(-t),e}function Sn(t,e){function n(t,e){var n=Math.cos(e),l=Math.cos(t)*n,s=Math.sin(t)*n,u=Math.sin(e),c=u*r+l*a;return[Math.atan2(s*o-c*i,l*r-u*a),R(c*o+s*i)]}var r=Math.cos(t),a=Math.sin(t),o=Math.cos(e),i=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),l=Math.cos(t)*n,s=Math.sin(t)*n,u=Math.sin(e),c=u*o-s*i;return[Math.atan2(s*o+u*i,l*r+c*a),R(c*r-l*a)]},n}function Cn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(a,o,i,l){var s=i*e;null!=a?(a=En(n,a),o=En(n,o),(i>0?o>a:a>o)&&(a+=2*i*Gi)):(a=t+2*i*Gi,o=t-.5*s);for(var u,c=a;i>0?c>o:o>c;c-=s)l.point((u=Fe([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function En(t,e){var n=De(e);n[0]-=t,je(n);var r=F(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ui)%(2*Math.PI)}function Dn(t,e,n){var r=yi.range(t,e-Ui,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function On(t,e,n){var r=yi.range(t,e-Ui,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Pn(t){return t.source}function In(t){return t.target}function Nn(t,e,n,r){var a=Math.cos(e),o=Math.sin(e),i=Math.cos(r),l=Math.sin(r),s=a*Math.cos(t),u=a*Math.sin(t),c=i*Math.cos(n),f=i*Math.sin(n),d=2*Math.asin(Math.sqrt(V(r-e)+a*i*V(n-t))),h=1/Math.sin(d),g=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*s+e*c,a=n*u+e*f,i=n*o+e*l;return[Math.atan2(a,r)*Ji,Math.atan2(i,Math.sqrt(r*r+a*a))*Ji]}:function(){return[t*Ji,e*Ji]};return g.distance=d,g}function jn(){function t(t,a){var o=Math.sin(a*=Qi),i=Math.cos(a),l=Math.abs((t*=Qi)-e),s=Math.cos(l);as+=Math.atan2(Math.sqrt((l=i*Math.sin(l))*l+(l=r*o-n*i*s)*l),n*o+r*i*s),e=t,n=o,r=i}var e,n,r;os.point=function(a,o){e=a*Qi,n=Math.sin(o*=Qi),r=Math.cos(o),os.point=t},os.lineEnd=function(){os.point=os.lineEnd=s}}function Fn(t,e){function n(e,n){var r=Math.cos(e),a=Math.cos(n),o=t(r*a);return[o*a*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),a=e(r),o=Math.sin(a),i=Math.cos(a);return[Math.atan2(t*o,r*i),Math.asin(r&&n*o/r)]},n}function Rn(t,e){function n(t,e){var n=Math.abs(Math.abs(e)-Gi/2)<Ui?0:i/Math.pow(a(e),o);return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),a=function(t){return Math.tan(Gi/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(a(e)/a(t)),i=r*Math.pow(a(t),o)/o;return o?(n.invert=function(t,e){var n=i-e,r=j(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(i/r,1/o))-Gi/2]},n):Hn}function qn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var r=Math.cos(t),a=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/a+t;return Math.abs(a)<Ui?An:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/a,o-j(a)*Math.sqrt(t*t+n*n)]},n)}function Hn(t,e){return[t,Math.log(Math.tan(Gi/4+e/2))]}function Bn(t){var e,n=wn(t),r=n.scale,a=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=a.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var i=o.apply(n,arguments);if(i===n){if(e=null==t){var l=Gi*r(),s=a();o([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else e&&(i=null);return i},n.clipExtent(null)}function Vn(t,e){var n=Math.cos(e)*Math.sin(t);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function Zn(t){function e(e){function i(){u.push("M",o(t(c),l))}for(var s,u=[],c=[],f=-1,d=e.length,h=ge(n),g=ge(r);++f<d;)a.call(this,s=e[f],f)?c.push([+h.call(this,s,f),+g.call(this,s,f)]):c.length&&(i(),c=[]);return c.length&&i(),u.length?u.join(""):null}var n=Yn,r=Xn,a=Ye,o=Gn,i=o.key,l=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(i="function"==typeof t?o=t:(o=fs.get(t)||Gn).key,e):i},e.tension=function(t){return arguments.length?(l=t,e):l},e}function Yn(t){return t[0]}function Xn(t){return t[1]}function Gn(t){return t.join("L")}function Un(t){return Gn(t)+"Z"}function $n(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")}function Qn(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("V",(r=t[e])[1],"H",r[0]);return a.join("")}function Jn(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r=t[e])[0],"V",r[1]);return a.join("")}function Wn(t,e){return t.length<4?Gn(t):t[1]+er(t.slice(1,t.length-1),nr(t,e))}function Kn(t,e){return t.length<3?Gn(t):t[0]+er((t.push(t[0]),t),nr([t[t.length-2]].concat(t,[t[1]]),e))}function tr(t,e){return t.length<3?Gn(t):t[0]+er(t,nr(t,e))}function er(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Gn(t);var n=t.length!=e.length,r="",a=t[0],o=t[1],i=e[0],l=i,s=1;if(n&&(r+="Q"+(o[0]-2*i[0]/3)+","+(o[1]-2*i[1]/3)+","+o[0]+","+o[1],a=t[1],s=2),e.length>1){l=e[1],o=t[s],s++,r+="C"+(a[0]+i[0])+","+(a[1]+i[1])+","+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,s++)o=t[s],l=e[u],r+="S"+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var c=t[s];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function nr(t,e){for(var n,r=[],a=(1-e)/2,o=t[0],i=t[1],l=1,s=t.length;++l<s;)n=o,o=i,i=t[l],r.push([a*(i[0]-n[0]),a*(i[1]-n[1])]);return r}function rr(t){if(t.length<3)return Gn(t);var e=1,n=t.length,r=t[0],a=r[0],o=r[1],i=[a,a,a,(r=t[1])[0]],l=[o,o,o,r[1]],s=[a,",",o,"L",lr(gs,i),",",lr(gs,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],i.shift(),i.push(r[0]),l.shift(),l.push(r[1]),sr(s,i,l);return t.pop(),s.push("L",r),s.join("")}function ar(t){if(t.length<4)return Gn(t);for(var e,n=[],r=-1,a=t.length,o=[0],i=[0];++r<3;)e=t[r],o.push(e[0]),i.push(e[1]);for(n.push(lr(gs,o)+","+lr(gs,i)),--r;++r<a;)e=t[r],o.shift(),o.push(e[0]),i.shift(),i.push(e[1]),sr(n,o,i);return n.join("")}function or(t){for(var e,n,r=-1,a=t.length,o=a+4,i=[],l=[];++r<4;)n=t[r%a],i.push(n[0]),l.push(n[1]);for(e=[lr(gs,i),",",lr(gs,l)],--r;++r<o;)n=t[r%a],i.shift(),i.push(n[0]),l.shift(),l.push(n[1]),sr(e,i,l);return e.join("")}function ir(t,e){var n=t.length-1;if(n)for(var r,a,o=t[0][0],i=t[0][1],l=t[n][0]-o,s=t[n][1]-i,u=-1;++u<=n;)r=t[u],a=u/n,r[0]=e*r[0]+(1-e)*(o+a*l),r[1]=e*r[1]+(1-e)*(i+a*s);return rr(t)}function lr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function sr(t,e,n){t.push("C",lr(ds,e),",",lr(ds,n),",",lr(hs,e),",",lr(hs,n),",",lr(gs,e),",",lr(gs,n))}function ur(t,e){return(e[1]-t[1])/(e[0]-t[0])}function cr(t){for(var e=0,n=t.length-1,r=[],a=t[0],o=t[1],i=r[0]=ur(a,o);++e<n;)r[e]=(i+(i=ur(a=o,o=t[e+1])))/2;return r[e]=i,r}function fr(t){for(var e,n,r,a,o=[],i=cr(t),l=-1,s=t.length-1;++l<s;)e=ur(t[l],t[l+1]),Math.abs(e)<1e-6?i[l]=i[l+1]=0:(n=i[l]/e,r=i[l+1]/e,a=n*n+r*r,a>9&&(a=3*e/Math.sqrt(a),i[l]=a*n,i[l+1]=a*r));for(l=-1;++l<=s;)a=(t[Math.min(s,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+i[l]*i[l])),o.push([a||0,i[l]*a||0]);return o}function dr(t){return t.length<3?Gn(t):t[0]+er(t,fr(t))}function hr(t,e,n,r){var a,o,i,l,s,u,c;return a=r[t],o=a[0],i=a[1],a=r[e],l=a[0],s=a[1],a=r[n],u=a[0],c=a[1],(c-i)*(l-o)-(s-i)*(u-o)>0}function gr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function pr(t,e,n,r){var a=t[0],o=n[0],i=e[0]-a,l=r[0]-o,s=t[1],u=n[1],c=e[1]-s,f=r[1]-u,d=(l*(s-u)-f*(a-o))/(f*i-l*c);return[a+d*i,s+d*c]}function mr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function vr(t,e){var n={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=r.leftEnd;do e=e.r;while(e!=r.rightEnd&&a.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[ms[t.side]]}},a={bisect:function(t,e){var n={region:{l:t,r:e},ep:{l:null,r:null}},r=e.x-t.x,a=e.y-t.y,o=r>0?r:-r,i=a>0?a:-a;return n.c=t.x*r+t.y*a+.5*(r*r+a*a),o>i?(n.a=1,n.b=a/r,n.c/=r):(n.b=1,n.a=r/a,n.c/=a),n},intersect:function(t,e){var n=t.edge,r=e.edge;if(!n||!r||n.region.r==r.region.r)return null;var a=n.a*r.b-n.b*r.a;if(Math.abs(a)<1e-10)return null;var o,i,l=(n.c*r.b-r.c*n.b)/a,s=(r.c*n.a-n.c*r.a)/a,u=n.region.r,c=r.region.r;u.y<c.y||u.y==c.y&&u.x<c.x?(o=t,i=n):(o=e,i=r);var f=l>=i.region.r.x;return f&&"l"===o.side||!f&&"r"===o.side?null:{x:l,y:s}},rightOf:function(t,e){var n=t.edge,r=n.region.r,a=e.x>r.x;if(a&&"l"===t.side)return 1;if(!a&&"r"===t.side)return 0;if(1===n.a){var o=e.y-r.y,i=e.x-r.x,l=0,s=0;if(!a&&n.b<0||a&&n.b>=0?s=l=o>=n.b*i:(s=e.x+e.y*n.b>n.c,n.b<0&&(s=!s),s||(l=1)),!l){var u=r.x-n.region.l.x;s=n.b*(i*i-o*o)<u*o*(1+2*i/u+n.b*n.b),n.b<0&&(s=!s)}}else{var c=n.c-n.a*e.x,f=e.y-c,d=e.x-r.x,h=c-r.y;s=f*f>d*d+h*h}return"l"===t.side?s:!s},endPoint:function(t,n,r){t.ep[n]=r,t.ep[ms[n]]&&e(t)},distance:function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}},o={list:[],insert:function(t,e,n){t.vertex=e,t.ystar=e.y+n;for(var r=0,a=o.list,i=a.length;i>r;r++){var l=a[r];if(!(t.ystar>l.ystar||t.ystar==l.ystar&&e.x>l.vertex.x))break}a.splice(r,0,t)},del:function(t){for(var e=0,n=o.list,r=n.length;r>e&&n[e]!=t;++e);n.splice(e,1)},empty:function(){return 0===o.list.length},nextEvent:function(t){for(var e=0,n=o.list,r=n.length;r>e;++e)if(n[e]==t)return n[e+1];return null},min:function(){var t=o.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return o.list.shift()}};r.init(),n.bottomSite=n.list.shift();for(var i,l,s,u,c,f,d,h,g,p,m,v,y,x=n.list.shift();;)if(o.empty()||(i=o.min()),x&&(o.empty()||x.y<i.y||x.y==i.y&&x.x<i.x))l=r.leftBound(x),s=r.right(l),d=r.rightRegion(l),v=a.bisect(d,x),f=r.createHalfEdge(v,"l"),r.insert(l,f),p=a.intersect(l,f),p&&(o.del(l),o.insert(l,p,a.distance(p,x))),l=f,f=r.createHalfEdge(v,"r"),r.insert(l,f),p=a.intersect(f,s),p&&o.insert(f,p,a.distance(p,x)),x=n.list.shift();else{if(o.empty())break;l=o.extractMin(),u=r.left(l),s=r.right(l),c=r.right(s),d=r.leftRegion(l),h=r.rightRegion(s),m=l.vertex,a.endPoint(l.edge,l.side,m),a.endPoint(s.edge,s.side,m),r.del(l),o.del(s),r.del(s),y="l",d.y>h.y&&(g=d,d=h,h=g,y="r"),v=a.bisect(d,h),f=r.createHalfEdge(v,y),r.insert(u,f),a.endPoint(v,ms[y],m),p=a.intersect(u,f),p&&(o.del(u),o.insert(u,p,a.distance(p,d))),p=a.intersect(f,c),p&&o.insert(f,p,a.distance(p,d))}for(l=r.right(r.leftEnd);l!=r.rightEnd;l=r.right(l))e(l.edge)}function yr(t){return t.x}function xr(t){return t.y}function br(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _r(t,e,n,r,a,o){if(!t(e,n,r,a,o)){var i=.5*(n+a),l=.5*(r+o),s=e.nodes;s[0]&&_r(t,s[0],n,r,i,l),s[1]&&_r(t,s[1],i,r,a,l),s[2]&&_r(t,s[2],n,l,i,o),s[3]&&_r(t,s[3],i,l,a,o)}}function wr(t,e){t=yi.rgb(t),e=yi.rgb(e);var n=t.r,r=t.g,a=t.b,o=e.r-n,i=e.g-r,l=e.b-a;return function(t){return"#"+se(Math.round(n+o*t))+se(Math.round(r+i*t))+se(Math.round(a+l*t))}}function kr(t,e){var n,r={},a={};for(n in t)n in e?r[n]=Lr(t[n],e[n]):a[n]=t[n];for(n in e)n in t||(a[n]=e[n]);return function(t){for(n in r)a[n]=r[n](t);return a}}function Mr(t,e){return e-=t=+t,function(n){return t+e*n}}function Ar(t,e){var n,r,a,o,i,l=0,s=0,u=[],c=[];for(t+="",e+="",vs.lastIndex=0,r=0;n=vs.exec(e);++r)n.index&&u.push(e.substring(l,s=n.index)),c.push({i:u.length,x:n[0]}),u.push(null),l=vs.lastIndex;for(l<e.length&&u.push(e.substring(l)),r=0,o=c.length;(n=vs.exec(t))&&o>r;++r)if(i=c[r],i.x==n[0]){if(i.i)if(null==u[i.i+1])for(u[i.i-1]+=i.x,u.splice(i.i,1),a=r+1;o>a;++a)c[a].i--;else for(u[i.i-1]+=i.x+u[i.i+1],u.splice(i.i,2),a=r+1;o>a;++a)c[a].i-=2;else if(null==u[i.i+1])u[i.i]=i.x;else for(u[i.i]=i.x+u[i.i+1],u.splice(i.i+1,1),a=r+1;o>a;++a)c[a].i--;c.splice(r,1),o--,r--}else i.x=Mr(parseFloat(n[0]),parseFloat(i.x));for(;o>r;)i=c.pop(),null==u[i.i+1]?u[i.i]=i.x:(u[i.i]=i.x+u[i.i+1],u.splice(i.i+1,1)),o--;return 1===u.length?null==u[0]?(i=c[0].x,function(t){return i(t)+""}):function(){return e}:function(t){for(r=0;o>r;++r)u[(i=c[r]).i]=i.x(t);return u.join("")}}function Lr(t,e){for(var n,r=yi.interpolators.length;--r>=0&&!(n=yi.interpolators[r](t,e)););return n}function Tr(t,e){var n,r=[],a=[],o=t.length,i=e.length,l=Math.min(t.length,e.length);for(n=0;l>n;++n)r.push(Lr(t[n],e[n]));for(;o>n;++n)a[n]=t[n];for(;i>n;++n)a[n]=e[n];return function(t){for(n=0;l>n;++n)a[n]=r[n](t);return a}}function zr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Sr(t){return function(e){return 1-t(1-e)}}function Cr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Er(t){return t*t}function Dr(t){return t*t*t}function Or(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Pr(t){return function(e){return Math.pow(e,t)}}function Ir(t){return 1-Math.cos(t*Gi/2)}function Nr(t){return Math.pow(2,10*(t-1))}function jr(t){return 1-Math.sqrt(1-t*t)}function Fr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/(2*Gi)*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,10*-r)*Math.sin(2*(r-n)*Gi/e)}}function Rr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function qr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Hr(t,e){t=yi.hcl(t),e=yi.hcl(e);var n=t.h,r=t.c,a=t.l,o=e.h-n,i=e.c-r,l=e.l-a;return isNaN(i)&&(i=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return Q(n+o*t,r+i*t,a+l*t)+""}}function Br(t,e){t=yi.hsl(t),e=yi.hsl(e);var n=t.h,r=t.s,a=t.l,o=e.h-n,i=e.s-r,l=e.l-a;return isNaN(i)&&(i=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return G(n+o*t,r+i*t,a+l*t)+""}}function Vr(t,e){t=yi.lab(t),e=yi.lab(e);var n=t.l,r=t.a,a=t.b,o=e.l-n,i=e.a-r,l=e.b-a;return function(t){return K(n+o*t,r+i*t,a+l*t)+""}}function Zr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Yr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Gr(e),a=Xr(e,n),o=Gr(Ur(n,e,-a))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ji,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(a,o)*Ji:0}function Xr(t,e){return t[0]*e[0]+t[1]*e[1]}function Gr(t){var e=Math.sqrt(Xr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ur(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function $r(t,e){var n,r=[],a=[],o=yi.transform(t),i=yi.transform(e),l=o.translate,s=i.translate,u=o.rotate,c=i.rotate,f=o.skew,d=i.skew,h=o.scale,g=i.scale;return l[0]!=s[0]||l[1]!=s[1]?(r.push("translate(",null,",",null,")"),a.push({i:1,x:Mr(l[0],s[0])},{i:3,x:Mr(l[1],s[1])})):r.push(s[0]||s[1]?"translate("+s+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),a.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Mr(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=d?a.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Mr(f,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=g[0]||h[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),a.push({i:n-4,x:Mr(h[0],g[0])},{i:n-2,x:Mr(h[1],g[1])})):(1!=g[0]||1!=g[1])&&r.push(r.pop()+"scale("+g+")"),n=a.length,function(t){for(var e,o=-1;++o<n;)r[(e=a[o]).i]=e.x(t);return r.join("")}}function Qr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Jr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Wr(t){for(var e=t.source,n=t.target,r=ta(e,n),a=[e];e!==r;)e=e.parent,a.push(e);for(var o=a.length;n!==r;)a.splice(o,0,n),n=n.parent;return a}function Kr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ta(t,e){if(t===e)return t;for(var n=Kr(t),r=Kr(e),a=n.pop(),o=r.pop(),i=null;a===o;)i=a,a=n.pop(),o=r.pop();return i}function ea(t){t.fixed|=2}function na(t){t.fixed&=-7}function ra(t){t.fixed|=4,t.px=t.x,t.py=t.y}function aa(t){t.fixed&=-5}function oa(t,e,n){var r=0,a=0;if(t.charge=0,!t.leaf)for(var o,i=t.nodes,l=i.length,s=-1;++s<l;)o=i[s],null!=o&&(oa(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,a+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,a+=u*t.point.y}t.cx=r/t.charge,t.cy=a/t.charge}function ia(t,e){return yi.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ca,t}function la(t){return t.children}function sa(t){return t.value}function ua(t,e){return e.value-t.value}function ca(t){return yi.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function fa(t){return t.x}function da(t){return t.y}function ha(t,e,n){t.y0=e,t.y=n}function ga(t){return yi.range(t.length)}function pa(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ma(t){for(var e,n=1,r=0,a=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>a&&(r=n,a=e);return r}function va(t){return t.reduce(ya,0)}function ya(t,e){return t+e[1]}function xa(t,e){return ba(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ba(t,e){for(var n=-1,r=+t[0],a=(t[1]-r)/e,o=[];++n<=e;)o[n]=a*n+r;return o}function _a(t){return[yi.min(t),yi.max(t)]}function wa(t,e){return t.parent==e.parent?1:2}function ka(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Ma(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Aa(t,e){var n=t.children;if(n&&(a=n.length))for(var r,a,o=-1;++o<a;)e(r=Aa(n[o],e),t)>0&&(t=r);return t}function La(t,e){return t.x-e.x}function Ta(t,e){return e.x-t.x}function za(t,e){return t.depth-e.depth}function Sa(t,e){function n(t,r){var a=t.children;if(a&&(i=a.length))for(var o,i,l=null,s=-1;++s<i;)o=a[s],n(o,l),l=o;e(t,r)}n(t,null)}function Ca(t){for(var e,n=0,r=0,a=t.children,o=a.length;--o>=0;)e=a[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}function Ea(t,e,n){t=t._tree,e=e._tree;var r=n/(e.number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function Da(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function Oa(t,e){return t.value-e.value}function Pa(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ia(t,e){t._pack_next=e,e._pack_prev=t}function Na(t,e){var n=e.x-t.x,r=e.y-t.y,a=t.r+e.r;return.999*a*a>n*n+r*r}function ja(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,a,o,i,l,s,u,c=1/0,f=-1/0,d=1/0,h=-1/0;if(n.forEach(Fa),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(a=n[1],a.x=a.r,a.y=0,e(a),u>2))for(o=n[2],Ha(r,a,o),e(o),Pa(r,o),r._pack_prev=o,Pa(o,a),a=r._pack_next,i=3;u>i;i++){Ha(r,a,o=n[i]);var g=0,p=1,m=1;for(l=a._pack_next;l!==a;l=l._pack_next,p++)if(Na(l,o)){g=1;break}if(1==g)for(s=r._pack_prev;s!==l._pack_prev&&!Na(s,o);s=s._pack_prev,m++);g?(m>p||p==m&&a.r<r.r?Ia(r,a=l):Ia(r=s,a),i--):(Pa(r,o),a=o,e(o))}var v=(c+f)/2,y=(d+h)/2,x=0;for(i=0;u>i;i++)o=n[i],o.x-=v,o.y-=y,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(Ra)}}function Fa(t){t._pack_next=t._pack_prev=t}function Ra(t){delete t._pack_next,delete t._pack_prev}function qa(t,e,n,r){var a=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,a)for(var o=-1,i=a.length;++o<i;)qa(a[o],e,n,r)}function Ha(t,e,n){var r=t.r+n.r,a=e.x-t.x,o=e.y-t.y;if(r&&(a||o)){var i=e.r+n.r,l=a*a+o*o;i*=i,r*=r;var s=.5+(r-i)/(2*l),u=Math.sqrt(Math.max(0,2*i*(r+l)-(r-=l)*r-i*i))/(2*l);n.x=t.x+s*a+u*o,n.y=t.y+s*o-u*a}else n.x=t.x+r,n.y=t.y}function Ba(t){return 1+yi.max(t,function(t){return t.y})}function Va(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Za(t){var e=t.children;return e&&e.length?Za(e[0]):t}function Ya(t){var e,n=t.children;return n&&(e=n.length)?Ya(n[e-1]):t}function Xa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ga(t,e){var n=t.x+e[3],r=t.y+e[0],a=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>a&&(n+=a/2,a=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:a,dy:o}}function Ua(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function $a(t){return t.rangeExtent?t.rangeExtent():Ua(t.range())}function Qa(t,e,n,r){var a=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(a(t))}}function Ja(t,e){var n,r=0,a=t.length-1,o=t[r],i=t[a];return o>i&&(n=r,r=a,a=n,n=o,o=i,i=n),t[r]=e.floor(o),t[a]=e.ceil(i),t}function Wa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ts}function Ka(t,e,n,r){var a=[],o=[],i=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<=l;)a.push(n(t[i-1],t[i])),o.push(r(e[i-1],e[i]));return function(e){var n=yi.bisect(t,e,1,l)-1;return o[n](a[n](e))}}function to(t,e,n,r){function a(){var a=Math.min(t.length,e.length)>2?Ka:Qa,s=r?Jr:Qr;return i=a(t,e,s,n),l=a(e,t,s,Lr),o}function o(t){return i(t)}var i,l;return o.invert=function(t){return l(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},o.range=function(t){return arguments.length?(e=t,a()):e},o.rangeRound=function(t){return o.range(t).interpolate(Zr)},o.clamp=function(t){return arguments.length?(r=t,a()):r},o.interpolate=function(t){return arguments.length?(n=t,a()):n},o.ticks=function(e){return ao(t,e)},o.tickFormat=function(e,n){return oo(t,e,n)},o.nice=function(e){return no(t,e),a()},o.copy=function(){return to(t,e,n,r)},a()}function eo(t,e){return yi.rebind(t,e,"range","rangeRound","interpolate","clamp")}function no(t,e){return Ja(t,Wa(ro(t,e)[2]))}function ro(t,e){null==e&&(e=10);var n=Ua(t),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*a;return.15>=o?a*=10:.35>=o?a*=5:.75>=o&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function ao(t,e){return yi.range.apply(yi,ro(t,e))}function oo(t,e,n){var r=-Math.floor(Math.log(ro(t,e)[2])/Math.LN10+.01);return yi.format(n?n.replace(Ml,function(t,e,n,a,o,i,l,s,u,c){return[e,n,a,o,i,l,s,u||"."+(r-2*("%"===c)),c].join("")}):",."+r+"f")}function io(t,e,n,r){function a(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function i(e){return t(a(e))}return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(a)),i):r},i.base=function(n){return arguments.length?(e=+n,t.domain(r.map(a)),i):e},i.nice=function(){var e=Ja(r.map(a),n?Math:Ss);return t.domain(e),r=e.map(o),i},i.ticks=function(){var t=Ua(r),i=[],l=t[0],s=t[1],u=Math.floor(a(l)),c=Math.ceil(a(s)),f=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;f>d;d++)i.push(o(u)*d);i.push(o(u))}else for(i.push(o(u));u++<c;)for(var d=f-1;d>0;d--)i.push(o(u)*d);for(u=0;i[u]<l;u++);for(c=i.length;i[c-1]>s;c--);i=i.slice(u,c)}return i},i.tickFormat=function(t,e){if(!arguments.length)return zs;arguments.length<2?e=zs:"function"!=typeof e&&(e=yi.format(e));var r,l=Math.max(.1,t/i.ticks().length),s=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(s(a(t)+r))<=l?e(t):""}},i.copy=function(){return io(t.copy(),e,n,r)},eo(i,t)}function lo(t,e,n){function r(e){return t(a(e))}var a=so(e),o=so(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(a)),r):n},r.ticks=function(t){return ao(n,t)},r.tickFormat=function(t,e){return oo(n,t,e)},r.nice=function(t){return r.domain(no(n,t))},r.exponent=function(i){return arguments.length?(a=so(e=i),o=so(1/e),t.domain(n.map(a)),r):e},r.copy=function(){return lo(t.copy(),e,n)},eo(r,t)}function so(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function uo(t,e){function n(n){return i[((o.get(n)||"range"===e.t&&o.set(n,t.push(n)))-1)%i.length]}function r(e,n){return yi.range(t.length).map(function(t){return e+n*t})}var o,i,l;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new a;for(var i,l=-1,s=r.length;++l<s;)o.has(i=r[l])||o.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,l=0,e={t:"range",a:arguments},n):i},n.rangePoints=function(a,o){arguments.length<2&&(o=0);var s=a[0],u=a[1],c=(u-s)/(Math.max(1,t.length-1)+o);return i=r(t.length<2?(s+u)/2:s+c*o/2,c),l=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(a,o,s){arguments.length<2&&(o=0),arguments.length<3&&(s=o);var u=a[1]<a[0],c=a[u-0],f=a[1-u],d=(f-c)/(t.length-o+2*s);return i=r(c+d*s,d),u&&i.reverse(),l=d*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,o,s){arguments.length<2&&(o=0),arguments.length<3&&(s=o);var u=a[1]<a[0],c=a[u-0],f=a[1-u],d=Math.floor((f-c)/(t.length-o+2*s)),h=f-c-(t.length-o)*d;return i=r(c+Math.round(h/2),d),u&&i.reverse(),l=Math.round(d*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return l},n.rangeExtent=function(){return Ua(e.a[0])},n.copy=function(){return uo(t,e)},n.domain(t)}function co(t,e){function n(){var n=0,o=e.length;for(a=[];++n<o;)a[n-1]=yi.quantile(t,n/o);return r}function r(t){return isNaN(t=+t)?void 0:e[yi.bisect(a,t)]}var a;return r.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(yi.ascending),n()):t
},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return a},r.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},r.copy=function(){return co(t,e)},n()}function fo(t,e,n){function r(e){return n[Math.max(0,Math.min(i,Math.floor(o*(e-t))))]}function a(){return o=n.length/(e-t),i=n.length-1,r}var o,i;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],a()):[t,e]},r.range=function(t){return arguments.length?(n=t,a()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return fo(t,e,n)},a()}function ho(t,e){function n(n){return n>=n?e[yi.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ho(t,e)},n}function go(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ao(t,e)},e.tickFormat=function(e,n){return oo(t,e,n)},e.copy=function(){return go(t)},e}function po(t){return t.innerRadius}function mo(t){return t.outerRadius}function vo(t){return t.startAngle}function yo(t){return t.endAngle}function xo(t){for(var e,n,r,a=-1,o=t.length;++a<o;)e=t[a],n=e[0],r=e[1]+Ps,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function bo(t){function e(e){function s(){p.push("M",l(t(v),f),c,u(t(m.reverse()),f),"Z")}for(var d,h,g,p=[],m=[],v=[],y=-1,x=e.length,b=ge(n),_=ge(a),w=n===r?function(){return h}:ge(r),k=a===o?function(){return g}:ge(o);++y<x;)i.call(this,d=e[y],y)?(m.push([h=+b.call(this,d,y),g=+_.call(this,d,y)]),v.push([+w.call(this,d,y),+k.call(this,d,y)])):m.length&&(s(),m=[],v=[]);return m.length&&s(),p.length?p.join(""):null}var n=Yn,r=Yn,a=0,o=Xn,i=Ye,l=Gn,s=l.key,u=l,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(a=o=t,e):o},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?l=t:(l=fs.get(t)||Gn).key,u=l.reverse||l,c=l.closed?"M":"L",e):s},e.tension=function(t){return arguments.length?(f=t,e):f},e}function _o(t){return t.radius}function wo(t){return[t.x,t.y]}function ko(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+Ps;return[n*Math.cos(r),n*Math.sin(r)]}}function Mo(){return 64}function Ao(){return"circle"}function Lo(t){var e=Math.sqrt(t/Gi);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function To(t,e){return Pi(t,Hs),t.id=e,t}function zo(t,e,n,r){var a=t.id;return z(t,"function"==typeof n?function(t,o,i){t.__transition__[a].tween.set(e,r(n.call(t,t.__data__,o,i)))}:(n=r(n),function(t){t.__transition__[a].tween.set(e,n)}))}function So(t){return null==t&&(t=""),function(){this.textContent=t}}function Co(t,e,n,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),i=o[n];if(!i){var l=r.time;i=o[n]={tween:new a,time:l,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,yi.timer(function(r){function a(r){return o.active>n?u():(o.active=n,i.event&&i.event.start.call(t,c,e),i.tween.forEach(function(n,r){(r=r.call(t,c,e))&&g.push(r)}),s(r)?1:void be(s,0,l))}function s(r){if(o.active!==n)return u();for(var a=(r-d)/h,l=f(a),s=g.length;s>0;)g[--s].call(t,l);return a>=1?(i.event&&i.event.end.call(t,c,e),u()):void 0}function u(){return--o.count?delete o[n]:delete t.__transition__,1}var c=t.__data__,f=i.ease,d=i.delay,h=i.duration,g=[];return r>=d?a(r):void be(a,d,l)},0,l)}}function Eo(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Do(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Oo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Po(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function a(n){return e(n=t(new Us(n-1)),1),n}function o(t,n){return e(t=new Us(+t),n),t}function i(t,r,o){var i=a(t),l=[];if(o>1)for(;r>i;)n(i)%o||l.push(new Date(+i)),e(i,1);else for(;r>i;)l.push(new Date(+i)),e(i,1);return l}function l(t,e,n){try{Us=Oo;var r=new Oo;return r._=t,i(r,e,n)}finally{Us=Date}}t.floor=t,t.round=r,t.ceil=a,t.offset=o,t.range=i;var s=t.utc=Io(t);return s.floor=s,s.round=Io(r),s.ceil=Io(a),s.offset=Io(o),s.range=l,t}function Io(t){return function(e,n){try{Us=Oo;var r=new Oo;return r._=e,t(r,n)._}finally{Us=Date}}}function No(t){function e(e){for(var r,a,o,i=[],l=-1,s=0;++l<n;)37===t.charCodeAt(l)&&(i.push(t.substring(s,l)),null!=(a=hu[r=t.charAt(++l)])&&(r=t.charAt(++l)),(o=gu[r])&&(r=o(e,null==a?"e"===r?" ":"0":a)),i.push(r),s=l+1);return i.push(t.substring(s,l)),i.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=jo(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var a=null!=n.Z&&Us!==Oo,o=new(a?Oo:Us);return"j"in n?o.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),a?o._:o},e.toString=function(){return t},e}function jo(t,e,n,r){for(var a,o,i,l=0,s=e.length,u=n.length;s>l;){if(r>=u)return-1;if(a=e.charCodeAt(l++),37===a){if(i=e.charAt(l++),o=pu[i in hu?e.charAt(l++):i],!o||(r=o(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function Fo(t){return new RegExp("^(?:"+t.map(yi.requote).join("|")+")","i")}function Ro(t){for(var e=new a,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qo(t,e,n){var r=0>t?"-":"",a=(r?-t:t)+"",o=a.length;return r+(n>o?new Array(n-o+1).join(e)+a:a)}function Ho(t,e,n){iu.lastIndex=0;var r=iu.exec(e.substring(n));return r?(t.w=lu.get(r[0].toLowerCase()),n+r[0].length):-1}function Bo(t,e,n){au.lastIndex=0;var r=au.exec(e.substring(n));return r?(t.w=ou.get(r[0].toLowerCase()),n+r[0].length):-1}function Vo(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Zo(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function Yo(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xo(t,e,n){cu.lastIndex=0;var r=cu.exec(e.substring(n));return r?(t.m=fu.get(r[0].toLowerCase()),n+r[0].length):-1}function Go(t,e,n){su.lastIndex=0;var r=su.exec(e.substring(n));return r?(t.m=uu.get(r[0].toLowerCase()),n+r[0].length):-1}function Uo(t,e,n){return jo(t,gu.c.toString(),e,n)}function $o(t,e,n){return jo(t,gu.x.toString(),e,n)}function Qo(t,e,n){return jo(t,gu.X.toString(),e,n)}function Jo(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wo(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+2));return r?(t.y=ti(+r[0]),n+r[0].length):-1}function Ko(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1}function ti(t){return t+(t>68?1900:2e3)}function ei(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ni(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ri(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ai(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function oi(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ii(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function li(t,e,n){mu.lastIndex=0;var r=mu.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function si(t,e,n){var r=vu.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}function ui(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(Math.abs(e)/60),a=Math.abs(e)%60;return n+qo(r,"0",2)+qo(a,"0",2)}function ci(t,e,n){du.lastIndex=0;var r=du.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function fi(t){function e(t){try{Us=Oo;var e=new Us;return e._=t,n(e)}finally{Us=Date}}var n=No(t);return e.parse=function(t){try{Us=Oo;var e=n.parse(t);return e&&e._}finally{Us=Date}},e.toString=n.toString,e}function di(t){return t.toISOString()}function hi(t,e,n){function r(e){return t(e)}function a(t,n){var r=t[1]-t[0],a=r/n,o=yi.bisect(xu,a);return o==xu.length?[e.year,ro(t.map(function(t){return t/31536e6}),n)[2]]:o?e[a/xu[o-1]<xu[o]/a?o-1:o]:[ku,ro(t,n)[2]]}return r.invert=function(e){return gi(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(gi)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,gi(+n+1),e).length}var o=r.domain(),i=Ua(o),l=null==t?a(i,10):"number"==typeof t&&a(i,t);return l&&(t=l[0],e=l[1]),r.domain(Ja(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=gi(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=gi(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ua(r.domain()),o=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],gi(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return hi(t.copy(),e,n)},eo(r,t)}function gi(t){return new Date(t)}function pi(t){return function(e){for(var n=t.length-1,r=t[n];!r[1](e);)r=t[--n];return r[0](e)}}function mi(t){return JSON.parse(t.responseText)}function vi(t){var e=_i.createRange();return e.selectNode(_i.body),e.createContextualFragment(t.responseText)}var yi={version:"3.3.5"};Date.now||(Date.now=function(){return+new Date});var xi=[].slice,bi=function(t){return xi.call(t)},_i=document,wi=_i.documentElement,ki=window;try{bi(wi.childNodes)[0].nodeType}catch(t){bi=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{_i.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Mi=ki.Element.prototype,Ai=Mi.setAttribute,Li=Mi.setAttributeNS,Ti=ki.CSSStyleDeclaration.prototype,zi=Ti.setProperty;Mi.setAttribute=function(t,e){Ai.call(this,t,e+"")},Mi.setAttributeNS=function(t,e,n){Li.call(this,t,e,n+"")},Ti.setProperty=function(t,e,n){zi.call(this,t,e+"",n)}}yi.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},yi.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},yi.min=function(t,e){var n,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o&&!(null!=(n=t[a])&&n>=n);)n=void 0;for(;++a<o;)null!=(r=t[a])&&n>r&&(n=r)}else{for(;++a<o&&!(null!=(n=e.call(t,t[a],a))&&n>=n);)n=void 0;for(;++a<o;)null!=(r=e.call(t,t[a],a))&&n>r&&(n=r)}return n},yi.max=function(t,e){var n,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o&&!(null!=(n=t[a])&&n>=n);)n=void 0;for(;++a<o;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<o&&!(null!=(n=e.call(t,t[a],a))&&n>=n);)n=void 0;for(;++a<o;)null!=(r=e.call(t,t[a],a))&&r>n&&(n=r)}return n},yi.extent=function(t,e){var n,r,a,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(n=a=t[o])&&n>=n);)n=a=void 0;for(;++o<i;)null!=(r=t[o])&&(n>r&&(n=r),r>a&&(a=r))}else{for(;++o<i&&!(null!=(n=a=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<i;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>a&&(a=r))}return[n,a]},yi.sum=function(t,e){var n,r=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)isNaN(n=+t[o])||(r+=n);else for(;++o<a;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},yi.mean=function(e,n){var r,a=e.length,o=0,i=-1,l=0;if(1===arguments.length)for(;++i<a;)t(r=e[i])&&(o+=(r-o)/++l);else for(;++i<a;)t(r=n.call(e,e[i],i))&&(o+=(r-o)/++l);return l?o:void 0},yi.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),a=+t[r-1],o=n-r;return o?a+o*(t[r]-a):a},yi.median=function(e,n){return arguments.length>1&&(e=e.map(n)),e=e.filter(t),e.length?yi.quantile(e.sort(yi.ascending),.5):void 0},yi.bisector=function(t){return{left:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);a>r;){var o=r+a>>>1;t.call(e,e[o],o)<n?r=o+1:a=o}return r},right:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);a>r;){var o=r+a>>>1;n<t.call(e,e[o],o)?a=o:r=o+1}return r}}};var Si=yi.bisector(function(t){return t});yi.bisectLeft=Si.left,yi.bisect=yi.bisectRight=Si.right,yi.shuffle=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t},yi.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},yi.pairs=function(t){for(var e,n=0,r=t.length-1,a=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=a,a=t[++n]];return o},yi.zip=function(){if(!(a=arguments.length))return[];for(var t=-1,n=yi.min(arguments,e),r=new Array(n);++t<n;)for(var a,o=-1,i=r[t]=new Array(a);++o<a;)i[o]=arguments[o][t];return r},yi.transpose=function(t){return yi.zip.apply(yi,t)},yi.keys=function(t){var e=[];for(var n in t)e.push(n);return e},yi.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},yi.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},yi.merge=function(t){return Array.prototype.concat.apply([],t)},yi.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r===1/0)throw new Error("infinite range");var a,o=[],i=n(Math.abs(r)),l=-1;if(t*=i,e*=i,r*=i,0>r)for(;(a=t+r*++l)>e;)o.push(a/i);else for(;(a=t+r*++l)<e;)o.push(a/i);return o},yi.map=function(t){var e=new a;if(t instanceof a)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},r(a,{has:function(t){return Ci+t in this},get:function(t){return this[Ci+t]},set:function(t,e){return this[Ci+t]=e},remove:function(t){return t=Ci+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Ei&&t.call(this,e.substring(1),this[e])}});var Ci="\x00",Ei=Ci.charCodeAt(0);yi.nest=function(){function t(e,l,s){if(s>=i.length)return r?r.call(o,l):n?l.sort(n):l;for(var u,c,f,d,h=-1,g=l.length,p=i[s++],m=new a;++h<g;)(d=m.get(u=p(c=l[h])))?d.push(c):m.set(u,[c]);return e?(c=e(),f=function(n,r){c.set(n,t(e,r,s))}):(c={},f=function(n,r){c[n]=t(e,r,s)}),m.forEach(f),c}function e(t,n){if(n>=i.length)return t;var r=[],a=l[n++];return t.forEach(function(t,a){r.push({key:t,values:e(a,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}var n,r,o={},i=[],l=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(yi.map,n,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return l[i.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},yi.set=function(t){var e=new o;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},r(o,{has:function(t){return Ci+t in this},add:function(t){return this[Ci+t]=!0,t},remove:function(t){return t=Ci+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Ei&&t.call(this,e.substring(1))}}),yi.behavior={},yi.rebind=function(t,e){for(var n,r=1,a=arguments.length;++r<a;)t[n=arguments[r]]=i(t,e,e[n]);return t};var Di=["webkit","ms","moz","Moz","o","O"];yi.dispatch=function(){for(var t=new u,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=c(t);return t},u.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},yi.event=null,yi.requote=function(t){return t.replace(Oi,"\\$&")};var Oi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Pi={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ii=function(t,e){return e.querySelector(t)},Ni=function(t,e){return e.querySelectorAll(t)},ji=wi[l(wi,"matchesSelector")],Fi=function(t,e){return ji.call(t,e)};"function"==typeof Sizzle&&(Ii=function(t,e){return Sizzle(t,e)[0]||null},Ni=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},Fi=Sizzle.matchesSelector),yi.selection=function(){return Bi};var Ri=yi.selection.prototype=[];Ri.select=function(t){var e,n,r,a,o=[];t=p(t);for(var i=-1,l=this.length;++i<l;){o.push(e=[]),e.parentNode=(r=this[i]).parentNode;for(var s=-1,u=r.length;++s<u;)(a=r[s])?(e.push(n=t.call(a,a.__data__,s,i)),n&&"__data__"in a&&(n.__data__=a.__data__)):e.push(null)}return g(o)},Ri.selectAll=function(t){var e,n,r=[];t=m(t);for(var a=-1,o=this.length;++a<o;)for(var i=this[a],l=-1,s=i.length;++l<s;)(n=i[l])&&(r.push(e=bi(t.call(n,n.__data__,l,a))),e.parentNode=n);return g(r)};var qi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};yi.ns={prefix:qi,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),qi.hasOwnProperty(n)?{space:qi[n],local:t}:t}},Ri.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=yi.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},Ri.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=t.trim().split(/^|\s+/g)).length,a=-1;if(e=n.classList){for(;++a<r;)if(!e.contains(t[a]))return!1}else for(e=n.getAttribute("class");++a<r;)if(!x(t[a]).test(e))return!1;return!0}for(e in t)this.each(b(e,t[e]));return this}return this.each(b(t,e))},Ri.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(w(n,t[n],e));return this}if(2>r)return ki.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(w(t,e,n))},Ri.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},Ri.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ri.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ri.append=function(t){return t=M(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ri.insert=function(t,e){return t=M(t),e=p(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments))})},Ri.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Ri.data=function(t,e){function n(t,n){var r,o,i,l=t.length,f=n.length,d=Math.min(l,f),h=new Array(f),g=new Array(f),p=new Array(l);if(e){var m,v=new a,y=new a,x=[];for(r=-1;++r<l;)m=e.call(o=t[r],o.__data__,r),v.has(m)?p[r]=o:v.set(m,o),x.push(m);for(r=-1;++r<f;)m=e.call(n,i=n[r],r),(o=v.get(m))?(h[r]=o,o.__data__=i):y.has(m)||(g[r]=A(i)),y.set(m,i),v.remove(m);for(r=-1;++r<l;)v.has(x[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)o=t[r],i=n[r],o?(o.__data__=i,h[r]=o):g[r]=A(i);for(;f>r;++r)g[r]=A(n[r]);for(;l>r;++r)p[r]=t[r]}g.update=h,g.parentNode=h.parentNode=p.parentNode=t.parentNode,s.push(g),u.push(h),c.push(p)}var r,o,i=-1,l=this.length;if(!arguments.length){for(t=new Array(l=(r=this[0]).length);++i<l;)(o=r[i])&&(t[i]=o.__data__);return t}var s=S([]),u=g([]),c=g([]);if("function"==typeof t)for(;++i<l;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<l;)n(r=this[i],t);return u.enter=function(){return s},u.exit=function(){return c},u},Ri.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ri.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=L(t));for(var o=0,i=this.length;i>o;o++){a.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var l=0,s=n.length;s>l;l++)(r=n[l])&&t.call(r,r.__data__,l)&&e.push(r)}return g(a)},Ri.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],a=r.length-1,o=r[a];--a>=0;)(n=r[a])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ri.sort=function(t){t=T.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ri.each=function(t){return z(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Ri.call=function(t){var e=bi(arguments);return t.apply(e[0]=this,e),this},Ri.empty=function(){return!this.node()},Ri.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,a=n.length;a>r;r++){var o=n[r];if(o)return o}return null},Ri.size=function(){var t=0;return this.each(function(){++t}),t};var Hi=[];yi.selection.enter=S,yi.selection.enter.prototype=Hi,Hi.append=Ri.append,Hi.empty=Ri.empty,Hi.node=Ri.node,Hi.call=Ri.call,Hi.size=Ri.size,Hi.select=function(t){for(var e,n,r,a,o,i=[],l=-1,s=this.length;++l<s;){r=(a=this[l]).update,i.push(e=[]),e.parentNode=a.parentNode;for(var u=-1,c=a.length;++u<c;)(o=a[u])?(e.push(r[u]=n=t.call(a.parentNode,o.__data__,u,l)),n.__data__=o.__data__):e.push(null)}return g(i)},Hi.insert=function(t,e){return arguments.length<2&&(e=C(this)),Ri.insert.call(this,t,e)},Ri.transition=function(){for(var t,e,n=js||++Bs,r=[],a=Fs||{time:Date.now(),ease:Or,delay:0,duration:250},o=-1,i=this.length;++o<i;){r.push(t=[]);for(var l=this[o],s=-1,u=l.length;++s<u;)(e=l[s])&&Co(e,s,n,a),t.push(e)}return To(r,n)},Ri.interrupt=function(){return this.each(E)},yi.select=function(t){var e=["string"==typeof t?Ii(t,_i):t];return e.parentNode=wi,g([e])},yi.selectAll=function(t){var e=bi("string"==typeof t?Ni(t,_i):t);return e.parentNode=wi,g([e])};var Bi=yi.select(wi);Ri.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(D(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(D(t,e,n))};var Vi=yi.map({mouseenter:"mouseover",mouseleave:"mouseout"});Vi.forEach(function(t){"on"+t in _i&&Vi.remove(t)});var Zi=l(wi.style,"userSelect"),Yi=0;yi.mouse=function(t){return N(t,d())};var Xi=/WebKit/.test(ki.navigator.userAgent)?-1:0;yi.touches=function(t,e){return arguments.length<2&&(e=d().touches),e?bi(e).map(function(e){var n=N(t,e);return n.identifier=e.identifier,n}):[]},yi.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",l)}function e(){return yi.event.changedTouches[0].identifier}function n(t,e){return yi.touches(t).filter(function(t){return t.identifier===e})[0]}function r(t,e,n,r){return function(){function i(){var t=e(c,h),n=t[0]-p[0],r=t[1]-p[1];m|=n|r,p=t,f({type:"drag",x:t[0]+s[0],y:t[1]+s[1],dx:n,dy:r})}function l(){v.on(n+"."+g,null).on(r+"."+g,null),y(m&&yi.event.target===d),f({type:"dragend"})}var s,u=this,c=u.parentNode,f=a.of(u,arguments),d=yi.event.target,h=t(),g=null==h?"drag":"drag-"+h,p=e(c,h),m=0,v=yi.select(ki).on(n+"."+g,i).on(r+"."+g,l),y=I();o?(s=o.apply(u,arguments),s=[s.x-p[0],s.y-p[1]]):s=[0,0],f({type:"dragstart"})}}var a=h(t,"drag","dragstart","dragend"),o=null,i=r(s,yi.mouse,"mousemove","mouseup"),l=r(e,n,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},yi.rebind(t,a,"on")};var Gi=Math.PI,Ui=1e-6,$i=Ui*Ui,Qi=Gi/180,Ji=180/Gi,Wi=Math.SQRT2,Ki=2,tl=4;yi.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=H(p),i=o/(Ki*d)*(n*B(Wi*e+p)-q(p));return[r+i*u,a+i*c,o*n/H(Wi*e+p)]}return[r+t*u,a+t*c,o*Math.exp(Wi*e)]}var r=t[0],a=t[1],o=t[2],i=e[0],l=e[1],s=e[2],u=i-r,c=l-a,f=u*u+c*c,d=Math.sqrt(f),h=(s*s-o*o+tl*f)/(2*o*Ki*d),g=(s*s-o*o-tl*f)/(2*s*Ki*d),p=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(g*g+1)-g),v=m-p,y=(v||Math.log(s/o))/Wi;return n.duration=1e3*y,n},yi.behavior.zoom=function(){function t(t){t.on(T,u).on(rl+".zoom",d).on(z,g).on("dblclick.zoom",p).on(C,c)}function e(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function n(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function r(t){M.k=Math.max(L[0],Math.min(L[1],t))}function a(t,e){e=n(e),M.x+=t[0]-e[0],M.y+=t[1]-e[1]}function o(){_&&_.domain(b.range().map(function(t){return(t-M.x)/M.k}).map(b.invert)),k&&k.domain(w.range().map(function(t){return(t-M.y)/M.k}).map(w.invert))}function i(t){t({type:"zoomstart"})}function l(t){o(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function s(t){t({type:"zoomend"})}function u(){function t(){c=1,a(yi.mouse(r),d),l(o)}function n(){f.on(z,ki===r?g:null).on(S,null),h(c&&yi.event.target===u),s(o)}var r=this,o=D.of(r,arguments),u=yi.event.target,c=0,f=yi.select(ki).on(z,t).on(S,n),d=e(yi.mouse(r)),h=I();E.call(r),i(o)}function c(){function t(){var t=yi.touches(g);return h=M.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){for(var e=yi.event.changedTouches,n=0,o=e.length;o>n;++n)m[e[n].identifier]=null;var i=t(),s=Date.now();if(1===i.length){if(500>s-x){var u=i[0],c=m[u.identifier];r(2*M.k),a(u,c),f(),l(p)}x=s}else if(i.length>1){var u=i[0],d=i[1],h=u[0]-d[0],g=u[1]-d[1];v=h*h+g*g}}function o(){for(var t,e,n,o,i=yi.touches(g),s=0,u=i.length;u>s;++s,o=null)if(n=i[s],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(f*h)}x=null,a(t,e),l(p)}function d(){if(yi.event.touches.length){for(var e=yi.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var a in m)return void t()}w.on(b,null).on(_,null),k.on(T,u).on(C,c),A(),s(p)}var h,g=this,p=D.of(g,arguments),m={},v=0,y=yi.event.changedTouches[0].identifier,b="touchmove.zoom-"+y,_="touchend.zoom-"+y,w=yi.select(ki).on(b,o).on(_,d),k=yi.select(g).on(T,null).on(C,n),A=I();E.call(g),n(),i(p)}function d(){var t=D.of(this,arguments);y?clearTimeout(y):(E.call(this),i(t)),y=setTimeout(function(){y=null,s(t)},50),f();var n=v||yi.mouse(this);m||(m=e(n)),r(Math.pow(2,.002*el())*M.k),a(n,m),l(t)}function g(){m=null}function p(){var t=D.of(this,arguments),n=yi.mouse(this),o=e(n),u=Math.log(M.k)/Math.LN2;i(t),r(Math.pow(2,yi.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),a(n,o),l(t),s(t)}var m,v,y,x,b,_,w,k,M={x:0,y:0,k:1},A=[960,500],L=nl,T="mousedown.zoom",z="mousemove.zoom",S="mouseup.zoom",C="touchstart.zoom",D=h(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=D.of(this,arguments),e=M;js?yi.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},i(t)}).tween("zoom:zoom",function(){var n=A[0],r=A[1],a=n/2,o=r/2,i=yi.interpolateZoom([(a-M.x)/M.k,(o-M.y)/M.k,n/M.k],[(a-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=i(e),s=n/r[2];this.__chart__=M={x:a-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("end.zoom",function(){s(t)}):(this.__chart__=M,i(t),l(t),s(t))})},t.translate=function(e){return arguments.length?(M={x:+e[0],y:+e[1],k:M.k},o(),t):[M.x,M.y]},t.scale=function(e){return arguments.length?(M={x:M.x,y:M.y,k:+e},o(),t):M.k},t.scaleExtent=function(e){return arguments.length?(L=null==e?nl:[+e[0],+e[1]],t):L},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(A=e&&[+e[0],+e[1]],t):A},t.x=function(e){return arguments.length?(_=e,b=e.copy(),M={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(k=e,w=e.copy(),M={x:0,y:0,k:1},t):k},yi.rebind(t,D,"on")};var el,nl=[0,1/0],rl="onwheel"in _i?(el=function(){return-yi.event.deltaY*(yi.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _i?(el=function(){return yi.event.wheelDelta},"mousewheel"):(el=function(){return-yi.event.detail},"MozMousePixelScroll");Z.prototype.toString=function(){return this.rgb()+""},yi.hsl=function(t,e,n){return 1===arguments.length?t instanceof X?Y(t.h,t.s,t.l):ue(""+t,ce,Y):Y(+t,+e,+n)};var al=X.prototype=new Z;al.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),Y(this.h,this.s,this.l/t)},al.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),Y(this.h,this.s,t*this.l)},al.rgb=function(){return G(this.h,this.s,this.l)},yi.hcl=function(t,e,n){return 1===arguments.length?t instanceof $?U(t.h,t.c,t.l):t instanceof W?te(t.l,t.a,t.b):te((t=fe((t=yi.rgb(t)).r,t.g,t.b)).l,t.a,t.b):U(+t,+e,+n)};var ol=$.prototype=new Z;ol.brighter=function(t){return U(this.h,this.c,Math.min(100,this.l+il*(arguments.length?t:1)))},ol.darker=function(t){return U(this.h,this.c,Math.max(0,this.l-il*(arguments.length?t:1)))},ol.rgb=function(){return Q(this.h,this.c,this.l).rgb()},yi.lab=function(t,e,n){return 1===arguments.length?t instanceof W?J(t.l,t.a,t.b):t instanceof $?Q(t.l,t.c,t.h):fe((t=yi.rgb(t)).r,t.g,t.b):J(+t,+e,+n)};var il=18,ll=.95047,sl=1,ul=1.08883,cl=W.prototype=new Z;cl.brighter=function(t){return J(Math.min(100,this.l+il*(arguments.length?t:1)),this.a,this.b)},cl.darker=function(t){return J(Math.max(0,this.l-il*(arguments.length?t:1)),this.a,this.b)},cl.rgb=function(){return K(this.l,this.a,this.b)},yi.rgb=function(t,e,n){return 1===arguments.length?t instanceof le?ie(t.r,t.g,t.b):ue(""+t,ie,G):ie(~~t,~~e,~~n)};var fl=le.prototype=new Z;fl.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,a=30;return e||n||r?(e&&a>e&&(e=a),n&&a>n&&(n=a),r&&a>r&&(r=a),ie(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(r/t)))):ie(a,a,a)},fl.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),ie(~~(t*this.r),~~(t*this.g),~~(t*this.b))},fl.hsl=function(){return ce(this.r,this.g,this.b)},fl.toString=function(){return"#"+se(this.r)+se(this.g)+se(this.b)};var dl=yi.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});
dl.forEach(function(t,e){dl.set(t,ae(e))}),yi.functor=ge,yi.xhr=me(pe),yi.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var i=yi.xhr(t,e,o);return i.row=function(t){return arguments.length?i.response(null==(n=t)?r:a(t)):n},i.row(n)}function r(t){return n.parse(t.responseText)}function a(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(l).join(t)}function l(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var a=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(a(t),n)}:a})},n.parseRows=function(t,e){function n(){if(c>=s)return i;if(a)return a=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(a=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(a=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;s>c;){var r=t.charCodeAt(c++),l=1;if(10===r)a=!0;else if(13===r)a=!0,10===t.charCodeAt(c)&&(++c,++l);else if(r!==u)continue;return t.substring(e,c-l)}return t.substring(e)}for(var r,a,o={},i={},l=[],s=t.length,c=0,f=0;(r=n())!==i;){for(var d=[];r!==o&&r!==i;)d.push(r),r=n();(!e||(d=e(d,f++)))&&l.push(d)}return l},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new o,a=[];return e.forEach(function(t){for(var e in t)r.has(e)||a.push(r.add(e))}),[a.map(l).join(t)].concat(e.map(function(e){return a.map(function(t){return l(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},yi.csv=yi.dsv(",","text/csv"),yi.tsv=yi.dsv("	","text/tab-separated-values");var hl,gl,pl,ml,vl,yl=ki[l(ki,"requestAnimationFrame")]||function(t){setTimeout(t,17)};yi.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var a=n+e,o={callback:t,time:a,next:null};gl?gl.next=o:hl=o,gl=o,pl||(ml=clearTimeout(ml),pl=1,yl(xe))},yi.timer.flush=function(){_e(),we()};var xl=".",bl=",",_l=[3,3],wl="$",kl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(ke);yi.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=yi.round(t,Me(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),kl[8+n/3]},yi.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},yi.format=function(t){var e=Ml.exec(t),n=e[1]||" ",r=e[2]||">",a=e[3]||"",o=e[4]||"",i=e[5],l=+e[6],s=e[7],u=e[8],c=e[9],f=1,d="",h=!1;switch(u&&(u=+u.substring(1)),(i||"0"===n&&"="===r)&&(i=n="0",r="=",s&&(l-=Math.floor((l-1)/4))),c){case"n":s=!0,c="g";break;case"%":f=100,d="%",c="f";break;case"p":f=100,d="%",c="r";break;case"b":case"o":case"x":case"X":"#"===o&&(o="0"+c.toLowerCase());case"c":case"d":h=!0,u=0;break;case"s":f=-1,c="r"}"#"===o?o="":"$"===o&&(o=wl),"r"!=c||u||(c="g"),null!=u&&("g"==c?u=Math.max(1,Math.min(21,u)):("e"==c||"f"==c)&&(u=Math.max(0,Math.min(20,u)))),c=Al.get(c)||Ae;var g=i&&s;return function(t){if(h&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):a;if(0>f){var p=yi.formatPrefix(t,u);t=p.scale(t),d=p.symbol}else t*=f;t=c(t,u);var m=t.lastIndexOf("."),v=0>m?t:t.substring(0,m),y=0>m?"":xl+t.substring(m+1);!i&&s&&(v=Ll(v));var x=o.length+v.length+y.length+(g?0:e.length),b=l>x?new Array(x=l-x+1).join(n):"";return g&&(v=Ll(b+v)),e+=o,t=v+y,("<"===r?e+t+b:">"===r?b+e+t:"^"===r?b.substring(0,x>>=1)+e+t+b.substring(x):e+(g?t:b+t))+d}};var Ml=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Al=yi.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=yi.round(t,Me(t,e))).toFixed(Math.max(0,Math.min(20,Me(t*(1+1e-15),e))))}}),Ll=pe;if(_l){var Tl=_l.length;Ll=function(t){for(var e=t.length,n=[],r=0,a=_l[0];e>0&&a>0;)n.push(t.substring(e-=a,e+a)),a=_l[r=(r+1)%Tl];return n.reverse().join(bl)}}yi.geo={},Le.prototype={s:0,t:0,add:function(t){Te(t,this.t,zl),Te(zl.s,this.s,this),this.s?this.t+=zl.t:this.s=zl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var zl=new Le;yi.geo.stream=function(t,e){t&&Sl.hasOwnProperty(t.type)?Sl[t.type](t,e):ze(t,e)};var Sl={Feature:function(t,e){ze(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)ze(n[r].geometry,e)}},Cl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Se(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)Se(n[r],e,0)},Polygon:function(t,e){Ce(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)Ce(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)ze(n[r],e)}};yi.geo.area=function(t){return El=0,yi.geo.stream(t,Ol),El};var El,Dl=new Le,Ol={sphere:function(){El+=4*Gi},point:s,lineStart:s,lineEnd:s,polygonStart:function(){Dl.reset(),Ol.lineStart=Ee},polygonEnd:function(){var t=2*Dl;El+=0>t?4*Gi+t:t,Ol.lineStart=Ol.lineEnd=Ol.point=s}};yi.geo.bounds=function(){function t(t,e){x.push(b=[c=t,d=t]),f>e&&(f=e),e>h&&(h=e)}function e(e,n){var r=De([e*Qi,n*Qi]);if(v){var a=Pe(v,r),o=[a[1],-a[0],0],i=Pe(o,a);je(i),i=Fe(i);var s=e-g,u=s>0?1:-1,p=i[0]*Ji*u,m=Math.abs(s)>180;if(m^(p>u*g&&u*e>p)){var y=i[1]*Ji;y>h&&(h=y)}else if(p=(p+360)%360-180,m^(p>u*g&&u*e>p)){var y=-i[1]*Ji;f>y&&(f=y)}else f>n&&(f=n),n>h&&(h=n);m?g>e?l(c,e)>l(c,d)&&(d=e):l(e,d)>l(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>g?l(c,e)>l(c,d)&&(d=e):l(e,d)>l(c,d)&&(c=e)}else t(e,n);v=r,g=e}function n(){_.point=e}function r(){b[0]=c,b[1]=d,_.point=t,v=null}function a(t,n){if(v){var r=t-g;y+=Math.abs(r)>180?r+(r>0?360:-360):r}else p=t,m=n;Ol.point(t,n),e(t,n)}function o(){Ol.lineStart()}function i(){a(p,m),Ol.lineEnd(),Math.abs(y)>Ui&&(c=-(d=180)),b[0]=c,b[1]=d,v=null}function l(t,e){return(e-=t)<0?e+360:e}function s(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,d,h,g,p,m,v,y,x,b,_={point:t,lineStart:n,lineEnd:r,polygonStart:function(){_.point=a,_.lineStart=o,_.lineEnd=i,y=0,Ol.polygonStart()},polygonEnd:function(){Ol.polygonEnd(),_.point=t,_.lineStart=n,_.lineEnd=r,0>Dl?(c=-(d=180),f=-(h=90)):y>Ui?h=90:-Ui>y&&(f=-90),b[0]=c,b[1]=d}};return function(t){h=d=-(c=f=1/0),x=[],yi.geo.stream(t,_);var e=x.length;if(e){x.sort(s);for(var n,r=1,a=x[0],o=[a];e>r;++r)n=x[r],u(n[0],a)||u(n[1],a)?(l(a[0],n[1])>l(a[0],a[1])&&(a[1]=n[1]),l(n[0],a[1])>l(a[0],a[1])&&(a[0]=n[0])):o.push(a=n);for(var i,n,g=-1/0,e=o.length-1,r=0,a=o[e];e>=r;a=n,++r)n=o[r],(i=l(a[1],n[0]))>g&&(g=i,c=n[0],d=a[1])}return x=b=null,1/0===c||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[c,f],[d,h]]}}(),yi.geo.centroid=function(t){Pl=Il=Nl=jl=Fl=Rl=ql=Hl=Bl=Vl=Zl=0,yi.geo.stream(t,Yl);var e=Bl,n=Vl,r=Zl,a=e*e+n*n+r*r;return $i>a&&(e=Rl,n=ql,r=Hl,Ui>Il&&(e=Nl,n=jl,r=Fl),a=e*e+n*n+r*r,$i>a)?[0/0,0/0]:[Math.atan2(n,e)*Ji,R(r/Math.sqrt(a))*Ji]};var Pl,Il,Nl,jl,Fl,Rl,ql,Hl,Bl,Vl,Zl,Yl={sphere:s,point:qe,lineStart:Be,lineEnd:Ve,polygonStart:function(){Yl.lineStart=Ze},polygonEnd:function(){Yl.lineStart=Be}},Xl=Ue(Ye,Ke,en,nn),Gl=[-Gi,0],Ul=1e9;yi.geo.clipExtent=function(){var t,e,n,r,a,o,i={stream:function(t){return a&&(a.valid=!1),a=o(t),a.valid=!0,a},extent:function(l){return arguments.length?(o=an(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),a&&(a.valid=!1,a=null),i):[[t,e],[n,r]]}};return i.extent([[0,0],[960,500]])},(yi.geo.conicEqualArea=function(){return sn(un)}).raw=un,yi.geo.albers=function(){return yi.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},yi.geo.albersUsa=function(){function t(t){var o=t[0],i=t[1];return e=null,n(o,i),e||(r(o,i),e)||a(o,i),e}var e,n,r,a,o=yi.geo.albers(),i=yi.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=yi.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&.234>a&&r>=-.425&&-.214>r?i:a>=.166&&.234>a&&r>=-.214&&-.115>r?l:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=i.stream(t),r=l.stream(t);return{point:function(t,a){e.point(t,a),n.point(t,a),r.point(t,a)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),i.precision(e),l.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),i.scale(.35*e),l.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(s).point,r=i.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+Ui,f+.12*u+Ui],[c-.214*u-Ui,f+.234*u-Ui]]).stream(s).point,a=l.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+Ui,f+.166*u+Ui],[c-.115*u-Ui,f+.234*u-Ui]]).stream(s).point,t},t.scale(1070)};var $l,Ql,Jl,Wl,Kl,ts,es={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Ql=0,es.lineStart=cn},polygonEnd:function(){es.lineStart=es.lineEnd=es.point=s,$l+=Math.abs(Ql/2)}},ns={point:fn,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s},rs={point:gn,lineStart:pn,lineEnd:mn,polygonStart:function(){rs.lineStart=vn},polygonEnd:function(){rs.point=gn,rs.lineStart=pn,rs.lineEnd=mn}};yi.geo.transform=function(t){return{stream:function(e){var n=new bn(e);for(var r in t)n[r]=t[r];return n}}},bn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},yi.geo.path=function(){function t(t){return t&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),i&&i.valid||(i=a(o)),yi.geo.stream(t,i)),o.result()}function e(){return i=null,t}var n,r,a,o,i,l=4.5;return t.area=function(t){return $l=0,yi.geo.stream(t,a(es)),$l},t.centroid=function(t){return Nl=jl=Fl=Rl=ql=Hl=Bl=Vl=Zl=0,yi.geo.stream(t,a(rs)),Zl?[Bl/Zl,Vl/Zl]:Hl?[Rl/Hl,ql/Hl]:Fl?[Nl/Fl,jl/Fl]:[0/0,0/0]},t.bounds=function(t){return Kl=ts=-(Jl=Wl=1/0),yi.geo.stream(t,a(ns)),[[Jl,Wl],[Kl,ts]]},t.projection=function(t){return arguments.length?(a=(n=t)?t.stream||_n(t):pe,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new dn:new yn(t),"function"!=typeof l&&o.pointRadius(l),e()):r},t.pointRadius=function(e){return arguments.length?(l="function"==typeof e?e:(o.pointRadius(+e),+e),t):l},t.projection(yi.geo.albersUsa()).context(null)},yi.geo.projection=wn,yi.geo.projectionMutator=kn,(yi.geo.equirectangular=function(){return wn(An)}).raw=An.invert=An,yi.geo.rotation=function(t){function e(e){return e=t(e[0]*Qi,e[1]*Qi),e[0]*=Ji,e[1]*=Ji,e}return t=Ln(t[0]%360*Qi,t[1]*Qi,t.length>2?t[2]*Qi:0),e.invert=function(e){return e=t.invert(e[0]*Qi,e[1]*Qi),e[0]*=Ji,e[1]*=Ji,e},e},yi.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=Ln(-t[0]*Qi,-t[1]*Qi,0).invert,a=[];return n(null,null,1,{point:function(t,n){a.push(t=e(t,n)),t[0]*=Ji,t[1]*=Ji}}),{type:"Polygon",coordinates:[a]}}var e,n,r=[0,0],a=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=Cn((e=+r)*Qi,a*Qi),t):e},t.precision=function(r){return arguments.length?(n=Cn(e*Qi,(a=+r)*Qi),t):a},t.angle(90)},yi.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Qi,a=t[1]*Qi,o=e[1]*Qi,i=Math.sin(r),l=Math.cos(r),s=Math.sin(a),u=Math.cos(a),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*i)*n+(n=u*c-s*f*l)*n),s*c+u*f*l)},yi.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return yi.range(Math.ceil(o/m)*m,a,m).map(d).concat(yi.range(Math.ceil(u/v)*v,s,v).map(h)).concat(yi.range(Math.ceil(r/g)*g,n,g).filter(function(t){return Math.abs(t%m)>Ui}).map(c)).concat(yi.range(Math.ceil(l/p)*p,i,p).filter(function(t){return Math.abs(t%v)>Ui}).map(f))}var n,r,a,o,i,l,s,u,c,f,d,h,g=10,p=g,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(h(s).slice(1),d(a).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],a=+e[1][0],u=+e[0][1],s=+e[1][1],o>a&&(e=o,o=a,a=e),u>s&&(e=u,u=s,s=e),t.precision(y)):[[o,u],[a,s]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],i=+e[1][1],r>n&&(e=r,r=n,n=e),l>i&&(e=l,l=i,i=e),t.precision(y)):[[r,l],[n,i]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(g=+e[0],p=+e[1],t):[g,p]},t.precision=function(e){return arguments.length?(y=+e,c=Dn(l,i,90),f=On(r,n,y),d=Dn(u,s,90),h=On(o,a,y),t):y},t.majorExtent([[-180,-90+Ui],[180,90-Ui]]).minorExtent([[-180,-80-Ui],[180,80+Ui]])},yi.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||a.apply(this,arguments)]}}var e,n,r=Pn,a=In;return t.distance=function(){return yi.geo.distance(e||r.apply(this,arguments),n||a.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(a=e,n="function"==typeof e?null:e,t):a},t.precision=function(){return arguments.length?t:0},t},yi.geo.interpolate=function(t,e){return Nn(t[0]*Qi,t[1]*Qi,e[0]*Qi,e[1]*Qi)},yi.geo.length=function(t){return as=0,yi.geo.stream(t,os),as};var as,os={sphere:s,point:s,lineStart:jn,lineEnd:s,polygonStart:s,polygonEnd:s},is=Fn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(yi.geo.azimuthalEqualArea=function(){return wn(is)}).raw=is;var ls=Fn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},pe);(yi.geo.azimuthalEquidistant=function(){return wn(ls)}).raw=ls,(yi.geo.conicConformal=function(){return sn(Rn)}).raw=Rn,(yi.geo.conicEquidistant=function(){return sn(qn)}).raw=qn;var ss=Fn(function(t){return 1/t},Math.atan);(yi.geo.gnomonic=function(){return wn(ss)}).raw=ss,Hn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Gi/2]},(yi.geo.mercator=function(){return Bn(Hn)}).raw=Hn;var us=Fn(function(){return 1},Math.asin);(yi.geo.orthographic=function(){return wn(us)}).raw=us;var cs=Fn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(yi.geo.stereographic=function(){return wn(cs)}).raw=cs,Vn.invert=function(t,e){return[Math.atan2(q(t),Math.cos(e)),R(Math.sin(e)/H(t))]},(yi.geo.transverseMercator=function(){return Bn(Vn)}).raw=Vn,yi.geom={},yi.svg={},yi.svg.line=function(){return Zn(pe)};var fs=yi.map({linear:Gn,"linear-closed":Un,step:$n,"step-before":Qn,"step-after":Jn,basis:rr,"basis-open":ar,"basis-closed":or,bundle:ir,cardinal:tr,"cardinal-open":Wn,"cardinal-closed":Kn,monotone:dr});fs.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ds=[0,2/3,1/3,0],hs=[0,1/3,2/3,0],gs=[0,1/6,2/3,1/6];yi.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,a,o,i,l,s,u,c,f,d,h,g,p=ge(n),m=ge(r),v=t.length,y=v-1,x=[],b=[],_=0;if(p===Yn&&r===Xn)e=t;else for(o=0,e=[];v>o;++o)e.push([+p.call(this,a=t[o],o),+m.call(this,a,o)]);for(o=1;v>o;++o)(e[o][1]<e[_][1]||e[o][1]==e[_][1]&&e[o][0]<e[_][0])&&(_=o);for(o=0;v>o;++o)o!==_&&(s=e[o][1]-e[_][1],l=e[o][0]-e[_][0],x.push({angle:Math.atan2(s,l),index:o}));for(x.sort(function(t,e){return t.angle-e.angle}),h=x[0].angle,d=x[0].index,f=0,o=1;y>o;++o){if(i=x[o].index,h==x[o].angle){if(l=e[d][0]-e[_][0],s=e[d][1]-e[_][1],u=e[i][0]-e[_][0],c=e[i][1]-e[_][1],l*l+s*s>=u*u+c*c){x[o].index=-1;continue}x[f].index=-1}h=x[o].angle,f=o,d=i}for(b.push(_),o=0,i=0;2>o;++i)x[i].index>-1&&(b.push(x[i].index),o++);for(g=b.length;y>i;++i)if(!(x[i].index<0)){for(;!hr(b[g-2],b[g-1],x[i].index,e);)--g;b[g++]=x[i].index}var w=[];for(o=g-1;o>=0;--o)w.push(t[b[o]]);return w}var n=Yn,r=Xn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},yi.geom.polygon=function(t){return Pi(t,ps),t};var ps=yi.geom.polygon.prototype=[];ps.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],a=0;++e<n;)t=r,r=this[e],a+=t[1]*r[0]-t[0]*r[1];return.5*a},ps.centroid=function(t){var e,n,r=-1,a=this.length,o=0,i=0,l=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++r<a;)e=l,l=this[r],n=e[0]*l[1]-l[0]*e[1],o+=(e[0]+l[0])*n,i+=(e[1]+l[1])*n;return[o*t,i*t]},ps.clip=function(t){for(var e,n,r,a,o,i,l=mr(t),s=-1,u=this.length-mr(this),c=this[u-1];++s<u;){for(e=t.slice(),t.length=0,a=this[s],o=e[(r=e.length-l)-1],n=-1;++n<r;)i=e[n],gr(i,c,a)?(gr(o,c,a)||t.push(pr(o,i,c,a)),t.push(i)):gr(o,c,a)&&t.push(pr(o,i,c,a)),o=i;l&&t.push(t[0]),c=a}return t},yi.geom.delaunay=function(t){var e=t.map(function(){return[]}),n=[];return vr(t,function(n){e[n.region.l.index].push(t[n.region.r.index])}),e.forEach(function(e,r){var a=t[r],o=a[0],i=a[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-o,t[1]-i)}),e.sort(function(t,e){return t.angle-e.angle});for(var l=0,s=e.length-1;s>l;l++)n.push([a,e[l],e[l+1]])}),n},yi.geom.voronoi=function(t){function e(t){var e,o,i,l=t.map(function(){return[]}),s=ge(n),u=ge(r),c=t.length,f=1e6;if(s===Yn&&u===Xn)e=t;else for(e=new Array(c),i=0;c>i;++i)e[i]=[+s.call(this,o=t[i],i),+u.call(this,o,i)];if(vr(e,function(t){var e,n,r,a,o,i;1===t.a&&t.b>=0?(e=t.ep.r,n=t.ep.l):(e=t.ep.l,n=t.ep.r),1===t.a?(o=e?e.y:-f,r=t.c-t.b*o,i=n?n.y:f,a=t.c-t.b*i):(r=e?e.x:-f,o=t.c-t.a*r,a=n?n.x:f,i=t.c-t.a*a);var s=[r,o],u=[a,i];l[t.region.l.index].push(s,u),l[t.region.r.index].push(s,u)}),l=l.map(function(t,n){var r=e[n][0],a=e[n][1],o=t.map(function(t){return Math.atan2(t[0]-r,t[1]-a)}),i=yi.range(t.length).sort(function(t,e){return o[t]-o[e]});return i.filter(function(t,e){return!e||o[t]-o[i[e-1]]>Ui}).map(function(e){return t[e]})}),l.forEach(function(t,n){var r=t.length;if(!r)return t.push([-f,-f],[-f,f],[f,f],[f,-f]);if(!(r>2)){var a=e[n],o=t[0],i=t[1],l=a[0],s=a[1],u=o[0],c=o[1],d=i[0],h=i[1],g=Math.abs(d-u),p=h-c;if(Math.abs(p)<Ui){var m=c>s?-f:f;t.push([-f,m],[f,m])}else if(Ui>g){var v=u>l?-f:f;t.push([v,-f],[v,f])}else{var m=(u-l)*(h-c)>(d-u)*(c-s)?f:-f,y=Math.abs(p)-g;Math.abs(y)<Ui?t.push([0>p?m:-m,m]):(y>0&&(m*=-1),t.push([-f,m],[f,m]))}}}),a)for(i=0;c>i;++i)a.clip(l[i]);for(i=0;c>i;++i)l[i].point=t[i];return l}var n=Yn,r=Xn,a=null;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.clipExtent=function(t){if(!arguments.length)return a&&[a[0],a[2]];if(null==t)a=null;else{var n=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1];a=yi.geom.polygon([[n,r],[n,i],[o,i],[o,r]])}return e},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a&&a[2]},e.links=function(t){var e,a,o,i=t.map(function(){return[]}),l=[],s=ge(n),u=ge(r),c=t.length;if(s===Yn&&u===Xn)e=t;else for(e=new Array(c),o=0;c>o;++o)e[o]=[+s.call(this,a=t[o],o),+u.call(this,a,o)];return vr(e,function(e){var n=e.region.l.index,r=e.region.r.index;i[n][r]||(i[n][r]=i[r][n]=!0,l.push({source:t[n],target:t[r]}))}),l},e.triangles=function(t){if(n===Yn&&r===Xn)return yi.geom.delaunay(t);for(var e,a=new Array(s),o=ge(n),i=ge(r),l=-1,s=t.length;++l<s;)(a[l]=[+o.call(this,e=t[l],l),+i.call(this,e,l)]).data=e;return yi.geom.delaunay(a).map(function(t){return t.map(function(t){return t.data})})},e)};var ms={l:"r",r:"l"};yi.geom.quadtree=function(t,e,n,r,a){function o(t){function o(t,e,n,r,a,o,i,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,c=t.y;if(null!=s)if(Math.abs(s-n)+Math.abs(c-r)<.01)u(t,e,n,r,a,o,i,l);else{var f=t.point;t.x=t.y=t.point=null,u(t,f,s,c,a,o,i,l),u(t,e,n,r,a,o,i,l)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,a,o,i,l)}function u(t,e,n,r,a,i,l,s){var u=.5*(a+l),c=.5*(i+s),f=n>=u,d=r>=c,h=(d<<1)+f;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=br()),f?a=u:l=u,d?i=c:s=c,o(t,e,n,r,a,i,l,s)}var c,f,d,h,g,p,m,v,y,x=ge(l),b=ge(s);if(null!=e)p=e,m=n,v=r,y=a;else if(v=y=-(p=m=1/0),f=[],d=[],g=t.length,i)for(h=0;g>h;++h)c=t[h],c.x<p&&(p=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),d.push(c.y);else for(h=0;g>h;++h){var _=+x(c=t[h],h),w=+b(c,h);p>_&&(p=_),m>w&&(m=w),_>v&&(v=_),w>y&&(y=w),f.push(_),d.push(w)}var k=v-p,M=y-m;k>M?y=m+k:v=p+M;var A=br();if(A.add=function(t){o(A,t,+x(t,++h),+b(t,h),p,m,v,y)},A.visit=function(t){_r(t,A,p,m,v,y)},h=-1,null==e){for(;++h<g;)o(A,t[h],f[h],d[h],p,m,v,y);--h}else t.forEach(A.add);return f=d=t=c=null,A}var i,l=Yn,s=Xn;return(i=arguments.length)?(l=yr,s=xr,3===i&&(a=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(l=t,o):l},o.y=function(t){return arguments.length?(s=t,o):s},o.extent=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],a=+t[1][1]),o):null==e?null:[[e,n],[r,a]]},o.size=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=n=0,r=+t[0],a=+t[1]),o):null==e?null:[r-e,a-n]},o)},yi.interpolateRgb=wr,yi.interpolateObject=kr,yi.interpolateNumber=Mr,yi.interpolateString=Ar;var vs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;yi.interpolate=Lr,yi.interpolators=[function(t,e){var n=typeof e;return("string"===n?dl.has(e)||/^(#|rgb\(|hsl\()/.test(e)?wr:Ar:e instanceof Z?wr:"object"===n?Array.isArray(e)?Tr:kr:Mr)(t,e)}],yi.interpolateArray=Tr;var ys=function(){return pe},xs=yi.map({linear:ys,poly:Pr,quad:function(){return Er},cubic:function(){return Dr},sin:function(){return Ir},exp:function(){return Nr},circle:function(){return jr},elastic:Fr,back:Rr,bounce:function(){return qr}}),bs=yi.map({in:pe,out:Sr,"in-out":Cr,"out-in":function(t){return Cr(Sr(t))}});yi.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=xs.get(n)||ys,r=bs.get(r)||pe,zr(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},yi.interpolateHcl=Hr,yi.interpolateHsl=Br,yi.interpolateLab=Vr,yi.interpolateRound=Zr,yi.transform=function(t){var e=_i.createElementNS(yi.ns.prefix.svg,"g");return(yi.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Yr(n?n.matrix:_s)})(t)},Yr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var _s={a:1,b:0,c:0,d:1,e:0,f:0};yi.interpolateTransform=$r,yi.layout={},yi.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Wr(t[n]));return e}},yi.layout.chord=function(){function t(){var t,u,f,d,h,g={},p=[],m=yi.range(o),v=[];for(n=[],r=[],t=0,d=-1;++d<o;){for(u=0,h=-1;++h<o;)u+=a[d][h];p.push(u),v.push(yi.range(o)),t+=u}for(i&&m.sort(function(t,e){return i(p[t],p[e])}),l&&v.forEach(function(t,e){t.sort(function(t,n){return l(a[e][t],a[e][n])})}),t=(2*Gi-c*o)/t,u=0,d=-1;++d<o;){for(f=u,h=-1;++h<o;){var y=m[d],x=v[y][h],b=a[y][x],_=u,w=u+=b*t;g[y+"-"+x]={index:y,subindex:x,startAngle:_,endAngle:w,value:b}}r[y]={index:y,startAngle:f,endAngle:u,value:(u-f)/t},u+=c}for(d=-1;++d<o;)for(h=d-1;++h<o;){var k=g[d+"-"+h],M=g[h+"-"+d];(k.value||M.value)&&n.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}s&&e()}function e(){n.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,a,o,i,l,s,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(a=t)&&a.length,n=r=null,u):a},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(i=t,n=r=null,u):i},u.sortSubgroups=function(t){return arguments.length?(l=t,n=null,u):l},u.sortChords=function(t){return arguments.length?(s=t,n&&e(),u):s},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},yi.layout.force=function(){function t(t){return function(e,n,r,a){if(e.point!==t){var o=e.cx-t.x,i=e.cy-t.y,l=1/Math.sqrt(o*o+i*i);if(p>(a-n)*l){var s=e.charge*l*l;return t.px-=o*s,t.py-=i*s,!0}if(e.point&&isFinite(l)){var s=e.pointCharge*l*l;t.px-=o*s,t.py-=i*s}}return!e.charge}}function e(t){t.px=yi.event.x,t.py=yi.event.y,l.resume()}var n,r,a,o,i,l={},s=yi.dispatch("start","tick","end"),u=[1,1],c=.9,f=ws,d=ks,h=-30,g=.1,p=.8,m=[],v=[];return l.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var e,n,l,f,d,p,y,x,b,_=m.length,w=v.length;for(n=0;w>n;++n)l=v[n],f=l.source,d=l.target,x=d.x-f.x,b=d.y-f.y,(p=x*x+b*b)&&(p=r*o[n]*((p=Math.sqrt(p))-a[n])/p,x*=p,b*=p,d.x-=x*(y=f.weight/(d.weight+f.weight)),d.y-=b*y,f.x+=x*(y=1-y),f.y+=b*y);if((y=r*g)&&(x=u[0]/2,b=u[1]/2,n=-1,y))for(;++n<_;)l=m[n],l.x+=(x-l.x)*y,l.y+=(b-l.y)*y;if(h)for(oa(e=yi.geom.quadtree(m),r,i),n=-1;++n<_;)(l=m[n]).fixed||e.visit(t(l));for(n=-1;++n<_;)l=m[n],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*c,l.y-=(l.py-(l.py=l.y))*c);s.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(m=t,l):m},l.links=function(t){return arguments.length?(v=t,l):v},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.friction=function(t){return arguments.length?(c=+t,l):c},l.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.gravity=function(t){return arguments.length?(g=+t,l):g},l.theta=function(t){return arguments.length?(p=+t,l):p},l.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),yi.timer(l.tick)),l):r},l.start=function(){function t(t,r){for(var a,o=e(n),i=-1,l=o.length;++i<l;)if(!isNaN(a=o[i][t]))return a;return Math.random()*r}function e(){if(!s){for(s=[],r=0;g>r;++r)s[r]=[];for(r=0;p>r;++r){var t=v[r];s[t.source.index].push(t.target),s[t.target.index].push(t.source)}}return s[n]}var n,r,s,c,g=m.length,p=v.length,y=u[0],x=u[1];for(n=0;g>n;++n)(c=m[n]).index=n,c.weight=0;for(n=0;p>n;++n)c=v[n],"number"==typeof c.source&&(c.source=m[c.source]),"number"==typeof c.target&&(c.target=m[c.target]),++c.source.weight,++c.target.weight;for(n=0;g>n;++n)c=m[n],isNaN(c.x)&&(c.x=t("x",y)),isNaN(c.y)&&(c.y=t("y",x)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);if(a=[],"function"==typeof f)for(n=0;p>n;++n)a[n]=+f.call(this,v[n],n);else for(n=0;p>n;++n)a[n]=f;if(o=[],"function"==typeof d)for(n=0;p>n;++n)o[n]=+d.call(this,v[n],n);else for(n=0;p>n;++n)o[n]=d;if(i=[],"function"==typeof h)for(n=0;g>n;++n)i[n]=+h.call(this,m[n],n);else for(n=0;g>n;++n)i[n]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=yi.behavior.drag().origin(pe).on("dragstart.force",ea).on("drag.force",e).on("dragend.force",na)),arguments.length?void this.on("mouseover.force",ra).on("mouseout.force",aa).call(n):n},yi.rebind(l,s,"on")};var ws=20,ks=1;yi.layout.hierarchy=function(){function t(e,i,l){var s=a.call(n,e,i);if(e.depth=i,l.push(e),s&&(u=s.length)){for(var u,c,f=-1,d=e.children=[],h=0,g=i+1;++f<u;)c=t(s[f],g,l),c.parent=e,d.push(c),h+=c.value;r&&d.sort(r),o&&(e.value=h)}else o&&(e.value=+o.call(n,e,i)||0);return e}function e(t,r){var a=t.children,i=0;if(a&&(l=a.length))for(var l,s=-1,u=r+1;++s<l;)i+=e(a[s],u);else o&&(i=+o.call(n,t,r)||0);return o&&(t.value=i),i}function n(e){var n=[];return t(e,0,n),n}var r=ua,a=la,o=sa;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(a=t,n):a},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},yi.layout.partition=function(){function t(e,n,r,a){var o=e.children;if(e.x=n,e.y=e.depth*a,e.dx=r,e.dy=a,o&&(i=o.length)){var i,l,s,u=-1;for(r=e.value?r/e.value:0;++u<i;)t(l=o[u],n,s=l.value*r,a),n+=s}}function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,o=-1;++o<a;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var i=r.call(this,n,o);return t(i[0],0,a[0],a[1]/e(i[0])),i}var r=yi.layout.hierarchy(),a=[1,1];return n.size=function(t){return arguments.length?(a=t,n):a},ia(n,r)},yi.layout.pie=function(){function t(o){var i=o.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof a?a.apply(this,arguments):a)-l)/yi.sum(i),u=yi.range(o.length);null!=n&&u.sort(n===Ms?function(t,e){return i[e]-i[t]}:function(t,e){return n(o[t],o[e])});var c=[];return u.forEach(function(t){var e;c[t]={data:o[t],value:e=i[t],startAngle:l,endAngle:l+=e*s}}),c}var e=Number,n=Ms,r=0,a=2*Gi;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(a=e,t):a},t};var Ms={};yi.layout.stack=function(){function t(l,s){var u=l.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),i.call(t,e,n)]})}),f=n.call(t,c,s);u=yi.permute(u,f),c=yi.permute(c,f);var d,h,g,p=r.call(t,c,s),m=u.length,v=u[0].length;for(h=0;v>h;++h)for(a.call(t,u[0][h],g=p[h],c[0][h][1]),d=1;m>d;++d)a.call(t,u[d][h],g+=c[d-1][h][1],c[d][h][1]);return l}var e=pe,n=ga,r=pa,a=ha,o=fa,i=da;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:As.get(e)||ga,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Ls.get(e)||pa,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(i=e,t):i},t.out=function(e){return arguments.length?(a=e,t):a},t};var As=yi.map({"inside-out":function(t){var e,n,r=t.length,a=t.map(ma),o=t.map(va),i=yi.range(r).sort(function(t,e){return a[t]-a[e]}),l=0,s=0,u=[],c=[];for(e=0;r>e;++e)n=i[e],s>l?(l+=o[n],u.push(n)):(s+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return yi.range(t.length).reverse()},default:ga}),Ls=yi.map({silhouette:function(t){var e,n,r,a=t.length,o=t[0].length,i=[],l=0,s=[];for(n=0;o>n;++n){for(e=0,r=0;a>e;e++)r+=t[e][n][1];r>l&&(l=r),i.push(r)}for(n=0;o>n;++n)s[n]=(l-i[n])/2;return s},wiggle:function(t){var e,n,r,a,o,i,l,s,u,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=s=u=0,n=1;d>n;++n){for(e=0,a=0;c>e;++e)a+=t[e][n][1];for(e=0,o=0,l=f[n][0]-f[n-1][0];c>e;++e){for(r=0,i=(t[e][n][1]-t[e][n-1][1])/(2*l);e>r;++r)i+=(t[r][n][1]-t[r][n-1][1])/l;o+=i*t[e][n][1]}h[n]=s-=a?o/a*l:0,u>s&&(u=s)}for(n=0;d>n;++n)h[n]-=u;return h},expand:function(t){var e,n,r,a=t.length,o=t[0].length,i=1/a,l=[];for(n=0;o>n;++n){for(e=0,r=0;a>e;e++)r+=t[e][n][1];if(r)for(e=0;a>e;e++)t[e][n][1]/=r;else for(e=0;a>e;e++)t[e][n][1]=i}for(n=0;o>n;++n)l[n]=0;return l},zero:pa});yi.layout.histogram=function(){function t(t,o){for(var i,l,s=[],u=t.map(n,this),c=r.call(this,u,o),f=a.call(this,c,u,o),o=-1,d=u.length,h=f.length-1,g=e?1:1/d;++o<h;)i=s[o]=[],i.dx=f[o+1]-(i.x=f[o]),i.y=0;if(h>0)for(o=-1;++o<d;)l=u[o],l>=c[0]&&l<=c[1]&&(i=s[yi.bisect(f,l,1,h)-1],i.y+=g,i.push(t[o]));return s}var e=!0,n=Number,r=_a,a=xa;return t.value=function(e){return arguments.length?(n=e,t):n
},t.range=function(e){return arguments.length?(r=ge(e),t):r},t.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return ba(t,e)}:ge(e),t):a},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},yi.layout.tree=function(){function t(t,o){function i(t,e){var r=t.children,a=t._tree;if(r&&(o=r.length)){for(var o,l,u,c=r[0],f=c,d=-1;++d<o;)u=r[d],i(u,l),f=s(u,l,f),l=u;Ca(t);var h=.5*(c._tree.prelim+u._tree.prelim);e?(a.prelim=e._tree.prelim+n(t,e),a.mod=a.prelim-h):a.prelim=h}else e&&(a.prelim=e._tree.prelim+n(t,e))}function l(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length)){var r,a=-1;for(e+=t._tree.mod;++a<r;)l(n[a],e)}}function s(t,e,r){if(e){for(var a,o=t,i=t,l=e,s=t.parent.children[0],u=o._tree.mod,c=i._tree.mod,f=l._tree.mod,d=s._tree.mod;l=Ma(l),o=ka(o),l&&o;)s=ka(s),i=Ma(i),i._tree.ancestor=t,a=l._tree.prelim+f-o._tree.prelim-u+n(l,o),a>0&&(Ea(Da(l,t,r),t,a),u+=a,c+=a),f+=l._tree.mod,u+=o._tree.mod,d+=s._tree.mod,c+=i._tree.mod;l&&!Ma(i)&&(i._tree.thread=l,i._tree.mod+=f-c),o&&!ka(s)&&(s._tree.thread=o,s._tree.mod+=u-d,r=t)}return r}var u=e.call(this,t,o),c=u[0];Sa(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),i(c),l(c,-c._tree.prelim);var f=Aa(c,Ta),d=Aa(c,La),h=Aa(c,za),g=f.x-n(f,d)/2,p=d.x+n(d,f)/2,m=h.depth||1;return Sa(c,a?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-g)/(p-g)*r[0],t.y=t.depth/m*r[1],delete t._tree}),u}var e=yi.layout.hierarchy().sort(null).value(null),n=wa,r=[1,1],a=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(a=null==(r=e),t):a?null:r},t.nodeSize=function(e){return arguments.length?(a=null!=(r=e),t):a?r:null},ia(t,e)},yi.layout.pack=function(){function t(t,o){var i=n.call(this,t,o),l=i[0],s=a[0],u=a[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(l.x=l.y=0,Sa(l,function(t){t.r=+c(t.value)}),Sa(l,ja),r){var f=r*(e?1:Math.max(2*l.r/s,2*l.r/u))/2;Sa(l,function(t){t.r+=f}),Sa(l,ja),Sa(l,function(t){t.r-=f})}return qa(l,s/2,u/2,e?1:1/Math.max(2*l.r/s,2*l.r/u)),i}var e,n=yi.layout.hierarchy().sort(Oa),r=0,a=[1,1];return t.size=function(e){return arguments.length?(a=e,t):a},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ia(t,n)},yi.layout.cluster=function(){function t(t,o){var i,l=e.call(this,t,o),s=l[0],u=0;Sa(s,function(t){var e=t.children;e&&e.length?(t.x=Va(e),t.y=Ba(e)):(t.x=i?u+=n(t,i):0,t.y=0,i=t)});var c=Za(s),f=Ya(s),d=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return Sa(s,a?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),l}var e=yi.layout.hierarchy().sort(null).value(null),n=wa,r=[1,1],a=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(a=null==(r=e),t):a?null:r},t.nodeSize=function(e){return arguments.length?(a=null!=(r=e),t):a?r:null},ia(t,e)},yi.layout.treemap=function(){function t(t,e){for(var n,r,a=-1,o=t.length;++a<o;)r=(n=t[a]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var i,l,s,u=f(n),c=[],d=o.slice(),g=1/0,p="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(s=d.length)>0;)c.push(i=d[s-1]),c.area+=i.area,"squarify"!==h||(l=r(c,p))<=g?(d.pop(),g=l):(c.area-=c.pop().area,a(c,p,u,!1),p=Math.min(u.dx,u.dy),c.length=c.area=0,g=1/0);c.length&&(a(c,p,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,i=f(e),l=r.slice(),s=[];for(t(l,i.dx*i.dy/e.value),s.area=0;o=l.pop();)s.push(o),s.area+=o.area,null!=o.z&&(a(s,o.z?i.dx:i.dy,i,!l.length),s.length=s.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,a=0,o=1/0,i=-1,l=t.length;++i<l;)(n=t[i].area)&&(o>n&&(o=n),n>a&&(a=n));return r*=r,e*=e,r?Math.max(e*a*g/r,r/(e*o*g)):1/0}function a(t,e,n,r){var a,o=-1,i=t.length,l=n.x,u=n.y,c=e?s(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<i;)a=t[o],a.x=l,a.y=u,a.dy=c,l+=a.dx=Math.min(n.x+n.dx-l,c?s(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<i;)a=t[o],a.x=l,a.y=u,a.dx=c,u+=a.dy=Math.min(n.y+n.dy-u,c?s(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var a=i||l(r),o=a[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],i&&l.revalue(o),t([o],o.dx*o.dy/o.value),(i?n:e)(o),d&&(i=a),a}var i,l=yi.layout.hierarchy(),s=Math.round,u=[1,1],c=null,f=Xa,d=!1,h="squarify",g=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Xa(e):Ga(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ga(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Xa:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(s=t?Math.round:Number,o):s!=Number},o.sticky=function(t){return arguments.length?(d=t,i=null,o):d},o.ratio=function(t){return arguments.length?(g=t,o):g},o.mode=function(t){return arguments.length?(h=t+"",o):h},ia(o,l)},yi.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,a;do n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r;while(!a||a>1);return t+e*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=yi.random.normal.apply(yi,arguments);return function(){return Math.exp(t())}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e/t}}},yi.scale={};var Ts={floor:pe,ceil:pe};yi.scale.linear=function(){return to([0,1],[0,1],Lr,!1)},yi.scale.log=function(){return io(yi.scale.linear().domain([0,1]),10,!0,[1,10])};var zs=yi.format(".0e"),Ss={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};yi.scale.pow=function(){return lo(yi.scale.linear(),1,[0,1])},yi.scale.sqrt=function(){return yi.scale.pow().exponent(.5)},yi.scale.ordinal=function(){return uo([],{t:"range",a:[[]]})},yi.scale.category10=function(){return yi.scale.ordinal().range(Cs)},yi.scale.category20=function(){return yi.scale.ordinal().range(Es)},yi.scale.category20b=function(){return yi.scale.ordinal().range(Ds)},yi.scale.category20c=function(){return yi.scale.ordinal().range(Os)};var Cs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(oe),Es=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(oe),Ds=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(oe),Os=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(oe);yi.scale.quantile=function(){return co([],[])},yi.scale.quantize=function(){return fo(0,1,[0,1])},yi.scale.threshold=function(){return ho([.5],[0,1])},yi.scale.identity=function(){return go([0,1])},yi.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),i=r.apply(this,arguments)+Ps,l=a.apply(this,arguments)+Ps,s=(i>l&&(s=i,i=l,l=s),l-i),u=Gi>s?"0":"1",c=Math.cos(i),f=Math.sin(i),d=Math.cos(l),h=Math.sin(l);return s>=Is?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+u+",1 "+o*d+","+o*h+"L"+t*d+","+t*h+"A"+t+","+t+" 0 "+u+",0 "+t*c+","+t*f+"Z":"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+u+",1 "+o*d+","+o*h+"L0,0Z"}var e=po,n=mo,r=vo,a=yo;return t.innerRadius=function(n){return arguments.length?(e=ge(n),t):e},t.outerRadius=function(e){return arguments.length?(n=ge(e),t):n},t.startAngle=function(e){return arguments.length?(r=ge(e),t):r},t.endAngle=function(e){return arguments.length?(a=ge(e),t):a},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+a.apply(this,arguments))/2+Ps;return[Math.cos(o)*t,Math.sin(o)*t]},t};var Ps=-Gi/2,Is=2*Gi-1e-6;yi.svg.line.radial=function(){var t=Zn(xo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Qn.reverse=Jn,Jn.reverse=Qn,yi.svg.area=function(){return bo(pe)},yi.svg.area.radial=function(){var t=bo(xo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},yi.svg.chord=function(){function t(t,l){var s=e(this,o,t,l),u=e(this,i,t,l);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(n(s,u)?a(s.r,s.p1,s.r,s.p0):a(s.r,s.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+a(u.r,u.p1,s.r,s.p0))+"Z"}function e(t,e,n,r){var a=e.call(t,n,r),o=l.call(t,a,r),i=s.call(t,a,r)+Ps,c=u.call(t,a,r)+Ps;return{r:o,a0:i,a1:c,p0:[o*Math.cos(i),o*Math.sin(i)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Gi)+",1 "+e}function a(t,e,n,r){return"Q 0,0 "+r}var o=Pn,i=In,l=_o,s=vo,u=yo;return t.radius=function(e){return arguments.length?(l=ge(e),t):l},t.source=function(e){return arguments.length?(o=ge(e),t):o},t.target=function(e){return arguments.length?(i=ge(e),t):i},t.startAngle=function(e){return arguments.length?(s=ge(e),t):s},t.endAngle=function(e){return arguments.length?(u=ge(e),t):u},t},yi.svg.diagonal=function(){function t(t,a){var o=e.call(this,t,a),i=n.call(this,t,a),l=(o.y+i.y)/2,s=[o,{x:o.x,y:l},{x:i.x,y:l},i];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var e=Pn,n=In,r=wo;return t.source=function(n){return arguments.length?(e=ge(n),t):e},t.target=function(e){return arguments.length?(n=ge(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},yi.svg.diagonal.radial=function(){var t=yi.svg.diagonal(),e=wo,n=t.projection;return t.projection=function(t){return arguments.length?n(ko(e=t)):e},t},yi.svg.symbol=function(){function t(t,r){return(Ns.get(e.call(this,t,r))||Lo)(n.call(this,t,r))}var e=Ao,n=Mo;return t.type=function(n){return arguments.length?(e=ge(n),t):e},t.size=function(e){return arguments.length?(n=ge(e),t):n},t};var Ns=yi.map({circle:Lo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*qs)),n=e*qs;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Rs),n=e*Rs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Rs),n=e*Rs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});yi.svg.symbolTypes=Ns.keys();var js,Fs,Rs=Math.sqrt(3),qs=Math.tan(30*Qi),Hs=[],Bs=0;Hs.call=Ri.call,Hs.empty=Ri.empty,Hs.node=Ri.node,Hs.size=Ri.size,yi.transition=function(t){return arguments.length?js?t.transition():t:Bi.transition()},yi.transition.prototype=Hs,Hs.select=function(t){var e,n,r,a=this.id,o=[];t=p(t);for(var i=-1,l=this.length;++i<l;){o.push(e=[]);for(var s=this[i],u=-1,c=s.length;++u<c;)(r=s[u])&&(n=t.call(r,r.__data__,u,i))?("__data__"in r&&(n.__data__=r.__data__),Co(n,u,a,r.__transition__[a]),e.push(n)):e.push(null)}return To(o,a)},Hs.selectAll=function(t){var e,n,r,a,o,i=this.id,l=[];t=m(t);for(var s=-1,u=this.length;++s<u;)for(var c=this[s],f=-1,d=c.length;++f<d;)if(r=c[f]){o=r.__transition__[i],n=t.call(r,r.__data__,f,s),l.push(e=[]);for(var h=-1,g=n.length;++h<g;)(a=n[h])&&Co(a,h,i,o),e.push(a)}return To(l,i)},Hs.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=L(t));for(var o=0,i=this.length;i>o;o++){a.push(e=[]);for(var n=this[o],l=0,s=n.length;s>l;l++)(r=n[l])&&t.call(r,r.__data__,l)&&e.push(r)}return To(a,this.id)},Hs.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):z(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Hs.attr=function(t,e){function n(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function a(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(l);return n!==t&&(e=i(n,t),function(t){this.setAttribute(l,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(l.space,l.local);return n!==t&&(e=i(n,t),function(t){this.setAttributeNS(l.space,l.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?$r:Lr,l=yi.ns.qualify(t);return zo(this,"attr."+t,e,l.local?o:a)},Hs.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(a));return r&&function(t){this.setAttribute(a,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(a.space,a.local));return r&&function(t){this.setAttributeNS(a.space,a.local,r(t))}}var a=yi.ns.qualify(t);return this.tween("attr."+t,a.local?r:n)},Hs.style=function(t,e,n){function r(){this.style.removeProperty(t)}function a(e){return null==e?r:(e+="",function(){var r,a=ki.getComputedStyle(this,null).getPropertyValue(t);return a!==e&&(r=Lr(a,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return zo(this,"style."+t,e,a)},Hs.styleTween=function(t,e,n){function r(r,a){var o=e.call(this,r,a,ki.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Hs.text=function(t){return zo(this,"text",t,So)},Hs.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Hs.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=yi.ease.apply(yi,arguments)),z(this,function(n){n.__transition__[e].ease=t}))},Hs.delay=function(t){var e=this.id;return z(this,"function"==typeof t?function(n,r,a){n.__transition__[e].delay=+t.call(n,n.__data__,r,a)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Hs.duration=function(t){var e=this.id;return z(this,"function"==typeof t?function(n,r,a){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,a))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Hs.each=function(t,e){var n=this.id;if(arguments.length<2){var r=Fs,a=js;js=n,z(this,function(e,r,a){Fs=e.__transition__[n],t.call(e,e.__data__,r,a)}),Fs=r,js=a}else z(this,function(r){var a=r.__transition__[n];(a.event||(a.event=yi.dispatch("start","end"))).on(t,e)});return this},Hs.transition=function(){for(var t,e,n,r,a=this.id,o=++Bs,i=[],l=0,s=this.length;s>l;l++){i.push(t=[]);for(var e=this[l],u=0,c=e.length;c>u;u++)(n=e[u])&&(r=Object.create(n.__transition__[a]),r.delay+=r.duration,Co(n,u,o,r)),t.push(n)}return To(i,o)},yi.svg.axis=function(){function t(t){t.each(function(){var t,u=yi.select(this),c=null==s?n.ticks?n.ticks.apply(n,l):n.domain():s,f=null==e?n.tickFormat?n.tickFormat.apply(n,l):pe:e,d=u.selectAll(".tick").data(c,n),h=d.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),g=yi.transition(d.exit()).style("opacity",1e-6).remove(),p=yi.transition(d).style("opacity",1),m=$a(n),v=u.selectAll(".domain").data([0]),y=(v.enter().append("path").attr("class","domain"),yi.transition(v)),x=n.copy(),b=this.__chart__||x;this.__chart__=x,h.append("line"),h.append("text");var _=h.select("line"),w=p.select("line"),k=d.select("text").text(f),M=h.select("text"),A=p.select("text");switch(r){case"bottom":t=Eo,_.attr("y2",a),M.attr("y",Math.max(a,0)+i),w.attr("x2",0).attr("y2",a),A.attr("x",0).attr("y",Math.max(a,0)+i),k.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+m[0]+","+o+"V0H"+m[1]+"V"+o);break;case"top":t=Eo,_.attr("y2",-a),M.attr("y",-(Math.max(a,0)+i)),w.attr("x2",0).attr("y2",-a),A.attr("x",0).attr("y",-(Math.max(a,0)+i)),k.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+m[0]+","+-o+"V0H"+m[1]+"V"+-o);break;case"left":t=Do,_.attr("x2",-a),M.attr("x",-(Math.max(a,0)+i)),w.attr("x2",-a).attr("y2",0),A.attr("x",-(Math.max(a,0)+i)).attr("y",0),k.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-o+","+m[0]+"H0V"+m[1]+"H"+-o);break;case"right":t=Do,_.attr("x2",a),M.attr("x",Math.max(a,0)+i),w.attr("x2",a).attr("y2",0),A.attr("x",Math.max(a,0)+i).attr("y",0),k.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+o+","+m[0]+"H0V"+m[1]+"H"+o)}if(n.rangeBand){var L=x.rangeBand()/2,T=function(t){return x(t)+L};h.call(t,T),p.call(t,T)}else h.call(t,b),p.call(t,x),g.call(t,x)})}var e,n=yi.scale.linear(),r=Vs,a=6,o=6,i=3,l=[10],s=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Zs?e+"":Vs,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickValues=function(e){return arguments.length?(s=e,t):s},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(a=+e,o=+arguments[n-1],t):a},t.innerTickSize=function(e){return arguments.length?(a=+e,t):a},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(i=+e,t):i},t.tickSubdivide=function(){return arguments.length&&t},t};var Vs="bottom",Zs={top:1,right:1,bottom:1,left:1};yi.svg.brush=function(){function t(o){o.each(function(){var o=yi.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),i=o.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=o.selectAll(".resize").data(m,pe);l.exit().remove(),l.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ys[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",t.empty()?"none":null);var c,f=yi.transition(o),d=yi.transition(i);s&&(c=$a(s),d.attr("x",c[0]).attr("width",c[1]-c[0]),n(f)),u&&(c=$a(u),d.attr("y",c[0]).attr("height",c[1]-c[0]),r(f)),e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==yi.event.keyCode&&(z||(x=null,C[0]-=c[1],C[1]-=d[1],z=2),f())}function h(){32==yi.event.keyCode&&2==z&&(C[0]+=c[1],C[1]+=d[1],z=0,f())}function m(){var t=yi.mouse(_),a=!1;b&&(t[0]+=b[0],t[1]+=b[1]),z||(yi.event.altKey?(x||(x=[(c[0]+c[1])/2,(d[0]+d[1])/2]),C[0]=c[+(t[0]<x[0])],C[1]=d[+(t[1]<x[1])]):x=null),L&&v(t,s,0)&&(n(M),a=!0),T&&v(t,u,1)&&(r(M),a=!0),a&&(e(M),k({type:"brush",mode:z?"move":"resize"}))}function v(t,e,n){var r,a,l=$a(e),s=l[0],u=l[1],f=C[n],h=n?d:c,m=h[1]-h[0];return z&&(s-=f,u-=m+f),r=(n?p:g)?Math.max(s,Math.min(u,t[n])):t[n],z?a=(r+=f)+m:(x&&(f=Math.max(s,Math.min(u,2*x[n]-r))),r>f?(a=r,r=f):a=f),h[0]!=r||h[1]!=a?(n?i=null:o=null,h[0]=r,h[1]=a,!0):void 0}function y(){m(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),yi.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),k({type:"brushend"})}var x,b,_=this,w=yi.select(yi.event.target),k=l.of(_,arguments),M=yi.select(_),A=w.datum(),L=!/^(n|s)$/.test(A)&&s,T=!/^(e|w)$/.test(A)&&u,z=w.classed("extent"),S=I(),C=yi.mouse(_),E=yi.select(ki).on("keydown.brush",a).on("keyup.brush",h);if(yi.event.changedTouches?E.on("touchmove.brush",m).on("touchend.brush",y):E.on("mousemove.brush",m).on("mouseup.brush",y),M.interrupt().selectAll("*").interrupt(),z)C[0]=c[0]-C[0],C[1]=d[0]-C[1];else if(A){var D=+/w$/.test(A),O=+/^n/.test(A);b=[c[1-D]-C[0],d[1-O]-C[1]],C[0]=c[D],C[1]=d[O]}else yi.event.altKey&&(x=C.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),yi.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),m()}var o,i,l=h(t,"brushstart","brush","brushend"),s=null,u=null,c=[0,0],d=[0,0],g=!0,p=!0,m=Xs[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:c,y:d,i:o,j:i},n=this.__chart__||e;this.__chart__=e,js?yi.select(this).transition().each("start.brush",function(){o=n.i,i=n.j,c=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Tr(c,e.x),r=Tr(d,e.y);return o=i=null,function(a){c=e.x=n(a),d=e.y=r(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,i=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(s=e,m=Xs[!s<<1|!u],t):s},t.y=function(e){return arguments.length?(u=e,m=Xs[!s<<1|!u],t):u},t.clamp=function(e){return arguments.length?(s&&u?(g=!!e[0],p=!!e[1]):s?g=!!e:u&&(p=!!e),t):s&&u?[g,p]:s?g:u?p:null},t.extent=function(e){var n,r,a,l,f;return arguments.length?(s&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),o=[n,r],s.invert&&(n=s(n),r=s(r)),n>r&&(f=n,n=r,r=f),(n!=c[0]||r!=c[1])&&(c=[n,r])),u&&(a=e[0],l=e[1],s&&(a=a[1],l=l[1]),i=[a,l],u.invert&&(a=u(a),l=u(l)),a>l&&(f=a,a=l,l=f),(a!=d[0]||l!=d[1])&&(d=[a,l])),t):(s&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],s.invert&&(n=s.invert(n),r=s.invert(r)),n>r&&(f=n,n=r,r=f))),u&&(i?(a=i[0],l=i[1]):(a=d[0],l=d[1],u.invert&&(a=u.invert(a),l=u.invert(l)),a>l&&(f=a,a=l,l=f))),s&&u?[[n,a],[r,l]]:s?[n,r]:u&&[a,l])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],o=i=null),t},t.empty=function(){return!!s&&c[0]==c[1]||!!u&&d[0]==d[1]},yi.rebind(t,l,"on")};var Ys={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gs=yi.time={},Us=Date,$s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Oo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Qs.setUTCDate.apply(this._,arguments)},setDay:function(){Qs.setUTCDay.apply(this._,arguments)},setFullYear:function(){Qs.setUTCFullYear.apply(this._,arguments)},setHours:function(){Qs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Qs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Qs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Qs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Qs.setUTCSeconds.apply(this._,arguments)},setTime:function(){Qs.setTime.apply(this._,arguments)}};var Qs=Date.prototype,Js="%a %b %e %X %Y",Ws="%m/%d/%Y",Ks="%H:%M:%S",tu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],eu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],nu=["January","February","March","April","May","June","July","August","September","October","November","December"],ru=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Gs.year=Po(function(t){return t=Gs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Gs.years=Gs.year.range,Gs.years.utc=Gs.year.utc.range,Gs.day=Po(function(t){var e=new Us(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Gs.days=Gs.day.range,Gs.days.utc=Gs.day.utc.range,Gs.dayOfYear=function(t){var e=Gs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},$s.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=Gs[t]=Po(function(t){return(t=Gs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Gs.year(t).getDay();return Math.floor((Gs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Gs[t+"s"]=n.range,Gs[t+"s"].utc=n.utc.range,Gs[t+"OfYear"]=function(t){var n=Gs.year(t).getDay();return Math.floor((Gs.dayOfYear(t)+(n+e)%7)/7)}}),Gs.week=Gs.sunday,Gs.weeks=Gs.sunday.range,Gs.weeks.utc=Gs.sunday.utc.range,Gs.weekOfYear=Gs.sundayOfYear,Gs.format=No;var au=Fo(tu),ou=Ro(tu),iu=Fo(eu),lu=Ro(eu),su=Fo(nu),uu=Ro(nu),cu=Fo(ru),fu=Ro(ru),du=/^%/,hu={"-":"",_:" ",0:"0"},gu={a:function(t){return eu[t.getDay()]},A:function(t){return tu[t.getDay()]},b:function(t){return ru[t.getMonth()]},B:function(t){return nu[t.getMonth()]},c:No(Js),d:function(t,e){return qo(t.getDate(),e,2)},e:function(t,e){return qo(t.getDate(),e,2)},H:function(t,e){return qo(t.getHours(),e,2)},I:function(t,e){return qo(t.getHours()%12||12,e,2)},j:function(t,e){return qo(1+Gs.dayOfYear(t),e,3)},L:function(t,e){return qo(t.getMilliseconds(),e,3)},m:function(t,e){return qo(t.getMonth()+1,e,2)},M:function(t,e){return qo(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return qo(t.getSeconds(),e,2)},U:function(t,e){return qo(Gs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qo(Gs.mondayOfYear(t),e,2)},x:No(Ws),X:No(Ks),y:function(t,e){return qo(t.getFullYear()%100,e,2)},Y:function(t,e){return qo(t.getFullYear()%1e4,e,4)},Z:ui,"%":function(){return"%"}},pu={a:Ho,A:Bo,b:Xo,B:Go,c:Uo,d:ni,e:ni,H:ai,I:ai,j:ri,L:li,m:ei,M:oi,p:si,S:ii,U:Zo,w:Vo,W:Yo,x:$o,X:Qo,y:Wo,Y:Jo,Z:Ko,"%":ci},mu=/^\s*\d+/,vu=yi.map({am:0,pm:1});No.utc=fi;var yu=fi("%Y-%m-%dT%H:%M:%S.%LZ");No.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?di:yu,di.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},di.toString=yu.toString,Gs.second=Po(function(t){return new Us(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Gs.seconds=Gs.second.range,Gs.seconds.utc=Gs.second.utc.range,Gs.minute=Po(function(t){return new Us(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Gs.minutes=Gs.minute.range,Gs.minutes.utc=Gs.minute.utc.range,Gs.hour=Po(function(t){var e=t.getTimezoneOffset()/60;return new Us(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Gs.hours=Gs.hour.range,Gs.hours.utc=Gs.hour.utc.range,Gs.month=Po(function(t){return t=Gs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Gs.months=Gs.month.range,Gs.months.utc=Gs.month.utc.range;var xu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],bu=[[Gs.second,1],[Gs.second,5],[Gs.second,15],[Gs.second,30],[Gs.minute,1],[Gs.minute,5],[Gs.minute,15],[Gs.minute,30],[Gs.hour,1],[Gs.hour,3],[Gs.hour,6],[Gs.hour,12],[Gs.day,1],[Gs.day,2],[Gs.week,1],[Gs.month,1],[Gs.month,3],[Gs.year,1]],_u=[[No("%Y"),Ye],[No("%B"),function(t){return t.getMonth()}],[No("%b %d"),function(t){return 1!=t.getDate()}],[No("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[No("%I %p"),function(t){return t.getHours()}],[No("%I:%M"),function(t){return t.getMinutes()}],[No(":%S"),function(t){return t.getSeconds()}],[No(".%L"),function(t){return t.getMilliseconds()}]],wu=pi(_u);bu.year=Gs.year,Gs.scale=function(){return hi(yi.scale.linear(),bu,wu)};var ku={range:function(t,e,n){return yi.range(+t,+e,n).map(gi)}},Mu=bu.map(function(t){return[t[0].utc,t[1]]}),Au=[[fi("%Y"),Ye],[fi("%B"),function(t){return t.getUTCMonth()}],[fi("%b %d"),function(t){return 1!=t.getUTCDate()}],[fi("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[fi("%I %p"),function(t){return t.getUTCHours()}],[fi("%I:%M"),function(t){return t.getUTCMinutes()}],[fi(":%S"),function(t){return t.getUTCSeconds()}],[fi(".%L"),function(t){return t.getUTCMilliseconds()}]],Lu=pi(Au);return Mu.year=Gs.year.utc,Gs.scale.utc=function(){return hi(yi.scale.linear(),Mu,Lu)},yi.text=me(function(t){return t.responseText}),yi.json=function(t,e){return ve(t,"application/json",mi,e)},yi.html=function(t,e){return ve(t,"text/html",vi,e)},yi.xml=me(function(t){return t.responseXML}),yi}()},{}],6:[function(t,e){t("./d3"),e.exports=d3,function(){delete this.d3}()},{"./d3":5}],7:[function(e,n){(function(r,a){(function(){"use strict";function o(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function l(t){return"object"==typeof t&&null!==t}function s(t){X=t}function u(t){Q=t}function c(){return function(){r.nextTick(p)}}function f(){return function(){Y(p)}}function d(){var t=0,e=new K(p),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function h(){var t=new MessageChannel;return t.port1.onmessage=p,function(){t.port2.postMessage(0)}}function g(){return function(){setTimeout(p,1)}}function p(){for(var t=0;$>t;t+=2){var e=ne[t],n=ne[t+1];e(n),ne[t]=void 0,ne[t+1]=void 0}$=0}function m(){try{var t=e,n=t("vertx");return Y=n.runOnLoop||n.runOnContext,f()}catch(t){return g()}}function v(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(t){return ie.error=t,ie}}function _(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function w(t,e,n){Q(function(t){var r=!1,a=_(n,e,function(n){r||(r=!0,e!==n?A(t,n):T(t,n))},function(e){r||(r=!0,z(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&a&&(r=!0,z(t,a))},t)}function k(t,e){e._state===ae?T(t,e._result):e._state===oe?z(t,e._result):S(e,void 0,function(e){A(t,e)},function(e){z(t,e)})}function M(t,e){if(e.constructor===t.constructor)k(t,e);else{var n=b(e);n===ie?z(t,ie.error):void 0===n?T(t,e):i(n)?w(t,e,n):T(t,e)}}function A(t,e){t===e?z(t,y()):o(e)?M(t,e):T(t,e)}function L(t){t._onerror&&t._onerror(t._result),C(t)}function T(t,e){t._state===re&&(t._result=e,t._state=ae,0!==t._subscribers.length&&Q(C,t))}function z(t,e){t._state===re&&(t._state=oe,t._result=e,Q(L,t))}function S(t,e,n,r){var a=t._subscribers,o=a.length;t._onerror=null,a[o]=e,a[o+ae]=n,a[o+oe]=r,0===o&&t._state&&Q(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,a,o=t._result,i=0;i<e.length;i+=3)r=e[i],a=e[i+n],r?O(n,r,a,o):a(o);t._subscribers.length=0}}function E(){this.error=null}function D(t,e){try{return t(e)}catch(t){return le.error=t,le}}function O(t,e,n,r){var a,o,l,s,u=i(n);if(u){if(a=D(n,r),a===le?(s=!0,o=a.error,a=null):l=!0,e===a)return void z(e,x())}else a=r,l=!0;e._state!==re||(u&&l?A(e,a):s?z(e,o):t===ae?T(e,a):t===oe&&z(e,a))}function P(t,e){try{e(function(e){A(t,e)},function(e){z(t,e)})}catch(e){z(t,e)}}function I(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(v),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?T(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&T(n.promise,n._result))):z(n.promise,n._validationError())
}function N(t){return new se(this,t).promise}function j(t){function e(t){A(a,t)}function n(t){z(a,t)}var r=this,a=new r(v);if(!U(t))return z(a,new TypeError("You must pass an array to race.")),a;for(var o=t.length,i=0;a._state===re&&o>i;i++)S(r.resolve(t[i]),void 0,e,n);return a}function F(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(v);return A(n,t),n}function R(t){var e=this,n=new e(v);return z(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(t){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==t&&(i(t)||q(),this instanceof B||H(),P(this,t))}function V(){var t;if("undefined"!=typeof a)t=a;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;(!e||"[object Promise]"!==Object.prototype.toString.call(e.resolve())||e.cast)&&(t.Promise=ge)}var Z;Z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Y,X,G,U=Z,$=0,Q=({}.toString,function(t,e){ne[$]=t,ne[$+1]=e,$+=2,2===$&&(X?X(p):G())}),J="undefined"!=typeof window?window:void 0,W=J||{},K=W.MutationObserver||W.WebKitMutationObserver,te="undefined"!=typeof r&&"[object process]"==={}.toString.call(r),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3);G=te?c():K?d():ee?h():void 0===J&&"function"==typeof e?m():g();var re=void 0,ae=1,oe=2,ie=new E,le=new E;I.prototype._validateInput=function(t){return U(t)},I.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},I.prototype._init=function(){this._result=new Array(this.length)};var se=I;I.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,a=0;n._state===re&&e>a;a++)t._eachEntry(r[a],a)},I.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;l(t)?t.constructor===r&&t._state!==re?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},I.prototype._settledAt=function(t,e,n){var r=this,a=r.promise;a._state===re&&(r._remaining--,t===oe?z(a,n):r._result[e]=n),0===r._remaining&&T(a,r._result)},I.prototype._willSettleAt=function(t,e){var n=this;S(t,void 0,function(t){n._settledAt(ae,e,t)},function(t){n._settledAt(oe,e,t)})};var ue=N,ce=j,fe=F,de=R,he=0,ge=B;B.all=ue,B.race=ce,B.resolve=fe,B.reject=de,B._setScheduler=s,B._setAsap=u,B._asap=Q,B.prototype={constructor:B,then:function(t,e){var n=this,r=n._state;if(r===ae&&!t||r===oe&&!e)return this;var a=new this.constructor(v),o=n._result;if(r){var i=arguments[r-1];Q(function(){O(r,a,i,o)})}else S(n,a,t,e);return a},catch:function(t){return this.then(null,t)}};var pe=V,me={Promise:ge,polyfill:pe};"function"==typeof t&&t.amd?t(function(){return me}):"undefined"!=typeof n&&n.exports?n.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),pe()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],8:[function(t,e){function n(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,l=r+r,s=a+a,u=n*i,c=r*i,f=r*l,d=a*i,h=a*l,g=a*s,p=o*i,m=o*l,v=o*s;return t[0]=1-f-g,t[1]=c+v,t[2]=d-m,t[3]=0,t[4]=c-v,t[5]=1-u-g,t[6]=h+p,t[7]=0,t[8]=d+m,t[9]=h-p,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],9:[function(e,n){!function(){function e(t,n){if(t=t?t:"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var a=r(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=H(100*this._a)/100,this._format=n.format||a.format,this._gradientType=n.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=a.ok,this._tc_id=R++}function r(t){var e={r:0,g:0,b:0},n=1,r=!1,o=!1;return"string"==typeof t&&(t=I(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=a(t.r,t.g,t.b),r=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=D(t.s),t.v=D(t.v),e=s(t.h,t.s,t.v),r=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=D(t.s),t.l=D(t.l),e=i(t.h,t.s,t.l),r=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=A(n),{ok:r,format:t.format||o,r:B(255,V(e.r,0)),g:B(255,V(e.g,0)),b:B(255,V(e.b,0)),a:n}}function a(t,e,n){return{r:255*L(t,255),g:255*L(e,255),b:255*L(n,255)}}function o(t,e,n){t=L(t,255),e=L(e,255),n=L(n,255);var r,a,o=V(t,e,n),i=B(t,e,n),l=(o+i)/2;if(o==i)r=a=0;else{var s=o-i;switch(a=l>.5?s/(2-o-i):s/(o+i),o){case t:r=(e-n)/s+(n>e?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:a,l:l}}function i(t,e,n){function r(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var a,o,i;if(t=L(t,360),e=L(e,100),n=L(n,100),0===e)a=o=i=n;else{var l=.5>n?n*(1+e):n+e-n*e,s=2*n-l;a=r(s,l,t+1/3),o=r(s,l,t),i=r(s,l,t-1/3)}return{r:255*a,g:255*o,b:255*i}}function l(t,e,n){t=L(t,255),e=L(e,255),n=L(n,255);var r,a,o=V(t,e,n),i=B(t,e,n),l=o,s=o-i;if(a=0===o?0:s/o,o==i)r=0;else{switch(o){case t:r=(e-n)/s+(n>e?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:a,v:l}}function s(t,e,n){t=6*L(t,360),e=L(e,100),n=L(n,100);var r=q.floor(t),a=t-r,o=n*(1-e),i=n*(1-a*e),l=n*(1-(1-a)*e),s=r%6,u=[n,i,o,o,l,n][s],c=[l,n,n,i,o,o][s],f=[o,o,l,n,n,i][s];return{r:255*u,g:255*c,b:255*f}}function u(t,e,n,r){var a=[E(H(t).toString(16)),E(H(e).toString(16)),E(H(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function c(t,e,n,r){var a=[E(O(r)),E(H(t).toString(16)),E(H(e).toString(16)),E(H(n).toString(16))];return a.join("")}function f(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.s-=n/100,r.s=T(r.s),e(r)}function d(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.s+=n/100,r.s=T(r.s),e(r)}function h(t){return e(t).desaturate(100)}function g(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.l+=n/100,r.l=T(r.l),e(r)}function p(t,n){n=0===n?0:n||10;var r=e(t).toRgb();return r.r=V(0,B(255,r.r-H(255*-(n/100)))),r.g=V(0,B(255,r.g-H(255*-(n/100)))),r.b=V(0,B(255,r.b-H(255*-(n/100)))),e(r)}function m(t,n){n=0===n?0:n||10;var r=e(t).toHsl();return r.l-=n/100,r.l=T(r.l),e(r)}function v(t,n){var r=e(t).toHsl(),a=(H(r.h)+n)%360;return r.h=0>a?360+a:a,e(r)}function y(t){var n=e(t).toHsl();return n.h=(n.h+180)%360,e(n)}function x(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+120)%360,s:n.s,l:n.l}),e({h:(r+240)%360,s:n.s,l:n.l})]}function b(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+90)%360,s:n.s,l:n.l}),e({h:(r+180)%360,s:n.s,l:n.l}),e({h:(r+270)%360,s:n.s,l:n.l})]}function _(t){var n=e(t).toHsl(),r=n.h;return[e(t),e({h:(r+72)%360,s:n.s,l:n.l}),e({h:(r+216)%360,s:n.s,l:n.l})]}function w(t,n,r){n=n||6,r=r||30;var a=e(t).toHsl(),o=360/r,i=[e(t)];for(a.h=(a.h-(o*n>>1)+720)%360;--n;)a.h=(a.h+o)%360,i.push(e(a));return i}function k(t,n){n=n||6;for(var r=e(t).toHsv(),a=r.h,o=r.s,i=r.v,l=[],s=1/n;n--;)l.push(e({h:a,s:o,v:i})),i=(i+s)%1;return l}function M(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function A(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function L(t,e){S(t)&&(t="100%");var n=C(t);return t=B(e,V(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),q.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return B(1,V(0,t))}function z(t){return parseInt(t,16)}function S(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function C(t){return"string"==typeof t&&-1!=t.indexOf("%")}function E(t){return 1==t.length?"0"+t:""+t}function D(t){return 1>=t&&(t=100*t+"%"),t}function O(t){return Math.round(255*parseFloat(t)).toString(16)}function P(t){return z(t)/255}function I(t){t=t.replace(j,"").replace(F,"").toLowerCase();var e=!1;if(Y[t])t=Y[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=G.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=G.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=G.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=G.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=G.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=G.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=G.hex8.exec(t))?{a:P(n[1]),r:z(n[2]),g:z(n[3]),b:z(n[4]),format:e?"name":"hex8"}:(n=G.hex6.exec(t))?{r:z(n[1]),g:z(n[2]),b:z(n[3]),format:e?"name":"hex"}:(n=G.hex3.exec(t))?{r:z(n[1]+""+n[1]),g:z(n[2]+""+n[2]),b:z(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function N(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var j=/^[\s,#]+/,F=/\s+$/,R=0,q=Math,H=q.round,B=q.min,V=q.max,Z=q.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,a,o,i=this.toRgb();return t=i.r/255,e=i.g/255,n=i.b/255,r=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4),a=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4),o=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(t){return this._a=A(t),this._roundA=H(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),r=H(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),r=H(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return c(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*L(this._r,255))+"%",g:H(100*L(this._g,255))+"%",b:H(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*L(this._r,255))+"%, "+H(100*L(this._g,255))+"%, "+H(100*L(this._b,255))+"%)":"rgba("+H(100*L(this._r,255))+"%, "+H(100*L(this._g,255))+"%, "+H(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:X[u(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+c(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var o=e(t);r=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,a=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return a?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},e.fromRatio=function(t,n){if("object"==typeof t){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]="a"===a?t[a]:D(t[a]));t=r}return e(t,n)},e.equals=function(t,n){return t&&n?e(t).toRgbString()==e(n).toRgbString():!1},e.random=function(){return e.fromRatio({r:Z(),g:Z(),b:Z()})},e.mix=function(t,n,r){r=0===r?0:r||50;var a,o=e(t).toRgb(),i=e(n).toRgb(),l=r/100,s=2*l-1,u=i.a-o.a;a=s*u==-1?s:(s+u)/(1+s*u),a=(a+1)/2;var c=1-a,f={r:i.r*a+o.r*c,g:i.g*a+o.g*c,b:i.b*a+o.b*c,a:i.a*l+o.a*(1-l)};return e(f)},e.readability=function(t,n){var r=e(t),a=e(n);return(Math.max(r.getLuminance(),a.getLuminance())+.05)/(Math.min(r.getLuminance(),a.getLuminance())+.05)},e.isReadable=function(t,n,r){var a,o,i=e.readability(t,n);switch(o=!1,a=N(r),a.level+a.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},e.mostReadable=function(t,n,r){var a,o,i,l,s=null,u=0;r=r||{},o=r.includeFallbackColors,i=r.level,l=r.size;for(var c=0;c<n.length;c++)a=e.readability(t,n[c]),a>u&&(u=a,s=e(n[c]));return e.isReadable(t,s,{level:i,size:l})||!o?s:(r.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],r))};var Y=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=e.hexNames=M(Y),G=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof n&&n.exports?n.exports=e:"function"==typeof t&&t.amd?t(function(){return e}):window.tinycolor=e}()},{}],10:[function(t,e){"use strict";function n(t,e){function n(e,n){return o.Lib.coerce(t,r,s.layoutAttributes,e,n)}var r={};n("opacity"),n("align"),n("bgcolor");var a=n("bordercolor"),i=o.Color.opacity(a);n("borderpad");var l=n("borderwidth"),u=n("showarrow");u&&(n("arrowcolor",i?r.bordercolor:o.Color.defaultLine),n("arrowhead"),n("arrowsize"),n("arrowwidth",2*(i&&l||1)),n("ax"),n("ay"),o.Lib.noneOrAll(t,r,["ax","ay"])),n("text",u?"&nbsp;":"new text"),n("textangle"),o.Lib.coerceFont(n,"font",e.font);for(var c=["x","y"],f=0;2>f;f++){var d=c[f],h={_fullLayout:e},g=o.Axes.coerceRef(t,r,h,d),p=.5;if("paper"!==g){var m=o.Axes.getFromId(h,g);if(p=m.range[0]+p*(m.range[1]-m.range[0]),-1!==["date","category"].indexOf(m.type)&&"string"==typeof t[d]){var v;"date"===m.type?(v=o.Lib.dateTime2ms(t[d]),v!==!1&&(t[d]=v)):(m._categories||[]).length&&(v=m._categories.indexOf(t[d]),-1!==v&&(t[d]=v))}}n(d,p),u||n(d+"anchor")}return o.Lib.noneOrAll(t,r,["x","y"]),r}function r(t){var e=t._fullLayout;e.annotations.forEach(function(e){var n=o.Axes.getFromId(t,e.xref),r=o.Axes.getFromId(t,e.yref);if(n||r){var a=(e._xsize||0)/2,i=e._xshift||0,l=(e._ysize||0)/2,s=e._yshift||0,u=a-i,c=a+i,f=l-s,d=l+s;if(e.showarrow){var h=3*e.arrowsize*e.arrowwidth;u=Math.max(u,h),c=Math.max(c,h),f=Math.max(f,h),d=Math.max(d,h)}n&&n.autorange&&o.Axes.expand(n,[n.l2c(e.x)],{ppadplus:c,ppadminus:u}),r&&r.autorange&&o.Axes.expand(r,[r.l2c(e.y)],{ppadplus:d,ppadminus:f})}})}function a(t,e,n,r,a,o,i,l){var s=n-t,u=a-t,c=i-a,f=r-e,d=o-e,h=l-o,g=s*h-c*f;if(0===g)return null;var p=(u*h-c*d)/g,m=(u*f-s*d)/g;return 0>m||m>1||0>p||p>1?null:{x:t+s*p,y:e+f*p}}var o=t("./plotly"),i=t("d3"),l=t("./isnumeric"),s=e.exports={};s.ARROWPATHS=["",{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}],s.layoutAttributes={_isLinkedToArray:!0,text:{valType:"string"},textangle:{valType:"angle",dflt:0},font:o.Lib.extendFlat({},o.Plots.fontAttrs,{}),opacity:{valType:"number",min:0,max:1,dflt:1},align:{valType:"enumerated",values:["left","center","right"],dflt:"center"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)"},borderpad:{valType:"number",min:0,dflt:1},borderwidth:{valType:"number",min:0,dflt:1},showarrow:{valType:"boolean",dflt:!0},arrowcolor:{valType:"color"},arrowhead:{valType:"integer",min:0,max:s.ARROWPATHS.length,dflt:1},arrowsize:{valType:"number",min:.3,dflt:1},arrowwidth:{valType:"number",min:.1},ax:{valType:"number",dflt:-10},ay:{valType:"number",dflt:-30},xref:{valType:"enumerated",values:["paper",o.Plots.subplotsRegistry.cartesian.idRegex.x.toString()]},x:{valType:"number"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yref:{valType:"enumerated",values:["paper",o.Plots.subplotsRegistry.cartesian.idRegex.y.toString()]},y:{valType:"number"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"},_deprecated:{ref:{valType:"string"}}},s.supplyLayoutDefaults=function(t,e){for(var r=t.annotations||[],a=e.annotations=[],o=0;o<r.length;o++)a.push(n(r[o]||{},e))},s.drawAll=function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)s.draw(t,n);return o.Plots.previousPromises(t)},s.add=function(t){var e=t._fullLayout.annotations.length;o.relayout(t,"annotations["+e+"]","add")},s.draw=function(t,e,r,i){function u(t){return t.call(o.Drawing.font,Y).attr({"text-anchor":{left:"start",right:"end"}[O.align]||"middle"}),o.util.convertToTspans(t,c),t}function c(){function n(t,e){return"auto"===e&&(e=1/3>t?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}X.selectAll("tspan.line").attr({y:0,x:0});var r=q.select(".annotation-math-group"),i=!r.empty(),l=o.Drawing.bBox((i?r:X).node()),u=l.width,c=l.height,f=Math.round(u+2*V),d=Math.round(c+2*V);O._w=u,O._h=c;var g=!1;if(["x","y"].forEach(function(e){var r,a=o.Axes.getFromId(t,O[e+"ref"]||e),i=(j+("x"===e?0:90))*Math.PI/180,l=f*Math.abs(Math.cos(i))+d*Math.abs(Math.sin(i)),s=O[e+"anchor"];if(a){if(!a.autorange&&(O[e]-a.range[0])*(O[e]-a.range[1])>0)return void(g=!0);N[e]=a._offset+a.l2p(O[e]),r=.5}else r=O[e],"y"===e&&(r=1-r),N[e]="x"===e?_.l+_.w*r:_.t+_.h*r;var u=0;u=O.showarrow?O["a"+e]:l*n(r,s),N[e]+=u,O["_"+e+"type"]=a&&a.type,O["_"+e+"size"]=l,O["_"+e+"shift"]=u}),g)return void q.remove();var p,m;O.showarrow&&(p=o.Lib.constrain(N.x-O.ax,1,h.width-1),m=o.Lib.constrain(N.y-O.ay,1,h.height-1)),N.x=o.Lib.constrain(N.x,1,h.width-1),N.y=o.Lib.constrain(N.y,1,h.height-1);var v=V-l.top,y=V-l.left;i?r.select("svg").attr({x:V-1,y:V}):(X.attr({x:y,y:v}),X.selectAll("tspan.line").attr({y:v,x:y})),Z.call(o.Drawing.setRect,H/2,H/2,f-H,d-H),q.call(o.Drawing.setRect,Math.round(N.x-f/2),Math.round(N.y-d/2),f,d);var x="annotations["+e+"]",b=function(n,r){$(t).find('.annotation-arrow-g[data-index="'+e+'"]').remove();var i=N.x+n,l=N.y+r,u=o.Lib.rotationXYMatrix(j,i,l),c=o.Lib.apply2DTransform(u),f=o.Lib.apply2DTransform2(u),d=Z.attr("width")/2,h=Z.attr("height")/2,g=[[i-d,l-h,i-d,l+h],[i-d,l+h,i+d,l+h],[i+d,l+h,i+d,l-h],[i+d,l-h,i-d,l-h]].map(f);if(!g.reduce(function(t,e){return t^!!a(p,m,p+1e6,m+1e6,e[0],e[1],e[2],e[3])},!1)){g.forEach(function(t){var e=a(i,l,p,m,t[0],t[1],t[2],t[3]);e&&(i=e.x,l=e.y)});var v=O.arrowwidth,y=O.arrowcolor,b=F.append("g").style({opacity:o.Color.opacity(y)}).classed("annotation-arrow-g",!0).attr("data-index",String(e)),w=b.append("path").attr("d","M"+i+","+l+"L"+p+","+m).style("stroke-width",v+"px").call(o.Color.stroke,o.Color.rgb(y));s.arrowhead(w,O.arrowhead,"end",O.arrowsize);var k=b.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(e),d:"M3,3H-3V-3H3ZM0,0L"+(i-p)+","+(l-m),transform:"translate("+p+","+m+")"}).style("stroke-width",v+6+"px").call(o.Color.stroke,"rgba(0,0,0,0)").call(o.Color.fill,"rgba(0,0,0,0)");if(t._context.editable){var M,A,L;o.Fx.dragElement({element:k.node(),prepFn:function(){A=Number(q.attr("x")),L=Number(q.attr("y")),M={},P&&P.autorange&&(M[P._name+".autorange"]=!0),I&&I.autorange&&(M[I._name+".autorange"]=!0)},moveFn:function(t,e){b.attr("transform","translate("+t+","+e+")");var n=c(A,L),r=n[0]+t,a=n[1]+e;q.call(o.Drawing.setPosition,r,a),M[x+".x"]=P?O.x+t/P._m:(p+t-_.l)/_.w,M[x+".y"]=I?O.y+e/I._m:1-(m+e-_.t)/_.h,R.attr({transform:"rotate("+j+","+r+","+a+")"})},doneFn:function(e){if(e){o.relayout(t,M);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}};O.showarrow&&b(0,0);var w=o.Lib.rotationXYMatrix(j,N.x,N.y),k=o.Lib.apply2DTransform(w);if(t._context.editable){var M,A,L;o.Fx.dragElement({element:q.node(),prepFn:function(){M=Number(q.attr("x")),A=Number(q.attr("y")),L={}},moveFn:function(t,e){q.call(o.Drawing.setPosition,M+t,A+e);var n="pointer";if(O.showarrow)L[x+".ax"]=O.ax+t,L[x+".ay"]=O.ay+e,b(t,e);else{if(P)L[x+".x"]=O.x+t/P._m;else{var r=O._xsize/_.w,a=O.x+O._xshift/_.w-r/2;L[x+".x"]=o.Fx.dragAlign(a+t/_.w,r,0,1,O.xanchor)}if(I)L[x+".y"]=O.y+e/I._m;else{var i=O._ysize/_.h,l=O.y-O._yshift/_.h-i/2;L[x+".y"]=o.Fx.dragAlign(l-e/_.h,i,0,1,O.yanchor)}P&&I||(n=o.Fx.dragCursors(P?.5:L[x+".x"],I?.5:L[x+".y"],O.xanchor,O.yanchor))}var s=k(M,A),u=s[0]+t,c=s[1]+e;q.call(o.Drawing.setPosition,u,c),R.attr({transform:"rotate("+j+","+u+","+c+")"}),o.Fx.setCursor(q,n)},doneFn:function(e){if(o.Fx.setCursor(q),e){o.relayout(t,L);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}var f,d=t.layout,h=t._fullLayout;if(!l(e)||-1===e){if(!e&&Array.isArray(i))return d.annotations=i,s.supplyLayoutDefaults(d,h),void s.drawAll(t);if("remove"===i)return delete d.annotations,h.annotations=[],void s.drawAll(t);if(r&&"add"!==i){for(f=0;f<h.annotations.length;f++)s.draw(t,f,r,i);return}e=h.annotations.length,h.annotations.push({})}if(!r&&i){if("remove"===i){for(h._infolayer.selectAll('.annotation[data-index="'+e+'"]').remove(),h.annotations.splice(e,1),d.annotations.splice(e,1),f=e;f<h.annotations.length;f++)h._infolayer.selectAll('.annotation[data-index="'+(f+1)+'"]').attr("data-index",String(f)),s.draw(t,f);return}if("add"===i||o.Lib.isPlainObject(i)){h.annotations.splice(e,0,{});var g=o.Lib.isPlainObject(i)?o.Lib.extendFlat({},i):{text:"New text"};for(d.annotations?d.annotations.splice(e,0,g):d.annotations=[g],f=h.annotations.length-1;f>e;f--)h._infolayer.selectAll('.annotation[data-index="'+(f-1)+'"]').attr("data-index",String(f)),s.draw(t,f)}}h._infolayer.selectAll('.annotation[data-index="'+e+'"]').remove();var p=d.annotations[e],m=h.annotations[e];if(p){var v={xref:p.xref,yref:p.yref},y={};"string"==typeof r&&r?y[r]=i:o.Lib.isPlainObject(r)&&(y=r);var x=Object.keys(y);for(f=0;f<x.length;f++){var b=x[f];o.Lib.nestedProperty(p,b).set(y[b])}var _=h._size,w=["x","y"];for(f=0;2>f;f++){var k=w[f];if(void 0===y[k]&&void 0!==p[k]){var M=o.Axes.getFromId(t,o.Axes.coerceRef(v,{},t,k)),A=o.Axes.getFromId(t,o.Axes.coerceRef(p,{},t,k)),L=p[k],T=m["_"+k+"type"];if(void 0!==y[k+"ref"]){var z="auto"===p[k+"anchor"],S="x"===k?_.w:_.h,C=(m["_"+k+"size"]||0)/(2*S);if(M&&A)L=(L-M.range[0])/(M.range[1]-M.range[0]),L=A.range[0]+L*(A.range[1]-A.range[0]);else if(M){if(L=(L-M.range[0])/(M.range[1]-M.range[0]),L=M.domain[0]+L*(M.domain[1]-M.domain[0]),z){var E=L+C,D=L-C;2/3>L+D?L=D:L+E>4/3&&(L=E)}}else A&&(z&&(1/3>L?L+=C:L>2/3&&(L-=C)),L=(L-A.domain[0])/(A.domain[1]-A.domain[0]),L=A.range[0]+L*(A.range[1]-A.range[0]))}A&&A===M&&T&&("log"===T&&"log"!==A.type?L=Math.pow(10,L):"log"!==T&&"log"===A.type&&(L=L>0?Math.log(L)/Math.LN10:void 0)),p[k]=L}}var O=n(p,h);h.annotations[e]=O;var P=o.Axes.getFromId(t,O.xref),I=o.Axes.getFromId(t,O.yref),N={x:0,y:0},j=+O.textangle||0,F=h._infolayer.append("g").classed("annotation",!0).attr("data-index",String(e)).style("opacity",O.opacity).on("click",function(){t._dragging=!1,$(t).trigger("plotly_clickannotation",{index:e,annotation:p,fullAnnotation:O})}),R=F.append("g").classed("annotation-text-g",!0).attr("data-index",String(e)),q=R.append("svg").call(o.Drawing.setPosition,0,0),H=O.borderwidth,B=O.borderpad,V=H+B,Z=q.append("rect").attr("class","bg").style("stroke-width",H+"px").call(o.Color.stroke,O.bordercolor).call(o.Color.fill,O.bgcolor),Y=O.font,X=q.append("text").classed("annotation",!0).attr("data-unformatted",O.text).text(O.text);t._context.editable?X.call(o.util.makeEditable,q).call(u).on("edit",function(n){O.text=n,this.attr({"data-unformatted":O.text}),this.call(u);var r={};r["annotations["+e+"].text"]=O.text,P&&P.autorange&&(r[P._name+".autorange"]=!0),I&&I.autorange&&(r[I._name+".autorange"]=!0),o.relayout(t,r)}):X.call(u),R.attr({transform:"rotate("+j+","+N.x+","+N.y+")"}).call(o.Drawing.setPosition,N.x,N.y)}},s.arrowhead=function(t,e,n,r){l(r)||(r=1);var a=t.node(),u=s.ARROWPATHS[e||0];if(u){"string"==typeof n&&n||(n="end");var c,f,d,h,g=(o.Drawing.getPx(t,"stroke-width")||1)*r,p=t.style("stroke")||o.Color.defaultLine,m=t.style("stroke-opacity")||1,v=n.indexOf("start")>=0,y=n.indexOf("end")>=0,x=u.backoff*g;if("line"===a.nodeName){if(c={x:+t.attr("x1"),y:+t.attr("y1")},f={x:+t.attr("x2"),y:+t.attr("y2")},d=Math.atan2(c.y-f.y,c.x-f.x),h=d+Math.PI,x){var b=x*Math.cos(d),_=x*Math.sin(d);v&&(c.x-=b,c.y-=_,t.attr({x1:c.x,y1:c.y})),y&&(f.x+=b,f.y+=_,t.attr({x2:f.x,y2:f.y}))}}else if("path"===a.nodeName){var w=a.getTotalLength(),k="";if(v){var M=a.getPointAtLength(0),A=a.getPointAtLength(.1);d=Math.atan2(M.y-A.y,M.x-A.x),c=a.getPointAtLength(Math.min(x,w)),x&&(k="0px,"+x+"px,")}if(y){var L=a.getPointAtLength(w),T=a.getPointAtLength(w-.1);if(h=Math.atan2(L.y-T.y,L.x-T.x),f=a.getPointAtLength(Math.max(0,w-x)),x){var z=k?2*x:x;k+=w-z+"px,"+w+"px"}}else k&&(k+=w+"px");k&&t.style("stroke-dasharray",k)}var S=function(n,r){e>5&&(r=0),i.select(a.parentElement).append("path").attr({class:t.attr("class"),d:u.path,transform:"translate("+n.x+","+n.y+")rotate("+180*r/Math.PI+")scale("+g+")"}).style({fill:p,opacity:m,"stroke-width":0})};v&&S(c,d),y&&S(f,h)}},s.calcAutorange=function(t){var e=t._fullLayout,n=e.annotations;if(n.length&&t._fullData.length){var a={};n.forEach(function(t){a[t.xref]=!0,a[t.yref]=!0});var i=o.Axes.list(t).filter(function(t){return t.autorange&&a[t._id]});if(i.length)return o.Lib.syncOrAsync([s.drawAll,r],t)}}},{"./isnumeric":21,"./plotly":29,d3:6}],11:[function(t,e){"use strict";function n(t,e){if("-"===t.type){var n=t._id,i=n.charAt(0);-1!==n.indexOf("scene")&&(n=i);var l=o(e,n,i);if(l){if("histogram"===l.type&&i==={v:"y",h:"x"}[l.orientation||"v"])return void(t.type="linear");if(a(l,i)){for(var s,u=r(l),c=[],f=0;f<e.length;f++)s=e[f],M.Plots.traceIs(s,"box")&&(s[i+"axis"]||i)===n&&c.push(void 0!==s[u]?s[u][0]:void 0!==s.name?s.name:"text");t.type=T.autoType(c)}else t.type=T.autoType(l[i]||[l[i+"0"]])}}}function r(t){return{v:"x",h:"y"}[t.orientation||"v"]}function a(t,e){var n=r(t);return M.Plots.traceIs(t,"box")&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}function o(t,e,n){for(var r,o=0;o<t.length;o++)if(r=t[o],(r[n+"axis"]||n)===e){if(a(r,n))return r;if((r[n]||[]).length||r[n+"0"])return r}}function i(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(L(t[e]))return!0;return!1}function l(t){var e,n,r=t.tickvals,a=t.ticktext,o=new Array(r.length),i=1.0001*t.range[0]-1e-4*t.range[1],l=1.0001*t.range[1]-1e-4*t.range[0],s=Math.min(i,l),u=Math.max(i,l),c=0;for(Array.isArray(a)||(a=[]),n=0;n<r.length;n++)e=t.d2l(r[n]),e>s&&u>e&&(o[c]=void 0===a[n]?T.tickText(t,e):f(t,e,String(a[n])),c++);return c<r.length&&o.splice(c,r.length-c),o}function s(t,e,n){return e*M.Lib.roundUp(t/e,n)}function u(t){var e,n=t.dtick;if(t._tickexponent=0,L(n)||"string"==typeof n||(n=1),"category"===t.type)t._tickround=null;else if(L(n)||"L"===n.charAt(0))if("date"===t.type)t._tickround=n>=864e5?"d":n>=36e5?"H":n>=6e4?"M":n>=1e3?"S":3-Math.round(Math.log(n/2)/Math.LN10);else{L(n)||(n=Number(n.substr(1))),t._tickround=2-Math.floor(Math.log(n)/Math.LN10+.01),e="log"===t.type?Math.pow(10,Math.max(t.range[0],t.range[1])):Math.max(Math.abs(t.range[0]),Math.abs(t.range[1]));
var r=Math.floor(Math.log(e)/Math.LN10+.01);Math.abs(r)>3&&(t._tickexponent="SI"===t.exponentformat||"B"===t.exponentformat?3*Math.round((r-1)/3):r)}else t._tickround="M"===n.charAt(0)?2===n.length?"m":"y":null}function c(t,e){var n=t.match(X),r=new Date(e);if(n){var a=Math.min(+n[1]||6,6),o=String(e/1e3%1+2.0000005).substr(2,a).replace(/0+$/,"")||"0";return A.time.format(t.replace(X,o))(r)}return A.time.format(t)(r)}function f(t,e,n){var r=t.tickfont||t._td._fullLayout.font;return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function d(t,e,n,r){var a,o=e.x,i=t._tickround,l=new Date(o),s="";n&&t.hoverformat?a=c(t.hoverformat,o):t.tickformat?a=c(t.tickformat,o):(r&&(L(i)?i+=2:i={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[i]),"y"===i?a=q(l):"m"===i?a=H(l):(o!==t._tmin||n||(s="<br>"+q(l)),"d"===i?a=B(l):"H"===i?a=V(l):(o!==t._tmin||n||(s="<br>"+B(l)+", "+q(l)),a=Z(l),"M"!==i&&(a+=Y(l),"S"!==i&&(a+=m(k(o/1e3,1),t,"none",n).substr(1)))))),e.text=a+s}function h(t,e,n,r,a){var o=t.dtick,i=e.x;if(!r||"string"==typeof o&&"L"===o.charAt(0)||(o="L3"),t.tickformat||"string"==typeof o&&"L"===o.charAt(0))e.text=m(Math.pow(10,i),t,a,r);else if(L(o)||"D"===o.charAt(0)&&k(i+.01,1)<.1)if(-1!==["e","E","power"].indexOf(t.exponentformat)){var l=Math.round(i);e.text=0===l?1:1===l?"10":l>1?"10<sup>"+l+"</sup>":"10<sup>\u2212"+-l+"</sup>",e.fontSize*=1.25}else e.text=m(Math.pow(10,i),t,"","fakehover"),"D1"===o&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6);else{if("D"!==o.charAt(0))throw"unrecognized dtick "+String(o);e.text=String(Math.round(Math.pow(10,k(i,1)))),e.fontSize*=.75}if("D1"===t.dtick){var s=String(e.text).charAt(0);("0"===s||"1"===s)&&("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(0>i?.5:.25)))}}function g(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n=""),e.text=String(n)}function p(t,e,n,r,a){"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(a="hide"),e.text=m(e.x,t,a,r)}function m(t,e,n,r){var a=0>t,o=e._tickround,i=n||e.exponentformat||"B",l=e._tickexponent,s=e.tickformat;if(r){var c={exponentformat:e.exponentformat,dtick:"none"===e.showexponent?e.dtick:L(t)?Math.abs(t)||1:1,range:"none"===e.showexponent?e.range:[0,t||1]};u(c),o=(Number(c._tickround)||0)+4,l=c._tickexponent,e.hoverformat&&(s=e.hoverformat)}if(s)return A.format(s)(t).replace(/-/g,"\u2212");var f=Math.pow(10,-o)/2;if("none"===i&&(l=0),t=Math.abs(t),f>t)t="0",a=!1;else{if(t+=f,l&&(t*=Math.pow(10,-l),o+=l),0===o)t=String(Math.floor(t));else if(0>o){t=String(Math.round(t)),t=t.substr(0,t.length+o);for(var d=o;0>d;d++)t+="0"}else{t=String(t);var h=t.indexOf(".")+1;h&&(t=t.substr(0,h+o).replace(/\.?0+$/,""))}t=v(t,e._td._fullLayout.separators)}if(l&&"hide"!==i){var g;g=0>l?"\u2212"+-l:"power"!==i?"+"+l:String(l),"e"===i||("SI"===i||"B"===i)&&(l>12||-15>l)?t+="e"+g:"E"===i?t+="E"+g:"power"===i?t+="&times;10<sup>"+g+"</sup>":"B"===i&&9===l?t+="B":("SI"===i||"B"===i)&&(t+=G[l/3+5])}return a?"\u2212"+t:t}function v(t,e){var n=e.charAt(0),r=e.charAt(1),a=t.split("."),o=a[0],i=a.length>1?n+a[1]:"";if(r&&(a.length>1||o.length>4))for(;U.test(o);)o=o.replace(U,"$1"+r+"$2");return o+i}function y(t,e,n){function r(t){return Object.keys(t).filter(function(t){return e&&t.charAt(0)!==e?!1:t.match(/^[xyz]axis[0-9]*/g)}).sort()}var a=t._fullLayout;if(!a)return[];var o=r(a);if(n)return o;var i=[],l=M.Plots.getSubplotIds(a,"gl3d");return l&&l.forEach(function(t){i=i.concat(r(a[t]).map(function(e){return t+"."+e}))}),o.concat(i)}function x(t,e){var n,r,a=[];for(n=0;n<e.length;n++){var o=[],i=t._fullData[e[n]].xaxis,l=t._fullData[e[n]].yaxis;if(i&&l){for(r=0;r<a.length;r++)(-1!==a[r].x.indexOf(i)||-1!==a[r].y.indexOf(l))&&o.push(r);if(o.length){var s,u=a[o[0]];if(o.length>1)for(r=1;r<o.length;r++)s=a[o[r]],b(u.x,s.x),b(u.y,s.y);b(u.x,[i]),b(u.y,[l])}else a.push({x:[i],y:[l]})}}return a}function b(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function _(t,e,n){var r,a,o=[],i=[],l=t.layout;for(r=0;r<e.length;r++)o.push(T.getFromId(t,e[r]));for(r=0;r<n.length;r++)i.push(T.getFromId(t,n[r]));var s=Object.keys(o[0]),u=["anchor","domain","overlaying","position","side","tickangle"],c=["linear","log"];for(r=0;r<s.length;r++){var f=s[r],d=o[0][f],h=i[0][f],g=!0,p=!1,m=!1;if("_"!==f.charAt(0)&&"function"!=typeof d&&-1===u.indexOf(f)){for(a=1;a<o.length&&g;a++){var v=o[a][f];"type"===f&&-1!==c.indexOf(d)&&-1!==c.indexOf(v)&&d!==v?p=!0:v!==d&&(g=!1)}for(a=1;a<i.length&&g;a++){var y=i[a][f];"type"===f&&-1!==c.indexOf(h)&&-1!==c.indexOf(y)&&h!==y?m=!0:i[a][f]!==h&&(g=!1)}g&&(p&&(l[o[0]._name].type="linear"),m&&(l[i[0]._name].type="linear"),w(l,f,o,i))}}for(r=0;r<t._fullLayout.annotations.length;r++){var x=t._fullLayout.annotations[r];-1!==e.indexOf(x.xref)&&-1!==n.indexOf(x.yref)&&M.Lib.swapAttrs(l.annotations[r],["?"])}}function w(t,e,n,r){var a,o=M.Lib.nestedProperty,i=o(t[n[0]._name],e).get(),l=o(t[r[0]._name],e).get();for("title"===e&&("Click to enter X axis title"===i&&(i="Click to enter Y axis title"),"Click to enter Y axis title"===l&&(l="Click to enter X axis title")),a=0;a<n.length;a++)o(t,n[a]._name+"."+e).set(l);for(a=0;a<r.length;a++)o(t,r[a]._name+"."+e).set(i)}function k(t,e){return(t%e+e)%e}var M=t("./plotly"),A=t("d3"),L=t("./isnumeric"),T=e.exports={};M.Plots.registerSubplot("cartesian",["xaxis","yaxis"],["x","y"],{xaxis:{valType:"axisid",dflt:"x"},yaxis:{valType:"axisid",dflt:"y"}});var z=M.Lib.extendFlat;T.layoutAttributes={title:{valType:"string"},titlefont:z({},M.Plots.fontAttrs,{}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal"},range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},fixedrange:{valType:"boolean",dflt:!1},tickmode:{valType:"enumerated",values:["auto","linear","array"]},nticks:{valType:"integer",min:0,dflt:0},tick0:{valType:"number",dflt:0},dtick:{valType:"any",dflt:1},tickvals:{valType:"data_array"},ticktext:{valType:"data_array"},ticks:{valType:"enumerated",values:["outside","inside",""]},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1},ticklen:{valType:"number",min:0,dflt:5},tickwidth:{valType:"number",min:0,dflt:1},tickcolor:{valType:"color",dflt:M.Color.defaultLine},showticklabels:{valType:"boolean",dflt:!0},tickfont:z({},M.Plots.fontAttrs,{}),tickangle:{valType:"angle",dflt:"auto"},tickprefix:{valType:"string",dflt:""},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},ticksuffix:{valType:"string",dflt:""},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B"},tickformat:{valType:"string",dflt:""},hoverformat:{valType:"string",dflt:""},showline:{valType:"boolean",dflt:!1},linecolor:{valType:"color",dflt:M.Color.defaultLine},linewidth:{valType:"number",min:0,dflt:1},showgrid:{valType:"boolean"},gridcolor:{valType:"color",dflt:M.Color.lightLine},gridwidth:{valType:"number",min:0,dflt:1},zeroline:{valType:"boolean"},zerolinecolor:{valType:"color",dflt:M.Color.defaultLine},zerolinewidth:{valType:"number",dflt:1},anchor:{valType:"enumerated",values:["free",M.Plots.subplotsRegistry.cartesian.idRegex.x.toString(),M.Plots.subplotsRegistry.cartesian.idRegex.y.toString()]},side:{valType:"enumerated",values:["top","bottom","left","right"]},overlaying:{valType:"enumerated",values:["free",M.Plots.subplotsRegistry.cartesian.idRegex.x.toString(),M.Plots.subplotsRegistry.cartesian.idRegex.y.toString()]},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},position:{valType:"number",min:0,max:1,dflt:0},_deprecated:{autotick:{valType:"boolean"}}};var S=/^xaxis[0-9]*$/,C=/^yaxis[0-9]*$/;T.supplyLayoutDefaults=function(t,e,n){function r(t,e){var n=Number(t.substr(5)||1),r=Number(e.substr(5)||1);return n-r}var a,o=Object.keys(t),i=[],l=[],s={},u={};for(a=0;a<o.length;a++){var c=o[a];S.test(c)?i.push(c):C.test(c)&&l.push(c)}for(a=0;a<n.length;a++){var f=n[a],d=T.id2name(f.xaxis),h=T.id2name(f.yaxis);if(d&&-1===i.indexOf(d)&&i.push(d),h&&-1===l.indexOf(h)&&l.push(h),M.Plots.traceIs(f,"2dMap")&&(s[d]=!0,s[h]=!0),M.Plots.traceIs(f,"oriented")){var g="h"===f.orientation?h:d;u[g]=!0}}(e._hasCartesian||!n.length)&&(i.length?i.sort(r):i=["xaxis"],l.length?l.sort(r):l=["yaxis"]),i.concat(l).forEach(function(r){function a(t,e){return M.Lib.coerce(c,f,T.layoutAttributes,t,e)}var o=r.charAt(0),c=t[r]||{},f={},d={letter:o,font:e.font,outerTicks:s[r],showGrid:!u[r],name:r,data:n},h={letter:o,counterAxes:{x:l,y:i}[o].map(T.name2id),overlayableAxes:{x:i,y:l}[o].filter(function(e){return e!==r&&!(t[e]||{}).overlaying}).map(T.name2id)};T.handleAxisDefaults(c,f,a,d),T.handleAxisPositioningDefaults(c,f,a,h),e[r]=f,t[r]||"-"===c.type||(t[r]={type:c.type})}),i.length&&l.length&&M.Lib.coerce(t,e,M.Plots.layoutAttributes,"plot_bgcolor")},T.handleAxisDefaults=function(t,e,r,a){var o=a.letter,i=a.font||{},l="Click to enter "+(a.title||o.toUpperCase()+" axis")+" title";a.name&&(e._name=a.name,e._id=T.name2id(a.name));var s=r("type");"-"===s&&(n(e,a.data),"-"===e.type?e.type="linear":s=t.type=e.type),T.setConvert(e),r("title",l),M.Lib.coerceFont(r,"titlefont",{family:i.family,size:Math.round(1.2*i.size),color:i.color});var u=2===(t.range||[]).length&&L(t.range[0])&&L(t.range[1]),c=r("autorange",!u);c&&r("rangemode");var f=r("range",[-1,"x"===o?6:4]);f[0]===f[1]&&(e.range=[f[0]-1,f[0]+1]),M.Lib.noneOrAll(t.range,e.range,[0,1]),r("fixedrange"),T.handleTickValueDefaults(t,e,r,s),T.handleTickDefaults(t,e,r,s,a);var d=r("showline");d&&(r("linecolor"),r("linewidth")),(d||e.ticks)&&r("mirror");var h=r("showgrid",a.showGrid);h&&(r("gridcolor"),r("gridwidth"));var g=r("zeroline",a.showGrid);return g&&(r("zerolinecolor"),r("zerolinewidth")),e},T.handleTickDefaults=function(t,e,n,r,a){var o=n("ticks",a.outerTicks?"outside":"");o&&(n("ticklen"),n("tickwidth"),n("tickcolor"));var i=n("showticklabels");if(i){M.Lib.coerceFont(n,"tickfont",a.font||{}),n("tickangle");var l=T.getShowAttrDflt(t);if("category"!==r){var s=n("tickformat");a.noHover||n("hoverformat"),s||"date"===r||(n("showexponent",l),n("exponentformat"))}var u=n("tickprefix");u&&n("showtickprefix",l);var c=n("ticksuffix");c&&n("showticksuffix",l)}},T.handleTickValueDefaults=function(t,e,n,r){var a="auto";"array"!==t.tickmode||"log"!==r&&"date"!==r||(t.tickmode="auto"),Array.isArray(t.tickvals)?a="array":t.dtick&&L(t.dtick)&&(a="linear");var o=n("tickmode",a);if("auto"===o)n("nticks");else if("linear"===o)n("tick0"),n("dtick");else{var i=n("tickvals");void 0===i?e.tickmode="auto":n("ticktext")}},T.handleAxisPositioningDefaults=function(t,e,n,r){var a=r.counterAxes||[],o=r.overlayableAxes||[],i=r.letter,l=M.Lib.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:L(t.position)?"free":a[0]||"free"}},"anchor");"free"===l&&n("position"),M.Lib.coerce(t,e,{side:{valType:"enumerated",values:"x"===i?["bottom","top"]:["left","right"],dflt:"x"===i?"bottom":"left"}},"side");var s=!1;if(o.length&&(s=M.Lib.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(o),dflt:!1}},"overlaying")),!s){var u=n("domain");u[0]>u[1]-.01&&(e.domain=[0,1]),M.Lib.noneOrAll(t.domain,e.domain,[0,1])}return e},T.coerceRef=function(t,e,n,r){var a=T.listIds(n,r),o=r+"ref",i={};return i[o]={valType:"enumerated",values:a.concat(["paper"]),dflt:a[0]||"paper"},M.Lib.coerce(t,e,i,o)},T.clearTypes=function(t,e){Array.isArray(e)&&e.length||(e=t._fullData.map(function(t,e){return e})),e.forEach(function(e){var n=t.data[e];delete(T.getFromId(t,n.xaxis)||{}).type,delete(T.getFromId(t,n.yaxis)||{}).type})};var E=/^[xyz][0-9]*$/,D=/^[xyz]axis[0-9]*$/;T.id2name=function(t){if("string"==typeof t&&t.match(E)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},T.name2id=function(t){if(t.match(D)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},T.cleanId=function(t,e){if(t.match(E)&&(!e||t.charAt(0)===e)){var n=t.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),t.charAt(0)+n}},T.cleanName=function(t,e){if(t.match(E)&&(!e||t.charAt(0)===e)){var n=t.substr(5).replace(/^0+/,"");return"1"===n&&(n=""),t.charAt(0)+"axis"+n}},T.counterLetter=function(t){return{x:"y",y:"x"}[t.charAt(0)]},T.autoType=function(t){return T.moreDates(t)?"date":T.category(t)?"category":i(t)?"linear":"-"},T.getShowAttrDflt=function(t){var e=["showexponent","showtickprefix","showticksuffix"],n=e.filter(function(e){return void 0!==t[e]}),r=function(e){return t[e]===t[n[0]]};return n.every(r)||1===n.length?t[n[0]]:void 0},T.moreDates=function(t){for(var e,n=0,r=0,a=Math.max(1,(t.length-1)/1e3),o=0;o<t.length;o+=a)e=t[Math.round(o)],M.Lib.isDateTime(e)&&(n+=1),L(e)&&(r+=1);return n>2*r},T.category=function(t){for(var e,n=Math.max(1,(t.length-1)/1e3),r=0,a=0,o=0;o<t.length;o+=n)e=T.cleanDatum(t[Math.round(o)]),L(e)?r++:"string"==typeof e&&""!==e&&"None"!==e&&a++;return a>2*r},T.cleanDatum=function(t){try{if("object"==typeof t&&null!==t&&t.getTime)return M.Lib.ms2DateTime(t);if("string"!=typeof t&&!L(t))return"";t=t.toString().replace(/['"%,$# ]/g,"")}catch(e){console.log(e,t)}return t},T.BADNUM=void 0,T.setConvert=function(t){function e(e,n){if(e>0)return Math.log(e)/Math.LN10;if(0>=e&&n&&t.range&&2===t.range.length){var r=t.range[0],o=t.range[1];return.5*(r+o-3*a*Math.abs(r-o))}return T.BADNUM}function n(t){return Math.pow(10,t)}function r(t){return L(t)?Number(t):T.BADNUM}var a=10;if(t.c2l="log"===t.type?e:r,t.l2c="log"===t.type?n:r,t.l2d=function(e){return t.c2d(t.l2c(e))},t.setScale=function(){var e,n=t._td._fullLayout._size;if(t._categories||(t._categories=[]),t.overlaying){var r=T.getFromId(t._td,t.overlaying);t.domain=r.domain}for(t.range&&2===t.range.length&&t.range[0]!==t.range[1]||(t.range=[-1,1]),e=0;2>e;e++)L(t.range[e])||(t.range[e]=L(t.range[1-e])?t.range[1-e]*(e?10:.1):e?1:-1),t.range[e]<-(Number.MAX_VALUE/2)?t.range[e]=-(Number.MAX_VALUE/2):t.range[e]>Number.MAX_VALUE/2&&(t.range[e]=Number.MAX_VALUE/2);if("y"===t._id.charAt(0)?(t._offset=n.t+(1-t.domain[1])*n.h,t._length=n.h*(t.domain[1]-t.domain[0]),t._m=t._length/(t.range[0]-t.range[1]),t._b=-t._m*t.range[1]):(t._offset=n.l+t.domain[0]*n.w,t._length=n.w*(t.domain[1]-t.domain[0]),t._m=t._length/(t.range[1]-t.range[0]),t._b=-t._m*t.range[0]),!isFinite(t._m)||!isFinite(t._b))throw M.Lib.notifier("Something went wrong with axis scaling","long"),t._td._replotting=!1,new Error("axis scaling")},t.l2p=function(e){return L(e)?A.round(M.Lib.constrain(t._b+t._m*e,-a*t._length,(1+a)*t._length),2):T.BADNUM},t.p2l=function(e){return(e-t._b)/t._m},t.c2p=function(e,n){return t.l2p(t.c2l(e,n))},t.p2c=function(e){return t.l2c(t.p2l(e))},-1!==["linear","log","-"].indexOf(t.type))t.c2d=r,t.d2c=function(t){return t=T.cleanDatum(t),L(t)?Number(t):T.BADNUM},t.d2l=function(e,n){return"log"===t.type?t.c2l(t.d2c(e),n):t.d2c(e)};else if("date"===t.type){if(t.c2d=function(t){return L(t)?M.Lib.ms2DateTime(t):T.BADNUM},t.d2c=function(t){return L(t)?Number(t):M.Lib.dateTime2ms(t)},t.d2l=t.d2c,t.range&&t.range.length>1)try{var o=t.range.map(M.Lib.dateTime2ms);!L(t.range[0])&&L(o[0])&&(t.range[0]=o[0]),!L(t.range[1])&&L(o[1])&&(t.range[1]=o[1])}catch(e){console.log(e,t.range)}}else"category"===t.type&&(t.c2d=function(e){return t._categories[Math.round(e)]},t.d2c=function(e){-1===t._categories.indexOf(e)&&t._categories.push(e);var n=t._categories.indexOf(e);return-1===n?T.BADNUM:n},t.d2l=t.d2c);t.makeCalcdata=function(e,n){var r,a,o;if(n in e)for(r=e[n],a=new Array(r.length),o=0;o<r.length;o++)a[o]=t.d2c(r[o]);else{var i=n+"0"in e?t.d2c(e[n+"0"]):0,l=e["d"+n]?Number(e["d"+n]):1;for(r=e[{x:"y",y:"x"}[n]],a=new Array(r.length),o=0;o<r.length;o++)a[o]=i+o*l}return a},t._min=[],t._max=[],t._minDtick=null,t._forceTick0=null},T.minDtick=function(t,e,n,r){-1===["log","category"].indexOf(t.type)&&r?null===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},T.doAutoRange=function(t){if(t._length||t.setScale(),t.autorange&&t._min&&t._max&&t._min.length&&t._max.length){var e,n=t._min[0].val,r=t._max[0].val;for(e=1;e<t._min.length&&n===r;e++)n=Math.min(n,t._min[e].val);for(e=1;e<t._max.length&&n===r;e++)r=Math.max(r,t._max[e].val);var a,o,i,l,s,u,c,f=0,d=t.range&&t.range[1]<t.range[0];for("reversed"===t.autorange&&(d=!0,t.autorange=!0),e=0;e<t._min.length;e++)for(o=t._min[e],a=0;a<t._max.length;a++)i=t._max[a],c=i.val-o.val,u=t._length-o.pad-i.pad,c>0&&u>0&&c/u>f&&(l=o,s=i,f=c/u);n===r?t.range=d?[n+1,"normal"!==t.rangemode?0:n-1]:["normal"!==t.rangemode?0:n-1,n+1]:f&&(("linear"===t.type||"-"===t.type)&&("tozero"===t.rangemode&&l.val>=0?l={val:0,pad:0}:"nonnegative"===t.rangemode&&(l.val-f*l.pad<0&&(l={val:0,pad:0}),s.val<0&&(s={val:1,pad:0})),f=(s.val-l.val)/(t._length-l.pad-s.pad)),t.range=[l.val-f*l.pad,s.val+f*s.pad],t.range[0]===t.range[1]&&(t.range=[t.range[0]-1,t.range[0]+1]),d&&t.range.reverse());var h=t._td.layout[t._name];h||(t._td.layout[t._name]=h={}),h!==t&&(h.range=t.range.slice(),h.autorange=t.autorange)}},T.saveRangeInitial=function(t,e){for(var n,r,a,o=M.Axes.list(t,"",!0),i=!1,l=0;l<o.length;l++)n=o[l],r=void 0===n._rangeInitial,a=r||!(n.range[0]===n._rangeInitial[0]&&n.range[1]===n._rangeInitial[1]),(r&&n.autorange===!1||e&&a)&&(n._rangeInitial=n.range.slice(),i=!0);return i};var O=Number.MAX_VALUE/2;T.expand=function(t,e,n){function r(t){if(Array.isArray(t))return function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function a(n){function r(t){return L(t)&&Math.abs(t)<O}if(s=e[n],L(s)){if(f=x(n)+v,d=b(n)+v,g=s-w(n),p=s+_(n),"log"===t.type&&p/10>g&&(g=p/10),u=t.c2l(g),c=t.c2l(p),y&&(u=Math.min(0,u),c=Math.max(0,c)),r(u)){for(h=!0,i=0;i<t._min.length&&h;i++)l=t._min[i],l.val<=u&&l.pad>=d?h=!1:l.val>=u&&l.pad<=d&&(t._min.splice(i,1),i--);h&&t._min.push({val:u,pad:y&&0===u?0:d})}if(r(c)){for(h=!0,i=0;i<t._max.length&&h;i++)l=t._max[i],l.val>=c&&l.pad>=f?h=!1:l.val<=c&&l.pad<=f&&(t._max.splice(i,1),i--);h&&t._max.push({val:c,pad:y&&0===c?0:f})}}}if(t.autorange&&e){t._min||(t._min=[]),t._max||(t._max=[]),n||(n={}),t._m||t.setScale();var o,i,l,s,u,c,f,d,h,g,p,m=e.length,v=n.padded?.05*t._length:0,y=n.tozero&&("linear"===t.type||"-"===t.type),x=r((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),b=r((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),_=r(n.vpadplus||n.vpad),w=r(n.vpadminus||n.vpad);for(o=0;6>o;o++)a(o);for(o=m-1;o>5;o--)a(o)}},T.autoBin=function(t,e,n,r){function a(t){return(1+100*(t-h)/f.dtick)%100<2}var o=M.Lib.aggNums(Math.min,null,t),i=M.Lib.aggNums(Math.max,null,t);if("category"===e.type)return{start:o-.5,end:i+.5,size:1};var l;if(n)l=(i-o)/n;else{var s=M.Lib.distinctVals(t),u=Math.pow(10,Math.floor(Math.log(s.minDiff)/Math.LN10)),c=u*M.Lib.roundUp(s.minDiff/u,[.9,1.9,4.9,9.9],!0);l=Math.max(c,2*M.Lib.stdev(t)/Math.pow(t.length,r?.25:.4))}var f={type:"log"===e.type?"linear":e.type,range:[o,i]};T.autoTicks(f,l);var d,h=T.tickIncrement(T.tickFirst(f),f.dtick,"reverse");if("number"==typeof f.dtick){for(var g=0,p=0,m=0,v=0,y=0;y<t.length;y++)t[y]%1===0?m++:L(t[y])||v++,a(t[y])&&g++,a(t[y]+f.dtick/2)&&p++;var x=t.length-v;if(m===x&&"date"!==e.type)f.dtick<1?h=o-.5*f.dtick:h-=.5;else if(.1*x>p&&(g>.3*x||a(o)||a(i))){var b=f.dtick/2;h+=o>h+b?b:-b}var _=1+Math.floor((i-h)/f.dtick);d=h+_*f.dtick}else for(d=h;i>=d;)d=T.tickIncrement(d,f.dtick);return{start:h,end:d,size:f.dtick}},T.calcTicks=function(t){if("array"===t.tickmode)return l(t);if("auto"===t.tickmode||!t.dtick){var e,n=t.nticks;n||("category"===t.type?(e=t.tickfont?1.2*(t.tickfont.size||12):15,n=t._length/e):(e="y"===t._id.charAt(0)?40:80,n=M.Lib.constrain(t._length/e,4,9)+1)),T.autoTicks(t,Math.abs(t.range[1]-t.range[0])/n),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t._forceTick0)}t.tick0||(t.tick0="date"===t.type?new Date(2e3,0,1).getTime():0),u(t),t._tmin=T.tickFirst(t);var r=t.range[1]<t.range[0],a=[],o=1.0001*t.range[1]-1e-4*t.range[0];"category"===t.type&&(o=r?Math.max(-.5,o):Math.min(t._categories.length-.5,o));for(var i=t._tmin;(r?i>=o:o>=i)&&(a.push(i),!(a.length>1e3));i=T.tickIncrement(i,t.dtick,r));t._tmax=a[a.length-1];for(var s=new Array(a.length),c=0;c<a.length;c++)s[c]=T.tickText(t,a[c]);return s};var P=[2,5,10],I=[1,2,3,6,12],N=[1,2,5,10,15,30],j=[1,2,3,7,14],F=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],R=[-.301,0,.301,.699,1];T.autoTicks=function(t,e){var n;if("date"===t.type)t.tick0=new Date(2e3,0,1).getTime(),e>157788e5?(e/=315576e5,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="M"+12*s(e,n,P)):e>12096e5?(e/=26298e5,t.dtick="M"+s(e,1,I)):e>432e5?(t.dtick=s(e,864e5,j),t.tick0=new Date(2e3,0,2).getTime()):e>18e5?t.dtick=s(e,36e5,I):e>3e4?t.dtick=s(e,6e4,N):e>500?t.dtick=s(e,1e3,N):(n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=s(e,n,P));else if("log"===t.type)if(t.tick0=0,e>.7)t.dtick=Math.ceil(e);else if(Math.abs(t.range[1]-t.range[0])<1){var r=1.5*Math.abs((t.range[1]-t.range[0])/e);e=Math.abs(Math.pow(10,t.range[1])-Math.pow(10,t.range[0]))/r,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="L"+s(e,n,P)}else t.dtick=e>.3?"D2":"D1";else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):(t.tick0=0,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=s(e,n,P));if(0===t.dtick&&(t.dtick=1),!L(t.dtick)&&"string"!=typeof t.dtick){var a=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(a)}},T.tickIncrement=function(t,e,n){var r=n?-1:1;if(L(e))return t+r*e;var a=e.charAt(0),o=r*Number(e.substr(1));if("M"===a){var i=new Date(t);return i.setMonth(i.getMonth()+o)}if("L"===a)return Math.log(Math.pow(10,t)+o)/Math.LN10;if("D"===a){var l="D2"===e?R:F,s=t+.01*r,u=M.Lib.roundUp(k(s,1),l,n);return Math.floor(s)+Math.log(A.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(e)},T.tickFirst=function(t){var e=t.range[1]<t.range[0],n=e?Math.floor:Math.ceil,r=1.0001*t.range[0]-1e-4*t.range[1],a=t.dtick,o=t.tick0;if(L(a)){var i=n((r-o)/a)*a+o;return"category"===t.type&&(i=M.Lib.constrain(i,0,t._categories.length-1)),i}var l,s,u,c=a.charAt(0),f=Number(a.substr(1));if("M"===c){for(l=new Date(o),r=new Date(r),s=12*(r.getFullYear()-l.getFullYear())+r.getMonth()-l.getMonth(),u=l.setMonth(l.getMonth()+(Math.round(s/f)+(e?1:-1))*f);e?u>r:r>u;)u=T.tickIncrement(u,a,e);return u}if("L"===c)return Math.log(n((Math.pow(10,r)-o)/f)*f+o)/Math.LN10;if("D"===c){var d="D2"===a?R:F,h=M.Lib.roundUp(k(r,1),d,e);return Math.floor(r)+Math.log(A.round(Math.pow(10,h),1))/Math.LN10}throw"unrecognized dtick "+String(a)};var q=A.time.format("%Y"),H=A.time.format("%b %Y"),B=A.time.format("%b %-d"),V=A.time.format("%b %-d %Hh"),Z=A.time.format("%H:%M"),Y=A.time.format(":%S"),X=/%(\d?)f/g;T.tickText=function(t,e,n){function r(r){var a;return void 0===r?!0:n?"none"===r:(a={first:t._tmin,last:t._tmax}[r],"all"!==r&&e!==a)}var a,o=f(t,e),i="array"===t.tickmode,l=n||i;if(i&&Array.isArray(t.ticktext)){for(var s=Math.abs(t.range[1]-t.range[0])/1e4,u=0;u<t.ticktext.length&&!(Math.abs(e-t.d2l(t.tickvals[u]))<s);u++);if(u<t.ticktext.length)return o.text=String(t.ticktext[u]),o}return a="none"!==t.exponentformat&&r(t.showexponent)?"hide":"","date"===t.type?d(t,o,n,l):"log"===t.type?h(t,o,n,l,a):"category"===t.type?g(t,o):p(t,o,n,l,a),t.tickprefix&&!r(t.showtickprefix)&&(o.text=t.tickprefix+o.text),t.ticksuffix&&!r(t.showticksuffix)&&(o.text+=t.ticksuffix),o};var G=["f","p","n","&mu;","m","","k","M","G","T"],U=/(\d+)(\d{3})/;T.list=function(t,e,n){return y(t,e,n).map(function(e){return M.Lib.nestedProperty(t._fullLayout,e).get()})},T.listIds=function(t,e){return y(t,e,!0).map(T.name2id)},T.getFromId=function(t,e,n){var r=t._fullLayout;return"x"===n?e=e.replace(/y[0-9]*/,""):"y"===n&&(e=e.replace(/x[0-9]*/,"")),r[T.id2name(e)]},T.getFromTrace=function(t,e,n){var r=t._fullLayout,a=null;if(M.Plots.traceIs(e,"gl3d")){var o=e.scene;"scene"===o.substr(0,5)&&(a=r[o][n+"axis"])}else a=T.getFromId(t,e[n+"axis"]||n);return a},T.getSubplots=function(t,e){var n=t.data,r=[];(n||[]).forEach(function(t){if(t.visible!==!1&&"legendonly"!==t.visible&&M.Plots.traceIs(t,"cartesian")){var e=t.xaxis||"x",n=t.yaxis||"y",a=e+n;-1===r.indexOf(a)&&r.push(a)}}),T.list(t,"",!0).forEach(function(e){function n(t){return-1!==t.indexOf(e._id)}var a=e._id.charAt(0),o="free"===e.anchor?{x:"y",y:"x"}[a]:e.anchor,i=T.getFromId(t,o);if("free"!==e.anchor||!r.some(n)){if(!i)return void console.log("warning: couldnt find anchor "+o+" for axis "+e._id);var l="x"===a?e._id+i._id:i._id+e._id;-1===r.indexOf(l)&&r.push(l)}});var a=/^x([0-9]*)y([0-9]*)$/,o=r.filter(function(t){return t.match(a)}).sort(function(t,e){var n=t.match(a),r=e.match(a);return n[1]===r[1]?+(n[2]||1)-(r[2]||1):+(n[1]||0)-(r[1]||0)});if(e){var i=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$");return o.filter(function(t){return t.match(i)})}return o},T.makeClipPaths=function(t){var e,n,r=t._fullLayout,a=r._defs,o={_offset:0,_length:r.width,_id:""},i={_offset:0,_length:r.height,_id:""},l=T.list(t,"x",!0),s=T.list(t,"y",!0),u=[];for(e=0;e<l.length;e++)for(u.push({x:l[e],y:i}),n=0;n<s.length;n++)0===e&&u.push({x:o,y:s[n]}),u.push({x:l[e],y:s[n]});var c=a.selectAll("g.clips").data([0]);c.enter().append("g").classed("clips",!0);var f=c.selectAll(".axesclip").data(u,function(t){return t.x._id+t.y._id});f.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+r._uid+t.x._id+t.y._id}).append("rect"),f.exit().remove(),f.each(function(t){A.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})},T.doTicks=function(t,e,n){function r(t){var e=s.l2p(t.x);return e>1&&e<s._length-1}function a(t,e){var n=t.selectAll("path."+b).data("inside"===s.ticks?P:y,x);e&&s.ticks?(n.enter().append("path").classed(b,1).classed("ticks",1).classed("crisp",1).call(M.Color.stroke,s.tickcolor).style("stroke-width",E+"px").attr("d",e),n.attr("transform",d),n.exit().remove()):n.remove()}function o(r,a){function o(t,e){t.each(function(t){var n=h(e),r=A.select(this),a=r.select(".text-math-group"),o=d(t)+(L(e)&&0!==+e?" rotate("+e+","+c(t)+","+(f(t)-t.fontSize/2)+")":"");if(a.empty()){var i=r.select("text").attr({transform:o,"text-anchor":n});i.empty()||i.selectAll("tspan.line").attr({x:i.attr("x"),y:i.attr("y")})}else{var l=M.Drawing.bBox(a.node()).width*{end:-.5,start:.5}[n];a.attr("transform",o+(l?"translate("+l+",0)":""))}})}function i(){return T.length&&Promise.all(T)}function l(){if(o(u,s.tickangle),"x"===m&&!L(s.tickangle)&&("log"!==s.type||"D"!==String(s.dtick).charAt(0))){var r=[];for(u.each(function(t){var e=A.select(this),n=e.select(".text-math-group"),a=s.l2p(t.x);n.empty()&&(n=e.select("text"));var o=M.Drawing.bBox(n.node());r.push({top:0,bottom:10,height:10,left:a-o.width/2,right:a+o.width/2+2,width:o.width+2})}),p=0;p<r.length-1;p++)if(M.Lib.bBoxIntersect(r[p],r[p+1])){w=30;break}if(w){var a=Math.abs((y[y.length-1].x-y[0].x)*s._m)/(y.length-1);2.5*_>a&&(w=90),o(u,w)}s._lastangle=w}return n||M.Plots.titles(t,e+"title"),e+" done"}var u=r.selectAll("g."+b).data(y,x);if(!s.showticklabels||!L(a))return u.remove(),void M.Plots.titles(t,e+"title");var c,f,h,g;if("x"===m){var v="bottom"===D?1:-1;c=function(t){return t.dx},g=a+(z+k)*v,f=function(t){return t.dy+g+t.fontSize*("bottom"===D?1:-.5)},h=function(t){return L(t)&&0!==t&&180!==t?0>t*v?"end":"start":"middle"}}else f=function(t){return t.dy+t.fontSize/2},c=function(t){return t.dx+a+(z+k+(90===Math.abs(s.tickangle)?t.fontSize/2:0))*("right"===D?1:-1)},h=function(t){return L(t)&&90===Math.abs(t)?"middle":"right"===D?"start":"end"};var _=0,w=0,T=[];u.enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(e){var n=A.select(this),r=t._promises.length;n.call(M.Drawing.setPosition,c(e),f(e)).call(M.Drawing.font,e.font,e.fontSize,e.fontColor).text(e.text).call(M.util.convertToTspans),r=t._promises[r],r?T.push(t._promises.pop().then(function(){o(n,s.tickangle)})):o(n,s.tickangle)}),u.exit().remove(),u.each(function(t){_=Math.max(_,t.fontSize)}),o(u,s._lastangle||s.tickangle);var S=M.Lib.syncOrAsync([i,l]);return S&&S.then&&t._promises.push(S),S}function i(t,e){return t.visible!==!0||t.xaxis+t.yaxis!==e?!1:M.Plots.traceIs(t,"bar")&&t.orientation==={x:"h",y:"v"}[m]?!0:t.fill&&t.fill.charAt(t.fill.length-1)===m}function l(e,n,a){var o=e.gridlayer,l=e.zerolinelayer,u=e["hidegrid"+m]?[]:P,c="M0,0"+("x"===m?"v":"h")+n._length,f=o.selectAll("path."+_).data(s.showgrid===!1?[]:u,x);f.enter().append("path").classed(_,1).classed("crisp",1).attr("d",c).each(function(t){s.zeroline&&("linear"===s.type||"-"===s.type)&&Math.abs(t.x)<s.dtick/100&&A.select(this).remove()}),f.attr("transform",d).call(M.Color.stroke,s.gridcolor||"#ddd").style("stroke-width",S+"px"),f.exit().remove();for(var h=!1,g=0;g<t._fullData.length;g++)if(i(t._fullData[g],a)){h=!0;break}var p=s.range[0]*s.range[1]<=0&&s.zeroline&&("linear"===s.type||"-"===s.type)&&u.length&&(h||r({x:0})||!s.showline),v=l.selectAll("path."+w).data(p?[{x:0}]:[]);v.enter().append("path").classed(w,1).classed("zl",1).classed("crisp",1).attr("d",c),v.attr("transform",d).call(M.Color.stroke,s.zerolinecolor||M.Color.defaultLine).style("stroke-width",C+"px"),v.exit().remove()}var s,u=t._fullLayout,c=!1;if("object"==typeof e)s=e,e=s._id,c=!0;else if(s=T.getFromId(t,e),"redraw"===e&&u._paper.selectAll("g.subplot").each(function(t){var e=u._plots[t],n=e.x(),r=e.y();e.plot.attr("viewBox","0 0 "+n._length+" "+r._length),e.xaxislayer.selectAll("."+n._id+"tick").remove(),e.yaxislayer.selectAll("."+r._id+"tick").remove(),e.gridlayer.selectAll("path").remove(),e.zerolinelayer.selectAll("path").remove()}),!e||"redraw"===e)return M.Lib.syncOrAsync(T.list(t,"",!0).map(function(n){return function(){if(n._id){var r=T.doTicks(t,n._id);return"redraw"===e&&(n._r=n.range.slice()),r}}}));s.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(s.exponentformat)&&(s.exponentformat="e"),-1===["all","first","last","none"].indexOf(s.showexponent)&&(s.showexponent="all")),s.range=[+s.range[0],+s.range[1]],s.setScale();var f,d,h,g,p,m=e.charAt(0),v=T.counterLetter(e),y=T.calcTicks(s),x=function(t){return t.text+t.x+s.mirror},b=e+"tick",_=e+"grid",w=e+"zl",k=(s.linewidth||1)/2,z=("outside"===s.ticks?s.ticklen:1)+(s.linewidth||0),S=M.Drawing.crispRound(t,s.gridwidth,1),C=M.Drawing.crispRound(t,s.zerolinewidth,S),E=M.Drawing.crispRound(t,s.tickwidth,1);if("x"===m)f=["bottom","top"],d=function(t){return"translate("+s.l2p(t.x)+",0)"},h="M0,",g="v";else{if("y"!==m)return void console.log("unrecognized doTicks axis",e);f=["left","right"],d=function(t){return"translate(0,"+s.l2p(t.x)+")"},h="M",g=",0h"}var D=s.side||f[0],O=[-1,1,D===f[1]?1:-1];"inside"!==s.ticks==("x"===m)&&(O=O.map(function(t){return-t}));var P=y.filter(r);if(c)return a(s._axislayer,h+(s._pos+k*O[2])+g+O[2]*s.ticklen),o(s._axislayer,s._pos);var I=T.getSubplots(t,s).map(function(t){var e=u._plots[t];if(u._hasCartesian){var n=e[m+"axislayer"],r=s._linepositions[t]||[],i=e[v](),c=i._id===s.anchor,d=[!1,!1,!1],y="";if("allticks"===s.mirror?d=[!0,!0,!1]:c&&("ticks"===s.mirror?d=[!0,!0,!1]:d[f.indexOf(D)]=!0),s.mirrors)for(p=0;2>p;p++){var x=s.mirrors[i._id+f[p]];("ticks"===x||"labels"===x)&&(d[p]=!0)}return void 0!==r[2]&&(d[2]=!0),d.forEach(function(t,e){var n=r[e],a=O[e];t&&L(n)&&(y+=h+(n+k*a)+g+a*s.ticklen)}),a(n,y),l(e,i,t),o(n,r[3])}}).filter(function(t){return t&&t.then});return I.length?Promise.all(I):0},T.swap=function(t,e){for(var n=x(t,e),r=0;r<n.length;r++)_(t,n[r].x,n[r].y)}},{"./isnumeric":21,"./plotly":29,d3:6}],12:[function(t,e){"use strict";var n=t("./plotly"),r=t("d3"),a=t("./isnumeric"),o=e.exports={};
n.Plots.register(o,"bar",["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],{});var i=n.Scatter.attributes,l=i.marker,s=l.line;o.attributes={x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,text:i.text,orientation:{valType:"enumerated",values:["v","h"]},marker:{color:l.color,colorscale:l.colorscale,cauto:l.cauto,cmax:l.cmax,cmin:l.cmin,autocolorscale:l.autocolorscale,reversescale:l.reversescale,showscale:l.showscale,line:{color:s.color,colorscale:s.colorscale,cauto:s.cauto,cmax:s.cmax,cmin:s.cmin,width:s.width,autocolorscale:s.autocolorscale,reversescale:s.reversescale}},r:i.r,t:i.t,_composedModules:{histogram:"Histogram"},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_deprecated:{bardir:{valType:"enumerated",values:["v","h"]}}},o.layoutAttributes={barmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"group"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:""},bargap:{valType:"number",min:0,max:1},bargroupgap:{valType:"number",min:0,max:1,dflt:0}},o.supplyDefaults=function(t,e,r,a){function i(r,a){return n.Lib.coerce(t,e,o.attributes,r,a)}if("histogram"===e.type){if(n.Histogram.supplyDefaults(t,e),!e.visible)return}else{var l=n.Scatter.handleXYDefaults(t,e,i);if(!l)return void(e.visible=!1);i("orientation",e.x&&!e.y?"h":"v")}i("marker.color",r),n.Colorscale.hasColorscale(t,"marker")&&n.Colorscale.handleDefaults(t,e,a,i,{prefix:"marker.",cLetter:"c"}),i("marker.line.color",n.Color.defaultLine),n.Colorscale.hasColorscale(t,"marker.line")&&n.Colorscale.handleDefaults(t,e,a,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",0),i("text"),n.ErrorBars&&(n.ErrorBars.supplyDefaults(t,e,n.Color.defaultLine,{axis:"y"}),n.ErrorBars.supplyDefaults(t,e,n.Color.defaultLine,{axis:"x",inherit:"y"}))},o.supplyLayoutDefaults=function(t,e,r){function a(r,a){return n.Lib.coerce(t,e,o.layoutAttributes,r,a)}var i,l,s,u=!1,c=!1,f=!1,d={};for(i=0;i<r.length;i++)if(l=r[i],n.Plots.traceIs(l,"bar")&&(u=!0,"overlay"!==t.barmode&&"stack"!==t.barmode&&(s=l.xaxis+l.yaxis,d[s]&&(f=!0),d[s]=!0),l.visible&&"histogram"===l.type)){var h=n.Axes.getFromId({_fullLayout:e},l["v"===l.orientation?"xaxis":"yaxis"]);"category"!==h.type&&(c=!0)}if(u){var g=a("barmode");"overlay"!==g&&a("barnorm"),a("bargap",c&&!f?0:.2),a("bargroupgap")}},o.colorbar=n.Scatter.colorbar,o.calc=function(t,e){if("histogram"===e.type)return n.Histogram.calc(t,e);var r,o,i,l=n.Axes.getFromId(t,e.xaxis||"x"),s=n.Axes.getFromId(t,e.yaxis||"y"),u=e.orientation||(e.x&&!e.y?"h":"v");"h"===u?(o=l.makeCalcdata(e,"x"),r=s.makeCalcdata(e,"y")):(o=s.makeCalcdata(e,"y"),r=l.makeCalcdata(e,"x"));var c=Math.min(r.length,o.length),f=[];for(i=0;c>i;i++)a(r[i])&&a(o[i])&&f.push({p:r[i],s:o[i],b:0});return n.Colorscale.hasColorscale(e,"marker")&&n.Colorscale.calc(e,e.marker.color,"marker","c"),n.Colorscale.hasColorscale(e,"marker.line")&&n.Colorscale.calc(e,e.marker.line.color,"marker.line","c"),f},o.setPositions=function(t,e){var r,o,i=t._fullLayout,l=e.x(),s=e.y();["v","h"].forEach(function(u){function c(e){function r(t){t[d]=t.p+h}var a=[];e.forEach(function(e){t.calcdata[e].forEach(function(t){a.push(t.p)})});var o=n.Lib.distinctVals(a),l=o.vals,s=o.minDiff,u=!1,c=[];"group"===i.barmode&&e.forEach(function(e){u||(t.calcdata[e].forEach(function(t){u||c.forEach(function(e){Math.abs(t.p-e)<s&&(u=!0)})}),u||t.calcdata[e].forEach(function(t){c.push(t.p)}))}),n.Axes.minDtick(g,s,l[0],u),n.Axes.expand(g,l,{vpad:s/2}),s*=1-i.bargap,u&&(s/=f.length);for(var h,p=0;p<e.length;p++){var m=t.calcdata[e[p]][0].t;m.barwidth=s*(1-i.bargroupgap),m.poffset=((u?(2*p+1-e.length)*s:0)-m.barwidth)/2,m.dbar=o.minDiff,h=m.poffset+m.barwidth/2,t.calcdata[e[p]].forEach(r)}}var f=[],d={v:"x",h:"y"}[u],h={v:"y",h:"x"}[u],g=e[d](),p=e[h]();if(t._fullData.forEach(function(t,e){t.visible===!0&&n.Plots.traceIs(t,"bar")&&t.orientation===u&&t.xaxis===l._id&&t.yaxis===s._id&&f.push(e)}),f.length){"overlay"===i.barmode?f.forEach(function(t){c([t])}):c(f);var m="stack"===i.barmode,v=i.barnorm;if(m||v){var y,x,b,_=p.l2c(p.c2l(0)),w=_,k={},M=t.calcdata[f[0]][0].t.barwidth/100,A=0,L=!0;for(r=0;r<f.length;r++)for(x=t.calcdata[f[r]],o=0;o<x.length;o++){A=Math.round(x[o].p/M);var T=k[A]||0;m&&(x[o].b=T),y=x[o].b+x[o].s,k[A]=T+x[o].s,m&&(x[o][h]=y,!v&&a(p.c2l(y))&&(_=Math.max(_,y),w=Math.min(w,y)))}if(v){L=!1;var z="fraction"===v?1:100,S=z/1e9;for(w=0,_=m?z:0,r=0;r<f.length;r++)for(x=t.calcdata[f[r]],o=0;o<x.length;o++)b=z/k[Math.round(x[o].p/M)],x[o].b*=b,x[o].s*=b,y=x[o].b+x[o].s,x[o][h]=y,a(p.c2l(y))&&(w-S>y&&(L=!0,w=y),y>_+S&&(L=!0,_=y))}n.Axes.expand(p,[w,_],{tozero:!0,padded:L})}else{var C=function(t){return t[h]=t.s,t.s};for(r=0;r<f.length;r++)n.Axes.expand(p,t.calcdata[f[r]].map(C),{tozero:!0,padded:!0})}}})},o.arraysToCalcdata=function(t){var e=t[0].trace,r=e.marker,a=r.line;n.Lib.mergeArray(e.text,t,"tx"),n.Lib.mergeArray(r.opacity,t,"mo"),n.Lib.mergeArray(r.color,t,"mc"),n.Lib.mergeArray(a.color,t,"mlc"),n.Lib.mergeArray(a.width,t,"mlw")},o.plot=function(t,e,i){var l=e.x(),s=e.y(),u=t._fullLayout,c=e.plot.select(".barlayer").selectAll("g.trace.bars").data(i).enter().append("g").attr("class","trace bars");c.append("g").attr("class","points").each(function(e){var i=e[0].t,c=e[0].trace;o.arraysToCalcdata(e),r.select(this).selectAll("path").data(n.Lib.identity).enter().append("path").each(function(e){function o(t){return 0===u.bargap&&0===u.bargroupgap?r.round(Math.round(t)-v,2):t}function f(t,e){return Math.abs(t-e)>=2?o(t):t>e?Math.ceil(t):Math.floor(t)}var d,h,g,p;if("h"===c.orientation?(g=s.c2p(i.poffset+e.p,!0),p=s.c2p(i.poffset+e.p+i.barwidth,!0),d=l.c2p(e.b,!0),h=l.c2p(e.s+e.b,!0)):(d=l.c2p(i.poffset+e.p,!0),h=l.c2p(i.poffset+e.p+i.barwidth,!0),p=s.c2p(e.s+e.b,!0),g=s.c2p(e.b,!0)),!(a(d)&&a(h)&&a(g)&&a(p)&&d!==h&&g!==p))return void r.select(this).remove();var m=(e.mlw+1||c.marker.line.width+1||(e.trace?e.trace.marker.line.width:0)+1)-1,v=r.round(m/2%1,2);if(!t._context.staticPlot){var y=n.Color.opacity(e.mc||c.marker.color),x=1>y||m>.01?o:f;d=x(d,h),h=x(h,d),g=x(g,p),p=x(p,g)}r.select(this).attr("d","M"+d+","+g+"V"+p+"H"+h+"V"+g+"Z")})})},o.style=function(t){var e=r.select(t).selectAll("g.trace.bars"),a=e.size(),o=t._fullLayout;e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===o.barmode&&a>1||0===o.bargap&&0===o.bargroupgap&&!t[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),e.selectAll("g.points").each(function(t){var e=t[0].trace,a=e.marker,o=a.line,i=(e._input||{}).marker||{},l=n.Drawing.tryColorscale(a,i,""),s=n.Drawing.tryColorscale(a,i,"line.");r.select(this).selectAll("path").each(function(t){var e,i,u=(t.mlw+1||o.width+1)-1,c=r.select(this);e="mc"in t?t.mcc=l(t.mc):Array.isArray(a.color)?n.Color.defaultLine:a.color,c.style("stroke-width",u+"px").call(n.Color.fill,e),u&&(i="mlc"in t?t.mlcc=s(t.mlc):Array.isArray(o.color)?n.Color.defaultLine:o.color,c.call(n.Color.stroke,i))})})},o.hoverPoints=function(t,e,r,a){var o,i=t.cd,l=i[0].trace,s=i[0].t,u=t.xa,c=t.ya,f="closest"===a?s.barwidth/2:s.dbar*(1-u._td._fullLayout.bargap)/2;o="closest"!==a?function(t){return t.p}:"h"===l.orientation?function(t){return t.y}:function(t){return t.x};var d,h;"h"===l.orientation?(d=function(t){return n.Fx.inbox(t.b-e,t.x-e)+(t.x-e)/(t.x-t.b)},h=function(t){var e=o(t)-r;return n.Fx.inbox(e-f,e+f)}):(h=function(t){return n.Fx.inbox(t.b-r,t.y-r)+(t.y-r)/(t.y-t.b)},d=function(t){var r=o(t)-e;return n.Fx.inbox(r-f,r+f)});var g=n.Fx.getDistanceFunction(a,d,h);if(n.Fx.getClosest(i,g,t),t.index!==!1){var p=i[t.index],m=p.mcc||l.marker.color,v=p.mlcc||l.marker.line.color,y=p.mlw||l.marker.line.width;return n.Color.opacity(m)?t.color=m:n.Color.opacity(v)&&y&&(t.color=v),"h"===l.orientation?(t.x0=t.x1=u.c2p(p.x,!0),t.xLabelVal=p.s,t.y0=c.c2p(o(p)-f,!0),t.y1=c.c2p(o(p)+f,!0),t.yLabelVal=p.p):(t.y0=t.y1=c.c2p(p.y,!0),t.yLabelVal=p.s,t.x0=u.c2p(o(p)-f,!0),t.x1=u.c2p(o(p)+f,!0),t.xLabelVal=p.p),p.tx&&(t.text=p.tx),n.ErrorBars&&n.ErrorBars.hoverInfo(p,l,t),[t]}}},{"./isnumeric":21,"./plotly":29,d3:6}],13:[function(t,e){"use strict";function n(t){if(a(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===r.length;if(!o&&3!==r.length)return t;for(var i=0;i<r.length;i++){if(!r[i].length)return t;if(r[i]=Number(r[i]),!(r[i]>=0))return t;if(3===i)r[i]>1&&(r[i]=1);else if(r[i]>=1)return t}var l=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+l+", "+r[3]+")":"rgb("+l+")"}var r=t("tinycolor2"),a=t("./isnumeric"),o=e.exports={};o.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],o.defaultLine="#444",o.lightLine="#eee",o.background="#fff",o.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},o.rgb=function(t){return o.tinyRGB(r(t))},o.opacity=function(t){return t?r(t).getAlpha():0},o.addOpacity=function(t,e){var n=r(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+e+")"},o.combine=function(t,e){var n=r(t).toRgb();if(1===n.a)return r(t).toRgbString();var a=r(e||o.background).toRgb(),i=1===a.a?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a},l={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return r(l).toRgbString()},o.stroke=function(t,e){var n=r(e);t.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(t,e){var n=r(e);t.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(t){if(t&&"object"==typeof t){var e,r,a,i,l=Object.keys(t);for(e=0;e<l.length;e++)if(a=l[e],i=t[a],"color"===a.substr(a.length-5))if(Array.isArray(i))for(r=0;r<i.length;r++)i[r]=n(i[r]);else t[a]=n(i);else if("colorscale"===a.substr(a.length-10)&&Array.isArray(i))for(r=0;r<i.length;r++)Array.isArray(i[r])&&(i[r][1]=n(i[r][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(r=0;r<i.length;r++)o.clean(i[r])}else i&&"object"==typeof i&&o.clean(i)}}},{"./isnumeric":21,tinycolor2:9}],14:[function(t,e){"use strict";var n=t("./plotly"),r=t("d3"),a=t("./isnumeric"),o=e.exports=function(t,e){function a(){function o(t,e){return n.Lib.coerce(I,N,n.Axes.layoutAttributes,t,e)}function l(){if(-1!==["top","bottom"].indexOf(i.titleside)){var e=B.select(".cbtitle"),a=e.select("text"),o=[-i.outlinewidth/2,i.outlinewidth/2],l=e.select(".h"+N._id+"title-math-group").node(),s=15.6;if(a.node()&&(s=1.3*parseInt(a.style("font-size"),10)),l?(Z=n.Drawing.bBox(l).height,Z>s&&(o[1]-=(Z-s)/2)):a.node()&&!a.classed("js-placeholder")&&(Z=n.Drawing.bBox(e.node()).height),Z){if(Z+=5,"top"===i.titleside)N.domain[1]-=Z/u._size.h,o[1]*=-1;else{N.domain[0]+=Z/u._size.h;var c=Math.max(1,a.selectAll("tspan.line").size());o[1]+=(1-c)*s}e.attr("transform","translate("+o+")"),N.setScale()}}B.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(u._size.h*(1-N.domain[1]))+")");var m=B.select(".cbfills").selectAll("rect.cbfill").data(h);m.enter().append("rect").classed("cbfill",!0).style("stroke","none"),m.exit().remove(),m.each(function(t,e){var n=[0===e?f[0]:(h[e]+h[e-1])/2,e===h.length-1?f[1]:(h[e]+h[e+1])/2].map(N.c2p).map(Math.round);e!==h.length-1&&(n[1]+=n[1]>n[0]?1:-1),r.select(this).attr({x:C,width:Math.max(k,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2)}).style("fill",p(t))});var v=B.select(".cblines").selectAll("path.cbline").data(i.line.color&&i.line.width?d:[]);return v.enter().append("path").classed("cbline",!0),v.exit().remove(),v.each(function(t){r.select(this).attr("d","M"+C+","+(Math.round(N.c2p(t))+i.line.width/2%1)+"h"+k).call(n.Drawing.lineGroupStyle,i.line.width,g(t),i.line.dash)}),N._axislayer.selectAll("g."+N._id+"tick,path").remove(),N._pos=C+k+(i.outlinewidth||0)/2-("outside"===i.ticks?1:0),N.side="right",n.Axes.doTicks(t,N)}function s(){var r=k+i.outlinewidth/2+n.Drawing.bBox(N._axislayer.node()).width;if(b=V.select("text"),b.node()&&!b.classed("js-placeholder")){var a,o=V.select(".h"+N._id+"title-math-group").node();a=o&&-1!==["top","bottom"].indexOf(i.titleside)?n.Drawing.bBox(o).width:n.Drawing.bBox(V.node()).right-C-u._size.l,r=Math.max(r,a)}var l=2*i.xpad+r+i.borderwidth+i.outlinewidth/2,s=O-P;B.select(".cbbg").attr({x:C-i.xpad-(i.borderwidth+i.outlinewidth)/2,y:P-z,width:Math.max(l,2),height:Math.max(s+2*z,2)}).call(n.Color.fill,i.bgcolor).call(n.Color.stroke,i.bordercolor).style({"stroke-width":i.borderwidth}),B.selectAll(".cboutline").attr({x:C,y:P+i.ypad+("top"===i.titleside?Z:0),width:Math.max(k,2),height:Math.max(s-2*i.ypad-Z,2)}).call(n.Color.stroke,i.outlinecolor).style({fill:"None","stroke-width":i.outlinewidth});var c=({center:.5,right:1}[i.xanchor]||0)*l;B.attr("transform","translate("+(u._size.l-c)+","+u._size.t+")"),n.Plots.autoMargin(t,e,{x:i.x,y:i.y,l:l*({right:1,center:.5}[i.xanchor]||0),r:l*({left:1,center:.5}[i.xanchor]||0),t:s*({bottom:1,middle:.5}[i.yanchor]||0),b:s*({top:1,middle:.5}[i.yanchor]||0)})}var u=t._fullLayout;if("function"!=typeof i.fillcolor&&"function"!=typeof i.line.color)return void u._infolayer.selectAll("g."+e).remove();var c,f=r.extent(("function"==typeof i.fillcolor?i.fillcolor:i.line.color).domain()),d=[],h=[],g="function"==typeof i.line.color?i.line.color:function(){return i.line.color},p="function"==typeof i.fillcolor?i.fillcolor:function(){return i.fillcolor},m=i.levels.end+i.levels.size/100,v=i.levels.size,y=1.001*f[0]-.001*f[1],x=1.001*f[1]-.001*f[0];for(c=i.levels.start;0>(c-m)*v;c+=v)c>y&&x>c&&d.push(c);if("function"==typeof i.fillcolor)if(i.filllevels)for(m=i.filllevels.end+i.filllevels.size/100,v=i.filllevels.size,c=i.filllevels.start;0>(c-m)*v;c+=v)c>f[0]&&c<f[1]&&h.push(c);else h=d.map(function(t){return t-i.levels.size/2}),h.push(h[h.length-1]+i.levels.size);else i.fillcolor&&"string"==typeof i.fillcolor&&(h=[0]);i.levels.size<0&&(d.reverse(),h.reverse());var b,_=u.height-u.margin.t-u.margin.b,w=u.width-u.margin.l-u.margin.r,k=Math.round(i.thickness*("fraction"===i.thicknessmode?w:1)),M=k/u._size.w,A=Math.round(i.len*("fraction"===i.lenmode?_:1)),L=A/u._size.h,T=i.xpad/u._size.w,z=(i.borderwidth+i.outlinewidth)/2,S=i.ypad/u._size.h,C=Math.round(i.x*u._size.w+i.xpad),E=i.x-M*({middle:.5,right:1}[i.xanchor]||0),D=i.y+L*(({top:-.5,bottom:.5}[i.yanchor]||0)-.5),O=Math.round(u._size.h*(1-D)),P=O-A,I={type:"linear",range:f,tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,exponentformat:i.exponentformat,showexponent:i.showexponent,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,title:i.title,titlefont:i.titlefont,anchor:"free",position:1},N={},j={letter:"y",font:u.font,noHover:!0};if(n.Axes.handleAxisDefaults(I,N,o,j),n.Axes.handleAxisPositioningDefaults(I,N,o,j),N._id="y"+e,N._td=t,N.position=i.x+T+M,a.axis=N,-1!==["top","bottom"].indexOf(i.titleside)&&(N.titleside=i.titleside,N.titlex=i.x+T,N.titley=D+("top"===i.titleside?L-S:S)),i.line.color&&"auto"===i.tickmode){N.tickmode="linear",N.tick0=i.levels.start;var F=i.levels.size,R=n.Lib.constrain((O-P)/50,4,15)+1,q=(f[1]-f[0])/((i.nticks||R)*F);if(q>1){var H=Math.pow(10,Math.floor(Math.log(q)/Math.LN10));F*=H*n.Lib.roundUp(q/H,[2,5,10]),(Math.abs(i.levels.start)/i.levels.size+1e-6)%1<2e-6&&(N.tick0=0)}N.dtick=F}N.domain=[D+S,D+L-S],N.setScale();var B=u._infolayer.selectAll("g."+e).data([0]);B.enter().append("g").classed(e,!0).each(function(){var t=r.select(this);t.append("rect").classed("cbbg",!0),t.append("g").classed("cbfills",!0),t.append("g").classed("cblines",!0),t.append("g").classed("cbaxis",!0).classed("crisp",!0),t.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),t.append("rect").classed("cboutline",!0)}),B.attr("transform","translate("+Math.round(u._size.l)+","+Math.round(u._size.t)+")");var V=B.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(u._size.l)+",-"+Math.round(u._size.t)+")");N._axislayer=B.select(".cbaxis");var Z=0;-1!==["top","bottom"].indexOf(i.titleside)&&n.Plots.titles(t,N._id+"title");var Y=n.Lib.syncOrAsync([n.Plots.previousPromises,l,n.Plots.previousPromises,s],t);if(Y&&Y.then&&(t._promises||[]).push(Y),t._context.editable){var X,G,U;n.Fx.dragElement({element:B.node(),prepFn:function(){X=B.attr("transform"),n.Fx.setCursor(B)},moveFn:function(e,r){var a=t._fullLayout._size;B.attr("transform",X+" translate("+e+","+r+")"),G=n.Fx.dragAlign(E+e/a.w,M,0,1,i.xanchor),U=n.Fx.dragAlign(D-r/a.h,L,0,1,i.yanchor);var o=n.Fx.dragCursors(G,U,i.xanchor,i.yanchor);n.Fx.setCursor(B,o)},doneFn:function(r){if(n.Fx.setCursor(B),r&&void 0!==G&&void 0!==U){var a,o=e.substr(2);t._fullData.some(function(t){return t.uid===o?(a=t.index,!0):void 0}),n.restyle(t,{"colorbar.x":G,"colorbar.y":U},a)}}})}return Y}var i={};return Object.keys(o.attributes).forEach(function(t){i[t]=null}),i.fillcolor=null,i.line={color:null,width:null,dash:null},i.levels={start:null,end:null,size:null},i.filllevels=null,Object.keys(i).forEach(function(t){a[t]=function(e){return arguments.length?(i[t]=n.Lib.isPlainObject(i[t])?n.Lib.extendFlat(i[t],e):e,a):i[t]}}),a.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof a[e]&&a[e](t[e])}),a},a._opts=i,a},i=n.Axes.layoutAttributes,l=n.Lib.extendFlat;o.attributes={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:i.linecolor,outlinewidth:i.linewidth,bordercolor:i.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:l({},i.ticks,{dflt:""}),ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,exponentformat:i.exponentformat,showexponent:i.showexponent,title:{valType:"string",dflt:"Click to enter colorscale title"},titlefont:l({},n.Plots.fontAttrs,{}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},o.supplyDefaults=function(t,e,r){function a(t,e){return n.Lib.coerce(l,i,o.attributes,t,e)}var i=e.colorbar={},l=t.colorbar||{},s=a("thicknessmode");a("thickness","fraction"===s?30/(r.width-r.margin.l-r.margin.r):30);var u=a("lenmode");a("len","fraction"===u?1:r.height-r.margin.t-r.margin.b),a("x"),a("xanchor"),a("xpad"),a("y"),a("yanchor"),a("ypad"),n.Lib.noneOrAll(l,i,["x","y"]),a("outlinecolor"),a("outlinewidth"),a("bordercolor"),a("borderwidth"),a("bgcolor"),n.Axes.handleTickValueDefaults(l,i,a,"linear"),n.Axes.handleTickDefaults(l,i,a,"linear",{outerTicks:!1,font:r.font,noHover:!0}),a("title"),n.Lib.coerceFont(a,"titlefont",r.font),a("titleside")},o.traceColorbar=function(t,e){var i=e[0].trace,l="cb"+i.uid,s=n.Colorscale.getScale(i.colorscale),u=i.zmin,c=i.zmax;if(a(u)||(u=n.Lib.aggNums(Math.min,null,i.z)),a(c)||(c=n.Lib.aggNums(Math.max,null,i.z)),t._fullLayout._infolayer.selectAll("."+l).remove(),!i.showscale)return void n.Plots.autoMargin(t,l);var f=e[0].t.cb=o(t,l);f.fillcolor(r.scale.linear().domain(s.map(function(t){return u+t[0]*(c-u)})).range(s.map(function(t){return t[1]}))).filllevels({start:u,end:c,size:(c-u)/254}).options(i.colorbar)(),n.Lib.markTime("done colorbar")},o.traceColorbarAttributes={zauto:{valType:"boolean",dflt:!0},zmin:{valType:"number",dflt:null},zmax:{valType:"number",dflt:null},colorscale:{valType:"colorscale"},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1},showscale:{valType:"boolean",dflt:!0},_deprecated:{scl:{valType:"colorscale"},reversescl:{valType:"boolean"}}}},{"./isnumeric":21,"./plotly":29,d3:6}],15:[function(t,e){"use strict";function n(t){var e,n=!0,r=0;if(Array.isArray(t)){if(0!==+t[0][0]||1!==+t[t.length-1][0])return!1;for(var a=0;a<t.length;a++){if(e=t[a],2!==e.length||+e[0]<r||!o(e[1]).isValid()){n=!1;break}r=+e[0]}return n}return!1}var r=t("./plotly"),a=t("d3"),o=t("tinycolor2"),i=t("./isnumeric"),l=e.exports={};l.scales={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YIGnBu:[[0,"rgb(8, 29, 88)"],[.125,"rgb(37, 52, 148)"],[.25,"rgb(34, 94, 168)"],[.375,"rgb(29, 145, 192)"],[.5,"rgb(65, 182, 196)"],[.625,"rgb(127, 205, 187)"],[.75,"rgb(199, 233, 180)"],[.875,"rgb(237, 248, 217)"],[1,"rgb(255, 255, 217)"]],Greens:[[0,"rgb(0, 68, 27)"],[.125,"rgb(0, 109, 44)"],[.25,"rgb(35, 139, 69)"],[.375,"rgb(65, 171, 93)"],[.5,"rgb(116, 196, 118)"],[.625,"rgb(161, 217, 155)"],[.75,"rgb(199, 233, 192)"],[.875,"rgb(229, 245, 224)"],[1,"rgb(247, 252, 245)"]],YIOrRd:[[0,"rgb(128, 0, 38)"],[.125,"rgb(189, 0, 38)"],[.25,"rgb(227, 26, 28)"],[.375,"rgb(252, 78, 42)"],[.5,"rgb(253, 141, 60)"],[.625,"rgb(254, 178, 76)"],[.75,"rgb(254, 217, 118)"],[.875,"rgb(255, 237, 160)"],[1,"rgb(255, 255, 204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5, 10, 172)"],[.35,"rgb(106, 137, 247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220, 170, 132)"],[.7,"rgb(230, 145, 90)"],[1,"rgb(178, 10, 28)"]],Reds:[[0,"rgb(220, 220, 220)"],[.2,"rgb(245, 195, 157)"],[.4,"rgb(245, 160, 105)"],[1,"rgb(178, 10, 28)"]],Blues:[[0,"rgb(5, 10, 172)"],[.35,"rgb(40, 60, 190)"],[.5,"rgb(70, 100, 245)"],[.6,"rgb(90, 120, 245)"],[.7,"rgb(106, 137, 247)"],[1,"rgb(220, 220, 220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0, 0, 200)"],[.25,"rgb(0, 25, 255)"],[.375,"rgb(0, 152, 255)"],[.5,"rgb(44, 255, 150)"],[.625,"rgb(151, 255, 0)"],[.75,"rgb(255, 234, 0)"],[.875,"rgb(255, 111, 0)"],[1,"rgb(255, 0, 0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]},l.defaultScale=l.scales.RdBu,l.isValidScale=function(t){return void 0!==l.scales[t]?!0:n(t)},l.getScale=function(t,e){function r(){try{t=l.scales[t]||JSON.parse(t)}catch(n){t=e}}return e||(e=l.defaultScale),t?("string"==typeof t&&(r(),"string"==typeof t&&r()),n(t)?t:e):e},l.flipScale=function(t){for(var e,n=t.length,r=new Array(n),a=n-1,o=0;a>=0;a--,o++)e=t[a],r[o]=[1-e[0],e[1]];return r},l.hasColorscale=function(t,e){var n=e?r.Lib.nestedProperty(t,e).get()||{}:t,a=n.color,o=!1;if(Array.isArray(a))for(var s=0;s<a.length;s++)if(i(a[s])){o=!0;break}return"object"==typeof n&&null!==n&&(o||n.showscale===!0||i(n.cmin)&&i(n.cmax)||l.isValidScale(n.colorscale)||"object"==typeof n.colorbar&&null!==n.colorbar)},l.hasColorbar=function(t){return"object"==typeof t.colorbar&&null!==t.colorbar},l.handleDefaults=function(t,e,n,a,o){var s,u,c,f,d,h,g=o.prefix,p=o.cLetter,m=g.slice(0,g.length-1),v=g?r.Lib.nestedProperty(t,m).get()||{}:t,y=g?r.Lib.nestedProperty(e,m).get()||{}:e,x=v[p+"min"],b=v[p+"max"],_=v.colorscale;s=i(x)&&i(b)&&b>x,a(g+p+"auto",!s),a(g+p+"min"),a(g+p+"max"),void 0!==_&&(u=!l.isValidScale(_)),a(g+"autocolorscale",u),f=a(g+"colorscale"),d=a(g+"reversescale"),d&&(y.colorscale=l.flipScale(f)),"marker.line."!==g&&(g&&(c=l.hasColorbar(v)),h=a(g+"showscale",c),h&&r.Colorbar.supplyDefaults(v,y,n))},l.calc=function(t,e,n,a){var o,i;n?(o=r.Lib.nestedProperty(t,n).get(),i=r.Lib.nestedProperty(t._input,n).get()):(o=t,i=t._input);var s=o[a+"auto"],u=o[a+"min"],c=o[a+"max"],f=o.colorscale;(s!==!1||void 0===u)&&(u=r.Lib.aggNums(Math.min,null,e)),(s!==!1||void 0===c)&&(c=r.Lib.aggNums(Math.max,null,e)),u===c&&(u-=.5,c+=.5),o[a+"min"]=u,o[a+"max"]=c,i[a+"min"]=u,i[a+"max"]=c,o.autocolorscale&&(f=0>u*c?l.scales.RdBu:u>=0?l.scales.Reds:l.scales.Blues,i.colorscale=f,o.reversescale&&(f=l.flipScale(f)),o.colorscale=f)},l.makeScaleFunction=function(t,e,n){for(var l,s=t.length,u=new Array(s),c=new Array(s),f=0;s>f;f++)l=t[f],u[f]=e+l[0]*(n-e),c[f]=l[1];var d=a.scale.linear().domain(u).interpolate(a.interpolateRgb).range(c);return function(t){return i(t)?d(t):o(t).isValid()?t:r.Color.defaultLine}}},{"./isnumeric":21,"./plotly":29,d3:6,tinycolor2:9}],16:[function(t,e,n){"undefined"!=typeof MathJax?(n.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):n.MathJax=!1},{}],17:[function(t,e){"use strict";function n(t,e,n,r){var o=t[0]-e[0],i=t[1]-e[1],l=n[0]-e[0],s=n[1]-e[1],u=Math.pow(o*o+i*i,d/2),c=Math.pow(l*l+s*s,d/2),f=(c*c*o-u*u*l)*r,h=(c*c*i-u*u*s)*r,g=3*c*(u+c),p=3*u*(u+c);return[[a.round(e[0]+(g&&f/g),2),a.round(e[1]+(g&&h/g),2)],[a.round(e[0]-(p&&f/p),2),a.round(e[1]-(p&&h/p),2)]]}var r=t("./plotly"),a=t("d3"),o=t("./isnumeric"),i=e.exports={};i.font=function(t,e,n,a){e&&e.family&&(a=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),a&&t.call(r.Color.fill,a)},i.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},i.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},i.setRect=function(t,e,n,r,a){t.call(i.setPosition,e,n).call(i.setSize,r,a)},i.translatePoints=function(t,e,n){t.each(function(t){var r=t.xp||e.c2p(t.x),i=t.yp||n.c2p(t.y),l=a.select(this);o(r)&&o(i)?"text"===this.nodeName?l.attr("x",r).attr("y",i):l.attr("transform","translate("+r+","+i+")"):l.remove()})},i.getPx=function(t,e){return Number(t.style(e).replace(/px$/,""))},i.crispRound=function(t,e,n){return e&&o(e)?t._context.staticPlot?e:1>e?1:Math.round(e):n||0},i.lineGroupStyle=function(t,e,n,o){t.style("fill","none").each(function(t){var l=(((t||[])[0]||{}).trace||{}).line||{},s=e||l.width||0,u=o||l.dash||"";a.select(this).call(r.Color.stroke,n||l.color).call(i.dashLine,u,s)})},i.dashLine=function(t,e,n){var r=Math.max(n,3);"solid"===e?e="":"dot"===e?e=r+"px,"+r+"px":"dash"===e?e=3*r+"px,"+3*r+"px":"longdash"===e?e=5*r+"px,"+5*r+"px":"dashdot"===e?e=3*r+"px,"+r+"px,"+r+"px,"+r+"px":"longdashdot"===e&&(e=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},i.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var n=a.select(this);try{n.call(r.Color.fill,e[0].trace.fillcolor)}catch(e){console.log(e,t),n.remove()}})};var l={circle:{n:0,f:function(t){var e=a.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=a.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=a.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=a.round(.4*t,2),n=a.round(1.2*t,2);return"M"+n+","+e+"H"+e+"V"+n+"H-"+e+"V"+e+"H-"+n+"V-"+e+"H-"+e+"V-"+n+"H"+e+"V-"+e+"H"+n+"Z"}},x:{n:4,f:function(t){var e=a.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,r="l"+e+",-"+e,o="l-"+e+",-"+e,i="l-"+e+","+e;return"M0,"+e+n+r+o+r+o+i+o+i+n+i+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=a.round(2*t/Math.sqrt(3),2),n=a.round(t/2,2),r=a.round(t,2);return"M-"+e+","+n+"H"+e+"L0,-"+r+"Z"}},"triangle-down":{n:6,f:function(t){var e=a.round(2*t/Math.sqrt(3),2),n=a.round(t/2,2),r=a.round(t,2);return"M-"+e+",-"+n+"H"+e+"L0,"+r+"Z"}},"triangle-left":{n:7,f:function(t){var e=a.round(2*t/Math.sqrt(3),2),n=a.round(t/2,2),r=a.round(t,2);return"M"+n+",-"+e+"V"+e+"L-"+r+",0Z"}},"triangle-right":{n:8,f:function(t){var e=a.round(2*t/Math.sqrt(3),2),n=a.round(t/2,2),r=a.round(t,2);return"M-"+n+",-"+e+"V"+e+"L"+r+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=a.round(.6*t,2),n=a.round(1.2*t,2);return"M-"+n+",-"+e+"H"+e+"V"+n+"Z"}},"triangle-se":{n:10,f:function(t){var e=a.round(.6*t,2),n=a.round(1.2*t,2);return"M"+e+",-"+n+"V"+e+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(t){var e=a.round(.6*t,2),n=a.round(1.2*t,2);return"M"+n+","+e+"H-"+e+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(t){var e=a.round(.6*t,2),n=a.round(1.2*t,2);return"M-"+e+","+n+"V-"+e+"H"+n+"Z"}},pentagon:{n:13,f:function(t){var e=a.round(.951*t,2),n=a.round(.588*t,2),r=a.round(-t,2),o=a.round(t*-.309,2),i=a.round(.809*t,2);return"M"+e+","+o+"L"+n+","+i+"H-"+n+"L-"+e+","+o+"L0,"+r+"Z"}},hexagon:{n:14,f:function(t){var e=a.round(t,2),n=a.round(t/2,2),r=a.round(t*Math.sqrt(3)/2,2);return"M"+r+",-"+n+"V"+n+"L0,"+e+"L-"+r+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=a.round(t,2),n=a.round(t/2,2),r=a.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+r+"H"+n+"L"+e+",0L"+n+",-"+r+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=a.round(.924*t,2),n=a.round(.383*t,2);return"M-"+n+",-"+e+"H"+n+"L"+e+",-"+n+"V"+n+"L"+n+","+e+"H-"+n+"L-"+e+","+n+"V-"+n+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=a.round(.225*e,2),r=a.round(.951*e,2),o=a.round(.363*e,2),i=a.round(.588*e,2),l=a.round(-e,2),s=a.round(e*-.309,2),u=a.round(.118*e,2),c=a.round(.809*e,2),f=a.round(.382*e,2);return"M"+n+","+s+"H"+r+"L"+o+","+u+"L"+i+","+c+"L0,"+f+"L-"+i+","+c+"L-"+o+","+u+"L-"+r+","+s+"H-"+n+"L0,"+l+"Z"}},hexagram:{n:18,f:function(t){var e=a.round(.66*t,2),n=a.round(.38*t,2),r=a.round(.76*t,2);return"M-"+r+",0l-"+n+",-"+e+"h"+r+"l"+n+",-"+e+"l"+n+","+e+"h"+r+"l-"+n+","+e+"l"+n+","+e+"h-"+r+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+r+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=a.round(t*Math.sqrt(3)*.8,2),n=a.round(.8*t,2),r=a.round(1.6*t,2),o=a.round(4*t,2),i="A "+o+","+o+" 0 0 1 ";return"M-"+e+","+n+i+e+","+n+i+"0,-"+r+i+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=a.round(t*Math.sqrt(3)*.8,2),n=a.round(.8*t,2),r=a.round(1.6*t,2),o=a.round(4*t,2),i="A "+o+","+o+" 0 0 1 ";return"M"+e+",-"+n+i+"-"+e+",-"+n+i+"0,"+r+i+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=a.round(1.1*t,2),n=a.round(2*t,2),r="A "+n+","+n+" 0 0 1 ";return"M-"+e+",-"+e+r+"-"+e+","+e+r+e+","+e+r+e+",-"+e+r+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=a.round(1.4*t,2),n=a.round(1.9*t,2),r="A "+n+","+n+" 0 0 1 ";return"M-"+e+",0"+r+"0,"+e+r+e+",0"+r+"0,-"+e+r+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=a.round(.7*t,2),n=a.round(1.4*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=a.round(1.4*t,2),n=a.round(.7*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"
}},hourglass:{n:25,f:function(t){var e=a.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=a.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=a.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=a.round(t,2),n=a.round(t/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=a.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=a.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=a.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=a.round(1.3*t,2),n=a.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=a.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(t){var e=a.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},asterisk:{n:35,f:function(t){var e=a.round(1.2*t,2),n=a.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0},hash:{n:36,f:function(t){var e=a.round(t/2,2),n=a.round(t,2);return"M"+e+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+e+"H-"+n+"m0,-"+n+"H"+n},needLine:!0},"y-up":{n:37,f:function(t){var e=a.round(1.2*t,2),n=a.round(1.6*t,2),r=a.round(.8*t,2);return"M-"+e+","+r+"L0,0M"+e+","+r+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(t){var e=a.round(1.2*t,2),n=a.round(1.6*t,2),r=a.round(.8*t,2);return"M-"+e+",-"+r+"L0,0M"+e+",-"+r+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(t){var e=a.round(1.2*t,2),n=a.round(1.6*t,2),r=a.round(.8*t,2);return"M"+r+","+e+"L0,0M"+r+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(t){var e=a.round(1.2*t,2),n=a.round(1.6*t,2),r=a.round(.8*t,2);return"M-"+r+","+e+"L0,0M-"+r+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(t){var e=a.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(t){var e=a.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(t){var e=a.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(t){var e=a.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0}};i.symbolNames=[],i.symbolFuncs=[],i.symbolNeedLines={},i.symbolNoDot={},i.symbolList=[],Object.keys(l).forEach(function(t){var e=l[t];i.symbolList=i.symbolList.concat([e.n,t,e.n+100,t+"-open"]),i.symbolNames[e.n]=t,i.symbolFuncs[e.n]=e.f,e.needLine&&(i.symbolNeedLines[e.n]=!0),e.noDot?i.symbolNoDot[e.n]=!0:i.symbolList=i.symbolList.concat([e.n+200,t+"-dot",e.n+300,t+"-open-dot"])});var s=i.symbolNames.length,u="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";i.symbolNumber=function(t){if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),t=i.symbolNames.indexOf(t),t>=0&&(t+=e)}return t%100>=s||t>=400?0:Math.floor(Math.max(t,0))},i.pointStyle=function(t,e){if(t.size()){var n=e.marker,o=n.line;if(r.Plots.traceIs(e,"symbols")){var l=r.Scatter.getBubbleSizeFn(e);t.attr("d",function(t){var a;a="various"===t.ms||"various"===n.size?3:r.Scatter.isBubble(e)?l(t.ms):(n.size||6)/2,t.mrc=a;var o=i.symbolNumber(t.mx||n.symbol)||0,s=o%100;return t.om=o%200>=100,i.symbolFuncs[s](a)+(o>=200?u:"")}).style("opacity",function(t){return(t.mo+1||n.opacity+1)-1})}var s=(e._input||{}).marker||{},c=i.tryColorscale(n,s,""),f=i.tryColorscale(n,s,"line.");t.each(function(t){var e,i,l;t.so?(l=o.outlierwidth,i=o.outliercolor,e=n.outliercolor):(l=(t.mlw+1||o.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,i="mlc"in t?t.mlcc=f(t.mlc):Array.isArray(o.color)?r.Color.defaultLine:o.color,e="mc"in t?t.mcc=c(t.mc):Array.isArray(n.color)?r.Color.defaultLine:n.color||"rgba(0,0,0,0)");var s=a.select(this);t.om?s.call(r.Color.stroke,e).style({"stroke-width":(l||1)+"px",fill:"none"}):(s.style("stroke-width",l+"px").call(r.Color.fill,e),l&&s.call(r.Color.stroke,i))})}},i.tryColorscale=function(t,e,n){var a=r.Lib.nestedProperty(t,n+"color").get(),i=r.Lib.nestedProperty(t,n+"colorscale").get(),l=r.Lib.nestedProperty(t,n+"cauto").get(),s=r.Lib.nestedProperty(t,n+"cmin"),u=r.Lib.nestedProperty(t,n+"cmax"),c=s.get(),f=u.get();return i&&Array.isArray(a)?(!l&&o(c)&&o(f)||(c=1/0,f=-1/0,a.forEach(function(t){o(t)&&(c>t&&(c=+t),t>f&&(f=+t))}),c>f&&(c=0,f=1),s.set(c),u.set(f),r.Lib.nestedProperty(e,n+"cmin").set(c),r.Lib.nestedProperty(e,n+"cmax").set(f)),r.Colorscale.makeScaleFunction(i,c,f)):r.Lib.identity};var c={start:1,end:-1,middle:0,bottom:1,top:-1},f=1.3;i.textPointStyle=function(t,e){t.each(function(t){var n=a.select(this);if(!t.tx&&!e.text)return void n.remove();var l=t.tp||e.textposition,s=-1!==l.indexOf("top")?"top":-1!==l.indexOf("bottom")?"bottom":"middle",u=-1!==l.indexOf("left")?"end":-1!==l.indexOf("right")?"start":"middle",d=t.ts||e.textfont.size,h=t.mrc?t.mrc/.8+1:0;d=o(d)&&d>0?d:0,n.call(i.font,t.tf||e.textfont.family,d,t.tc||e.textfont.color).attr("text-anchor",u).text(t.tx||e.text).call(r.util.convertToTspans);var g=a.select(this.parentNode),p=n.selectAll("tspan.line"),m=((p[0].length||1)-1)*f+1,v=c[u]*h,y=.75*d+c[s]*h+(c[s]-1)*m*d/2;g.attr("transform","translate("+v+","+y+")"),m>1&&p.attr({x:n.attr("x"),y:n.attr("y")})})};var d=.5;i.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var r,a="M"+t[0],o=[];for(r=1;r<t.length-1;r++)o.push(n(t[r-1],t[r],t[r+1],e));for(a+="Q"+o[0][0]+" "+t[1],r=2;r<t.length-1;r++)a+="C"+o[r-2][1]+" "+o[r-1][0]+" "+t[r];return a+="Q"+o[t.length-3][1]+" "+t[t.length-1]},i.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var r,a="M"+t[0],o=t.length-1,i=[n(t[o],t[0],t[1],e)];for(r=1;o>r;r++)i.push(n(t[r-1],t[r],t[r+1],e));for(i.push(n(t[o-1],t[o],t[0],e)),r=1;o>=r;r++)a+="C"+i[r-1][1]+" "+i[r][0]+" "+t[r];return a+="C"+i[o][1]+" "+i[0][0]+" "+t[0]+"Z"};var h={hv:function(t,e){return"H"+a.round(e[0],2)+"V"+a.round(e[1],2)},vh:function(t,e){return"V"+a.round(e[1],2)+"H"+a.round(e[0],2)},hvh:function(t,e){return"H"+a.round((t[0]+e[0])/2,2)+"V"+a.round(e[1],2)+"H"+a.round(e[0],2)},vhv:function(t,e){return"V"+a.round((t[1]+e[1])/2,2)+"H"+a.round(e[0],2)+"V"+a.round(e[1],2)}},g=function(t,e){return"L"+a.round(e[0],2)+","+a.round(e[1],2)};i.steps=function(t){var e=h[t]||g;return function(t){for(var n="M"+a.round(t[0][0],2)+","+a.round(t[0][1],2),r=1;r<t.length;r++)n+=e(t[r-1],t[r]);return n}},i.makeTester=function(t){var e=a.select("body").selectAll("#js-plotly-tester").data([0]);e.enter().append("svg").attr({id:"js-plotly-tester",xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink"}).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px"});var n=e.selectAll(".js-reference-point").data([0]);n.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),e.node()._cache||(e.node()._cache={}),t._tester=e,t._testref=n};var p=[],m=1e4;i.bBox=function(t){var e=t.attributes["data-bb"];if(e&&e.value)return r.Lib.extendFlat({},p[e.value]);var n=a.select("#js-plotly-tester"),o=n.node(),i=t.cloneNode(!0);o.appendChild(i),a.select(i).attr({x:0,y:0,transform:""});var l=i.getBoundingClientRect(),s=n.select(".js-reference-point").node().getBoundingClientRect();o.removeChild(i);var u={height:l.height,width:l.width,left:l.left-s.left,top:l.top-s.top,right:l.right-s.left,bottom:l.bottom-s.top};return p.length>=m&&(a.selectAll("[data-bb]").attr("data-bb",null),p=[]),t.setAttribute("data-bb",p.length),p.push(u),r.Lib.extendFlat({},u)},i.setClipUrl=function(t,e){if(!e)return void t.attr("clip-path",null);var n="#"+e,r=a.select("base");r.size()&&r.attr("href")&&(n=window.location.href+n),t.attr("clip-path","url("+n+")")}},{"./isnumeric":21,"./plotly":29,d3:6}],18:[function(t,e){"use strict";function n(t,e){for(var n=[],r=t.length;r>0;r--)n.push(e);return n}function r(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r].p2c(e));return n}function a(t,e){return function(n){var r=t(n),a=e(n);return Math.sqrt(r*r+a*a)}}function o(t,e,a){a||(a="xy");var o=t._fullLayout,d=o._plots[a],h=[a].concat(d.overlays.map(function(t){return t.id})),g=h.map(function(e){return b.Axes.getFromId(t,e,"x")}),p=h.map(function(e){return b.Axes.getFromId(t,e,"y")}),m=e.hovermode||o.hovermode;if(-1===["x","y","closest"].indexOf(m)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return f(t,e);var v,y,x,_,w,A,L,T,z,S,C,E,D=[],O=[];if(Array.isArray(e))for(m="array",x=0;x<e.length;x++)w=t.calcdata[e[x].curveNumber||0],"none"!==w[0].trace.hoverinfo&&O.push(w);else{for(_=0;_<t.calcdata.length;_++)w=t.calcdata[_],A=w[0].trace,"none"!==A.hoverinfo&&-1!==h.indexOf(A.xaxis+A.yaxis)&&O.push(w);var P,I;if(e.target&&"clientX"in e&&"clientY"in e){if($(t).triggerHandler("plotly_beforehover",e)===!1)return;var N=e.target.getBoundingClientRect();if(P=e.clientX-N.left,I=e.clientY-N.top,0>P||P>N.width||0>I||I>N.height)return f(t,e)}else P="xpx"in e?e.xpx:g[0]._length/2,I="ypx"in e?e.ypx:p[0]._length/2;if(v="xval"in e?n(h,e.xval):r(g,P),y="yval"in e?n(h,e.yval):r(p,I),!k(v[0])||!k(y[0]))return console.log("Plotly.Fx.hover failed",e,t),f(t,e)}var j=1/0;for(_=0;_<O.length;_++)if(w=O[_],w&&w[0]&&w[0].trace&&w[0].trace.visible===!0){if(A=w[0].trace,L=h.indexOf(A.xaxis+A.yaxis),T=m,C={cd:w,trace:A,xa:g[L],ya:p[L],name:t.data.length>1||-1!==A.hoverinfo.indexOf("name")?A.name:void 0,index:!1,distance:Math.min(j,M.MAXDIST),color:b.Color.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},E=D.length,"array"===T){var F=e[_];"pointNumber"in F?(C.index=F.pointNumber,T="closest"):(T="","xval"in F&&(z=F.xval,T="x"),"yval"in F&&(S=F.yval,T=T?"closest":"y"))}else z=v[L],S=y[L];if(A._module&&A._module.hoverPoints){var R=A._module.hoverPoints(C,z,S,T);if(R)for(var q,H=0;H<R.length;H++)q=R[H],k(q.x0)&&k(q.y0)&&D.push(i(q,m))}else console.log("unrecognized trace type in hover",A);"closest"===m&&D.length>E&&(D.splice(0,E),j=D[0].distance)}if(0===D.length)return f(t,e);var B="y"===m&&O.length>1;D.sort(function(t,e){return t.distance-e.distance});var V={hovermode:m,rotateLabels:B,bgColor:b.Color.combine(o.plot_bgcolor,o.paper_bgcolor),container:o._hoverlayer,outerContainer:o._paperdiv},Z=l(D,V);s(D,B?g[0]:p[0]),u(Z,B);var Y=t._hoverdata,X=[];for(x=0;x<D.length;x++){var G=D[x],U={data:G.trace._input,fullData:G.trace,curveNumber:G.trace.index,pointNumber:G.index,x:G.xVal,y:G.yVal,xaxis:G.xa,yaxis:G.ya};void 0!==G.zLabelVal&&(U.z=G.zLabelVal),X.push(U)}t._hoverdata=X,c(t,e,Y)&&(Y&&$(t).trigger("plotly_unhover",{points:Y}),$(t).trigger("plotly_hover",{points:t._hoverdata,xaxes:g,yaxes:p,xvals:v,yvals:y}))}function i(t,e){t.posref="y"===e?(t.x0+t.x1)/2:(t.y0+t.y1)/2,t.x0=b.Lib.constrain(t.x0,0,t.xa._length),t.x1=b.Lib.constrain(t.x1,0,t.xa._length),t.y0=b.Lib.constrain(t.y0,0,t.ya._length),t.y1=b.Lib.constrain(t.y1,0,t.ya._length);var n;if(void 0!==t.xLabelVal){n="log"===t.xa.type&&t.xLabelVal<=0;var r=b.Axes.tickText(t.xa,t.xa.c2l(n?-t.xLabelVal:t.xLabelVal),"hover");t.xLabel=n?0===t.xLabelVal?"0":"-"+r.text:r.text,t.xVal=t.xa.c2d(t.xLabelVal)}if(void 0!==t.yLabelVal){n="log"===t.ya.type&&t.yLabelVal<=0;var a=b.Axes.tickText(t.ya,t.ya.c2l(n?-t.yLabelVal:t.yLabelVal),"hover");t.yLabel=n?0===t.yLabelVal?"0":"-"+a.text:a.text,t.yVal=t.ya.c2d(t.yLabelVal)}if(void 0!==t.zLabelVal&&(t.zLabel=String(t.zLabelVal)),void 0!==t.xerr){var o=b.Axes.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;t.xLabel+=void 0!==t.xerrneg?" +"+o+" / -"+b.Axes.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:" &plusmn; "+o,"x"===e&&(t.distance+=1)}if(void 0!==t.yerr){var i=b.Axes.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;t.yLabel+=void 0!==t.yerrneg?" +"+i+" / -"+b.Axes.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:" &plusmn; "+i,"y"===e&&(t.distance+=1)}var l=t.trace.hoverinfo;return"all"!==l&&(l=l.split("+"),-1===l.indexOf("x")&&(t.xLabel=void 0),-1===l.indexOf("y")&&(t.yLabel=void 0),-1===l.indexOf("z")&&(t.zLabel=void 0),-1===l.indexOf("text")&&(t.text=void 0),-1===l.indexOf("name")&&(t.name=void 0)),t}function l(t,e){var n,r,a=e.hovermode,o=e.rotateLabels,i=e.bgColor,l=e.container,s=e.outerContainer,u=t[0],c=u.xa,f=u.ya,d="y"===a?"yLabel":"xLabel",h=u[d],g=(String(h)||"").split(" ")[0],p=s.node().getBoundingClientRect(),m=p.top,v=p.width,y=p.height,x=u.distance<=M.MAXDIST&&("x"===a||"y"===a);for(n=0;n<t.length;n++)if(r=t[n].trace.hoverinfo,-1===r.indexOf("all")&&-1===r.indexOf(a)){x=!1;break}var k=l.selectAll("g.axistext").data(x?[0]:[]);k.enter().append("g").classed("axistext",!0),k.exit().remove(),k.each(function(){var e=_.select(this),n=e.selectAll("path").data([0]),r=e.selectAll("text").data([0]);n.enter().append("path").style({fill:b.Color.defaultLine,"stroke-width":"1px",stroke:b.Color.background}),r.enter().append("text").call(b.Drawing.font,P,O,b.Color.background).attr("data-notex",1),r.text(h).call(b.util.convertToTspans).call(b.Drawing.setPosition,0,0).selectAll("tspan.line").call(b.Drawing.setPosition,0,0),e.attr("transform","");var o=r.node().getBoundingClientRect();if("x"===a){r.attr("text-anchor","middle").call(b.Drawing.setPosition,0,"top"===c.side?m-o.bottom-E-D:m-o.top+E+D).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var i="top"===c.side?"-":"";n.attr("d","M0,0L"+E+","+i+E+"H"+(D+o.width/2)+"v"+i+(2*D+o.height)+"H-"+(D+o.width/2)+"V"+i+E+"H-"+E+"Z"),e.attr("transform","translate("+(c._offset+(u.x0+u.x1)/2)+","+(f._offset+("top"===c.side?0:f._length))+")")}else{r.attr("text-anchor","right"===f.side?"start":"end").call(b.Drawing.setPosition,("right"===f.side?1:-1)*(D+E),m-o.top-o.height/2).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var l="right"===f.side?"":"-";n.attr("d","M0,0L"+l+E+","+E+"V"+(D+o.height/2)+"h"+l+(2*D+o.width)+"V-"+(D+o.height/2)+"H"+l+E+"V-"+E+"Z"),e.attr("transform","translate("+(c._offset+("right"===f.side?c._length:0))+","+(f._offset+(u.y0+u.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[d]||"").split(" ")[0]===g})});var A=l.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr||""].join(",")});return A.enter().append("g").classed("hovertext",!0).each(function(){var t=_.select(this);t.append("rect").call(b.Color.fill,b.Color.addOpacity(i,.8)),t.append("text").classed("name",!0).call(b.Drawing.font,P,O),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(b.Drawing.font,P,O)}),A.exit().remove(),A.each(function(t){var e=_.select(this).attr("transform",""),n="",r="",l=b.Color.opacity(t.color)?t.color:b.Color.defaultLine,s=b.Color.combine(l,i),u=w(s).getBrightness()>128?"#000":b.Color.background;if(t.name&&void 0===t.zLabelVal){var d=document.createElement("p");d.innerHTML=t.name,n=d.textContent||"",n.length>15&&(n=n.substr(0,12)+"...")}void 0!==t.zLabel?(void 0!==t.xLabel&&(r+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(r+="y: "+t.yLabel+"<br>"),r+=(r?"z: ":"")+t.zLabel):x&&t[a+"Label"]===h?r=t[("x"===a?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(r=t.yLabel):r=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&(r+=(r?"<br>":"")+t.text),""===r&&(""===n&&e.remove(),r=n);var g=e.select("text.nums").style("fill",u).call(b.Drawing.setPosition,0,0).text(r).attr("data-notex",1).call(b.util.convertToTspans);g.selectAll("tspan.line").call(b.Drawing.setPosition,0,0);var p=e.select("text.name"),k=0;n&&n!==r?(p.style("fill",s).text(n).call(b.Drawing.setPosition,0,0).attr("data-notex",1).call(b.util.convertToTspans),p.selectAll("tspan.line").call(b.Drawing.setPosition,0,0),k=p.node().getBoundingClientRect().width+2*D):(p.remove(),e.select("rect").remove()),e.select("path").style({fill:s,stroke:u});var M,A,T=g.node().getBoundingClientRect(),z=c._offset+(t.x0+t.x1)/2,S=f._offset+(t.y0+t.y1)/2,C=Math.abs(t.x1-t.x0),O=Math.abs(t.y1-t.y0),P=T.width+E+D+k;t.ty0=m-T.top,t.bx=T.width+2*D,t.by=T.height+2*D,t.anchor="start",t.txwidth=T.width,t.tx2width=k,t.offset=0,o?(t.pos=z,M=y>=S+O/2+P,A=S-O/2-P>=0,"top"!==t.idealAlign&&M||!A?M?(S+=O/2,t.anchor="start"):t.anchor="middle":(S-=O/2,t.anchor="end")):(t.pos=S,M=v>=z+C/2+P,A=z-C/2-P>=0,"left"!==t.idealAlign&&M||!A?M?(z+=C/2,t.anchor="start"):t.anchor="middle":(z-=C/2,t.anchor="end")),g.attr("text-anchor",t.anchor),k&&p.attr("text-anchor",t.anchor),e.attr("transform","translate("+z+","+S+")"+(o?"rotate("+L+")":""))}),A}function s(t,e){function n(t){var e=t[0],n=t[t.length-1];if(a=f-e.pos-e.dp+e.size,o=n.pos+n.dp+n.size-d,a>.01){for(l=t.length-1;l>=0;l--)t[l].dp+=a;r=!1}if(!(.01>o)){if(-.01>a){for(l=t.length-1;l>=0;l--)t[l].dp-=o;r=!1}if(r){var u=0;for(i=0;i<t.length;i++)s=t[i],s.pos+s.dp+s.size>d&&u++;for(i=t.length-1;i>=0&&!(0>=u);i--)s=t[i],s.pos>d-1&&(s.del=!0,u--);for(i=0;i<t.length&&!(0>=u);i++)if(s=t[i],s.pos<f+1)for(s.del=!0,u--,o=2*s.size,l=t.length-1;l>=0;l--)t[l].dp-=o;for(i=t.length-1;i>=0&&!(0>=u);i--)s=t[i],s.pos+s.dp+s.size>d&&(s.del=!0,u--)}}}for(var r,a,o,i,l,s,u,c=0,f=e._offset,d=e._offset+e._length,h=t.map(function(t,n){return[{i:n,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===e._id.charAt(0)?z:1)/2}]}).sort(function(t,e){return t[0].posref-e[0].posref});!r&&c<=t.length;){for(c++,r=!0,i=0;i<h.length-1;){var g=h[i],p=h[i+1],m=g[g.length-1],v=p[0];if(a=m.pos+m.dp+m.size-v.pos-v.dp+v.size,a>.01){for(l=p.length-1;l>=0;l--)p[l].dp+=a;for(g.push.apply(g,p),h.splice(i+1,1),u=0,l=g.length-1;l>=0;l--)u+=g[l].dp;for(o=u/g.length,l=g.length-1;l>=0;l--)g[l].dp-=o;r=!1}else i++}h.forEach(n)}for(i=h.length-1;i>=0;i--){var y=h[i];for(l=y.length-1;l>=0;l--){var x=y[l],b=t[x.i];b.offset=x.dp,b.del=x.del}}}function u(t,e){t.each(function(t){var n=_.select(this);if(t.del)return void n.remove();var r="end"===t.anchor?-1:1,a=n.select("text.nums"),o={start:1,end:-1,middle:0}[t.anchor],i=o*(E+D),l=i+o*(t.txwidth+D),s=0,u=t.offset;"middle"===t.anchor&&(i-=t.tx2width/2,l-=t.tx2width/2),e&&(u*=-C,s=t.offset*S),n.select("path").attr("d","middle"===t.anchor?"M-"+t.bx/2+",-"+t.by/2+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(r*E+s)+","+(E+u)+"v"+(t.by/2-E)+"h"+r*t.bx+"v-"+t.by+"H"+(r*E+s)+"V"+(u-E)+"Z"),a.call(b.Drawing.setPosition,i+s,u+t.ty0-t.by/2+D).selectAll("tspan.line").attr({x:a.attr("x"),y:a.attr("y")}),t.tx2width&&(n.select("text.name, text.name tspan.line").call(b.Drawing.setPosition,l+o*D+s,u+t.ty0-t.by/2+D),n.select("rect").call(b.Drawing.setRect,l+(o-1)*t.tx2width/2+s,u-t.by/2-1,t.tx2width,t.by+2))})}function c(t,e,n){if(!e.target)return!1;if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var a=n[r],o=t._hoverdata[r];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber))return!0}return!1}function f(t,e){var n=t._fullLayout;e||(e={}),e.target&&$(t).triggerHandler("plotly_beforehover",e)===!1||(n._hoverlayer.selectAll("g").remove(),e.target&&t._hoverdata&&$(t).trigger("plotly_unhover",{points:t._hoverdata}),t._hoverdata=void 0)}function d(t){if(t._hasGL3D)return[["toImage"],["orbitRotation","tableRotation","zoom3d","pan3d"],["resetCameraDefault3d","resetCameraLastSave3d"],["hoverClosest3d"]];if(t._hasGeo)return[["toImage"],["zoomInGeo","zoomOutGeo","resetGeo"],["hoverClosestGeo"]];var e,n,r=b.Axes.list({_fullLayout:t},null,!0),a=!0;for(e=0;e<r.length;e++)if(!r[e].fixedrange){a=!1;break}return n=a?[["toImage"]]:[["toImage"],["zoom2d","pan2d"],["zoomIn2d","zoomOut2d","resetScale2d","autoScale2d"]],t._hasCartesian?n.push(["hoverClosest2d","hoverCompare2d"]):t._hasPie&&n.push(["hoverClosestPie"]),n}function h(t,e){return t?"nsew"===t?"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}function g(t,e,n,r,a,o,i,l){function s(t,e){for(z=0;z<t.length;z++)if(!t[z].fixedrange)return e;return""}function u(t){t[0]=Number(t[0]),t[1]=Number(t[1])}function c(n,r,a){var o=Z.getBoundingClientRect();for(X=r-o.left,G=a-o.top,U={l:X,r:X,w:0,t:G,b:G,h:0},$=t._hmpixcount?t._hmlumcount/t._hmpixcount:w(t._fullLayout.plot_bgcolor).getLuminance(),Q=Q="M0,0H"+I+"V"+j+"H0V0",J=!1,W="xy",K=e.plot.append("path").attr("class","zoombox").style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q+"Z"),te=e.plot.append("path").attr("class","zoombox-corners").style({fill:b.Color.background,stroke:b.Color.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),z=0;z<F.length;z++)u(F[z].range)}function f(t,e){var n=Math.max(0,Math.min(I,t+X)),r=Math.max(0,Math.min(j,e+G)),a=Math.abs(n-X),o=Math.abs(r-G),i=Math.floor(Math.min(o,a,M.MINZOOM)/2);U.l=Math.min(X,n),U.r=Math.max(X,n),U.t=Math.min(G,r),U.b=Math.max(G,r),!q||o<Math.min(Math.max(.6*a,M.MINDRAG),M.MINZOOM)?a<M.MINDRAG?(W="",U.r=U.l,U.t=U.b,te.attr("d","M0,0Z")):(U.t=0,U.b=j,W="x",te.attr("d","M"+(U.l-.5)+","+(G-M.MINZOOM-.5)+"h-3v"+(2*M.MINZOOM+1)+"h3ZM"+(U.r+.5)+","+(G-M.MINZOOM-.5)+"h3v"+(2*M.MINZOOM+1)+"h-3Z")):!R||a<Math.min(.6*o,M.MINZOOM)?(U.l=0,U.r=I,W="y",te.attr("d","M"+(X-M.MINZOOM-.5)+","+(U.t-.5)+"v-3h"+(2*M.MINZOOM+1)+"v3ZM"+(X-M.MINZOOM-.5)+","+(U.b+.5)+"v3h"+(2*M.MINZOOM+1)+"v-3Z")):(W="xy",te.attr("d","M"+(U.l-3.5)+","+(U.t-.5+i)+"h3v"+-i+"h"+i+"v-3h-"+(i+3)+"ZM"+(U.r+3.5)+","+(U.t-.5+i)+"h-3v"+-i+"h"+-i+"v-3h"+(i+3)+"ZM"+(U.r+3.5)+","+(U.b+.5-i)+"h-3v"+i+"h"+-i+"v3h"+(i+3)+"ZM"+(U.l-3.5)+","+(U.b+.5-i)+"h3v"+i+"h"+i+"v3h-"+(i+3)+"Z")),U.w=U.r-U.l,U.h=U.b-U.t,K.attr("d",Q+"M"+U.l+","+U.t+"v"+U.h+"h"+U.w+"v-"+U.h+"h-"+U.w+"Z"),J||(K.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),te.transition().style("opacity",1).duration(200),J=!0)}function d(t,e,n){var r,a,o;for(r=0;r<t.length;r++)a=t[r],a.fixedrange||(o=a.range,a.range=[o[0]+(o[1]-o[0])*e,o[0]+(o[1]-o[0])*n])}function g(e,n){return Math.min(U.h,U.w)<2*M.MINDRAG?(2===n?A():m(t),y(t)):(("xy"===W||"x"===W)&&d(O,U.l/I,U.r/I),("xy"===W||"y"===W)&&d(P,(j-U.b)/j,(j-U.t)/j),y(t),L(W),void(N&&t.data&&t._context.showTips&&(b.Lib.notifier("Double-click to<br>zoom back out","long"),N=!1)))}function v(e,n){var r=1===(i+l).length;if(e)L();else if(2!==n||r)if(1===n&&r){var a=i?P[0]:O[0],o="s"===i||"w"===l?0:1,s=a._name+".range["+o+"]",u=p(a,o),c="left",f="middle";if(a.fixedrange)return;i?(f="n"===i?"top":"bottom","right"===a.side&&(c="right")):"e"===l&&(c="right"),V.call(b.util.makeEditable,null,{immediate:!0,background:E.paper_bgcolor,text:String(u),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:c,verticalAlign:f}).on("edit",function(e){var n="category"===a.type?a.c2l(e):a.d2l(e);void 0!==n&&b.relayout(t,s,n)})}else m(t);else A()}function x(e){function n(t,e,n){if(!t.fixedrange){u(t.range);var r=t.range,a=r[0]+(r[1]-r[0])*e;t.range=[a+(r[0]-a)*n,a+(r[1]-a)*n]}}if(t._context.scrollZoom||E._enablescrollzoom){var r=t.querySelector(".plotly");if(!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(ne);var a=-e.deltaY;if(isFinite(a)||(a=e.wheelDelta/10),!isFinite(a))return void console.log("did not find wheel motion attributes",e);var o,s=Math.exp(-Math.min(Math.max(a,-20),20)/100),c=ae.draglayer.select(".nsewdrag").node().getBoundingClientRect(),f=(e.clientX-c.left)/c.width,d=ee[0]+ee[2]*f,h=(c.bottom-e.clientY)/c.height,g=ee[1]+ee[3]*(1-h);if(l){for(o=0;o<O.length;o++)n(O[o],f,s);ee[2]*=s,ee[0]=d-ee[2]*f}if(i){for(o=0;o<P.length;o++)n(P[o],h,s);ee[3]*=s,ee[1]=g-ee[3]*(1-h)}return T(ee),k(i,l),ne=setTimeout(function(){ee=[0,0,I,j],L()},re),b.Lib.pauseEvent(e)}}}function _(t,e){function n(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.fixedrange||(r.range=[r._r[0]-e/r._m,r._r[1]-e/r._m])}}function r(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function a(t,e,n){for(var a=1-e,o=0,i=0;i<t.length;i++){var l=t[i];l.fixedrange||(o=i,l.range[e]=l._r[a]+(l._r[e]-l._r[a])/r(n/l._length))}return t[o]._length*(t[o]._r[e]-t[o].range[e])/(t[o]._r[e]-t[o]._r[a])}return"ew"===R||"ns"===q?(R&&n(O,t),q&&n(P,e),T([R?-t:0,q?-e:0,I,j]),void k(q,R)):("w"===R?t=a(O,0,t):"e"===R?t=a(O,1,-t):R||(t=0),"n"===q?e=a(P,1,e):"s"===q?e=a(P,0,-e):q||(e=0),T(["w"===R?t:0,"n"===q?e:0,I-t,j-e]),void k(q,R))}function k(e,n){function r(t){for(o=0;o<t.length;o++)t[o].fixedrange||i.push(t[o]._id)}function a(r,a){var l;for(o=0;o<r.length;o++)l=r[o],(n&&-1!==i.indexOf(l.xref)||e&&-1!==i.indexOf(l.yref))&&a.draw(t,o)}var o,i=[];for(n&&r(O),e&&r(P),o=0;o<i.length;o++)b.Axes.doTicks(t,i[o],!0);a(E.annotations||[],b.Annotations),a(E.shapes||[],b.Shapes)}function A(){var e,n,r=t._context.doubleClick,a=(R?O:[]).concat(q?P:[]),o={};if("autosize"===r)for(n=0;n<a.length;n++)e=a[n],e.fixedrange||(o[e._name+".autorange"]=!0);else if("reset"===r)for(n=0;n<a.length;n++)e=a[n],o[e._name+".range"]=e._rangeInitial.slice();else if("reset+autosize"===r)for(n=0;n<a.length;n++)e=a[n],e.fixedrange||(void 0===e._rangeInitial||e.range[0]===e._rangeInitial[0]&&e.range[1]===e._rangeInitial[1]?o[e._name+".autorange"]=!0:o[e._name+".range"]=e._rangeInitial.slice());b.relayout(t,o)}function L(e){for(var n={},r=0;r<F.length;r++){var a=F[r];e&&-1===e.indexOf(a._id.charAt(0))||(a._r[0]!==a.range[0]&&(n[a._name+".range[0]"]=a.range[0]),a._r[1]!==a.range[1]&&(n[a._name+".range[1]"]=a.range[1]),a.range=a._r.slice())}T([0,0,I,j]),b.relayout(t,n)}function T(t){var e,n,r,a,o,s,u=E._plots,c=Object.keys(u);for(e=0;e<c.length;e++)if(n=u[c[e]],r=n.x(),a=n.y(),o=l&&-1!==O.indexOf(r)&&!r.fixedrange,s=i&&-1!==P.indexOf(a)&&!a.fixedrange,o||s){var f=[0,0,r._length,a._length];o&&(f[0]=t[0],f[2]=t[2]),s&&(f[1]=t[1],f[3]=t[3]),n.plot.attr("viewBox",f.join(" "))}}var z,S,C,E=t._fullLayout,D=[e].concat(i&&l?e.overlays:[]),O=[e.x()],P=[e.y()],I=O[0]._length,j=P[0]._length;for(z=1;z<D.length;z++)S=D[z].x(),C=D[z].y(),-1===O.indexOf(S)&&O.push(S),-1===P.indexOf(C)&&P.push(C);var F=O.concat(P),R=s(O,l),q=s(P,i),H=h(q+R,E.dragmode),B=i+l+"drag",V=e.draglayer.selectAll("."+B).data([0]);V.enter().append("rect").classed("drag",!0).classed(B,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id),V.call(b.Drawing.setRect,n,r,a,o).call(M.setCursor,H);var Z=V.node();if(!q&&!R)return Z.onmousedown=null,Z.style.pointerEvents=i+l==="nsew"?"all":"none",Z;var Y={element:Z,prepFn:function(t,e,n){i+l==="nsew"&&("zoom"===E.dragmode?!t.shiftKey:t.shiftKey)?(Y.moveFn=f,Y.doneFn=g,c(t,e,n)):(Y.moveFn=_,Y.doneFn=v)}};M.dragElement(Y);var X,G,U,$,Q,J,W,K,te,ee=[0,0,I,j],ne=null,re=300,ae=e.mainplot?E._plots[e.mainplot]:e;return i.length*l.length!==1&&(void 0!==Z.onwheel?Z.onwheel=x:void 0!==Z.onmousewheel&&(Z.onmousewheel=x)),Z}function p(t,e){var n,r=t.range[e],a=Math.abs(r-t.range[1-e]);return"date"===t.type?b.Lib.ms2DateTime(r,a):"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,_.format("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,_.format("."+String(n)+"g")(r))}function m(t){t._dragging=!0;var e=t._replotPending;t._replotPending=!1,setTimeout(function(){t._replotPending=e,v(t)},M.DBLCLICKDELAY)}function v(t){t._dragging=!1,t._replotPending&&b.plot(t)}function y(t){_.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function x(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e["z-index"]=999999999,e.background="none",document.body.appendChild(t),t}var b=t("./plotly"),_=t("d3"),w=t("tinycolor2"),k=t("./isnumeric"),M=e.exports={};M.layoutAttributes={dragmode:{valType:"enumerated",values:["zoom","pan","orbit","turntable"]},hovermode:{valType:"enumerated",values:["x","y","closest",!1]}},M.supplyLayoutDefaults=function(t,e,n){function r(n,r){return b.Lib.coerce(t,e,M.layoutAttributes,n,r)}var a,o;r("dragmode",e._hasGL3D?"turntable":"zoom"),e._hasCartesian?(a=e._isHoriz=M.isHoriz(n),o=a?"y":"x"):o="closest",r("hovermode",o)},M.isHoriz=function(t){var e,n,r=!0;for(e=0;e<t.length;e++)if(n=t[e],"h"!==n.orientation){r=!1;break}return r},M.DBLCLICKDELAY=600,M.MINDRAG=8,M.MINZOOM=20;var A=20;M.init=function(t){var e=t._fullLayout;if(!(e._hasGL3D||e._hasGeo||t._context.staticPlot)){var n=Object.keys(e._plots).sort(function(t,n){if((e._plots[t].mainplot&&!0)===(e._plots[n].mainplot&&!0)){var r=t.split("y"),a=n.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return e._plots[t].mainplot?1:-1});n.forEach(function(n){var r=e._plots[n];if(e._hasCartesian){var a=r.x(),o=r.y(),i=(a._linepositions[n]||[])[3],l=(o._linepositions[n]||[])[3];if(k(i)&&"top"===a.side&&(i-=A),k(l)&&"right"!==o.side&&(l-=A),!r.mainplot){var s=g(t,r,0,0,a._length,o._length,"ns","ew");$(s).mousemove(function(r){M.hover(t,r,n),e._lasthover=s,e._hoversubplot=n}).mouseout(function(){}).click(function(e){M.click(t,e)}),g(t,r,-A,-A,A,A,"n","w"),g(t,r,a._length,-A,A,A,"n","e"),g(t,r,-A,o._length,A,A,"s","w"),g(t,r,a._length,o._length,A,A,"s","e")}k(i)&&("free"===a.anchor&&(i-=e._size.h*(1-o.domain[1])),g(t,r,.1*a._length,i,.8*a._length,A,"","ew"),g(t,r,0,i,.1*a._length,A,"","w"),g(t,r,.9*a._length,i,.1*a._length,A,"","e")),k(l)&&("free"===o.anchor&&(l-=e._size.w*a.domain[0]),g(t,r,l,.1*o._length,A,.8*o._length,"ns",""),g(t,r,l,.9*o._length,A,.1*o._length,"s",""),g(t,r,l,0,A,.1*o._length,"n",""))}}),$(e._hoverlayer.node()).off("mousemove click").on("mousemove",function(n){n.target=e._lasthover,M.hover(t,n,e._hoversubplot)}).on("click",function(n){n.target=e._lasthover,M.click(t,n)}),e._hoverlayer.node().onmousedown=function(t){e._lasthover.onmousedown(t)}}};var L=60,T=Math.PI*L/180,z=1/Math.sin(T),S=Math.cos(T),C=Math.sin(T),E=6,D=3,O=13,P="Arial, sans-serif";M.MAXDIST=20;var I=100;M.hover=function(t,e,n){return"string"==typeof t&&(t=document.getElementById(t)),void 0===t._lastHoverTime&&(t._lastHoverTime=0),void 0!==t._hoverTimer&&(clearTimeout(t._hoverTimer),t._hoverTimer=void 0),Date.now()>t._lastHoverTime+I?(o(t,e,n),void(t._lastHoverTime=Date.now())):void(t._hoverTimer=setTimeout(function(){o(t,e,n),t._lastHoverTime=Date.now(),t._hoverTimer=void 0},I))},M.unhover=function(t,e,n){"string"==typeof t&&(t=document.getElementById(t)),t._hoverTimer&&(clearTimeout(t._hoverTimer),t._hoverTimer=void 0),f(t,e,n)},M.getDistanceFunction=function(t,e,n,r){return"closest"===t?r||a(e,n):"x"===t?e:n},M.getClosest=function(t,e,n){if(n.index!==!1)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var a=e(t[r]);a<n.distance&&(n.index=r,n.distance=a)}return n},M.loneHover=function(t,e){var n={color:t.color||b.Color.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},r=_.select(e.container),a=e.outerContainer?_.select(e.outerContainer):r,o={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||b.Color.background,container:r,outerContainer:a},i=l([n],o);return u(i,o.rotateLabels),i.node()},M.loneUnhover=function(t){var e=t instanceof _.selection?t:_.select(t);e.selectAll("g.hovertext").remove()},M.click=function(t,e){t._hoverdata&&e&&e.target&&($(t).trigger("plotly_click",{points:t._hoverdata}),e.stopImmediatePropagation())},M.modeBar=function(t){function e(){var e=new b.ModeBar({buttons:o,container:a._paperdiv.node(),Plotly:b,graphInfo:t});return a._privateplot&&_.select(e.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),e}function n(){b.Lib.removeElement(t.querySelector(".modebar"))
}var r,a=t._fullLayout||{};if(!t._context.displayModeBar)return n();var o=d(a);a._modebar||(n(),a._modebar=e()),r=a._modebar,r.hasButtons(o)||(a._modebar.cleanup(),a._modebar=e())};var N=!0;M.dragAlign=function(t,e,n,r,a){var o=(t-n)/(r-n),i=o+e/(r-n),l=(o+i)/2;return"left"===a||"bottom"===a?o:"center"===a||"middle"===a?l:"right"===a||"top"===a?i:2/3-l>o?o:i>4/3-l?i:l};var j=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];M.dragCursors=function(t,e,n,r){return t="left"===n?0:"center"===n?1:"right"===n?2:b.Lib.constrain(Math.floor(3*t),0,2),e="bottom"===r?0:"middle"===r?1:"top"===r?2:b.Lib.constrain(Math.floor(3*e),0,2),j[e][t]},M.dragElement=function(t){function e(e){var f=document.querySelector(".plugin-editable");return f&&_.select(f).on("blur").call(f),u._dragged=!1,u._dragging=!0,a=e.clientX,o=e.clientY,s=e.target,i=(new Date).getTime(),i-u._mouseDownTime<M.DBLCLICKDELAY?c+=1:(c=1,u._mouseDownTime=i),t.prepFn&&t.prepFn(e,a,o),l=x(),l.onmousemove=n,l.onmouseup=r,l.onmouseout=r,b.Lib.pauseEvent(e)}function n(e){var n=e.clientX-a,r=e.clientY-o;return Math.abs(n)<M.MINDRAG&&(n=0),Math.abs(r)<M.MINDRAG&&(r=0),(n||r)&&(u._dragged=!0),t.moveFn&&t.moveFn(n,r,u._dragged),b.Lib.pauseEvent(e)}function r(e){if(l.onmousemove=null,l.onmouseup=null,l.onmouseout=null,b.Lib.removeElement(l),!u._dragging)return void(u._dragged=!1);if(u._dragging=!1,(new Date).getTime()-u._mouseDownTime>M.DBLCLICKDELAY&&(c=Math.max(c-1,1)),t.doneFn&&t.doneFn(u._dragged,c),!u._dragged){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),s.dispatchEvent(n)}return v(u),u._dragged=!1,b.Lib.pauseEvent(e)}var a,o,i,l,s,u=b.Lib.getPlotDiv(t.element)||{},c=1;u._mouseDownTime||(u._mouseDownTime=0),t.element.onmousedown=e,t.element.style.pointerEvents="all"},M.setCursor=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)},M.inbox=function(t,e){return 0>t*e||0===t?M.MAXDIST*(.6-.3/Math.max(3,Math.abs(t-e))):1/0}},{"./isnumeric":21,"./plotly":29,d3:6,tinycolor2:9}],19:[function(t,e){"use strict";function n(t){return"object"==typeof t&&(t=t.type),t}function r(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){console.log(t)}}function a(t,e){t._fullLayout._paperdiv.style("background","white"),r(t,e)}function o(t,e){t._context||(t._context=N.Lib.extendFlat({},q.defaultConfig));var n=t._context;e&&(Object.keys(e).forEach(function(t){t in n&&(n[t]="setBackground"===t&&"opaque"===e[t]?a:e[t])}),t._fullLayout&&t._fullLayout._modebar&&delete t._fullLayout._modebar),n.staticPlot&&(n.workspace=!1,n.editable=!1,n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1)}function i(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)n.on("click",function(){$(t).trigger("plotly_beforeexport");var e=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=$('<div id="hiddenform" style="display:none;"><form action="'+e+'/external" method="post" target="_blank"><input type="text" name="data" /></form></div>').appendTo(t);return n.find("input").val(q.graphJson(t,!1,"keepdata")),n.find("form").submit(),n.remove(),$(t).trigger("plotly_afterexport"),!1});else{var r=window.location.pathname.split("/"),a=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+a})}}function l(t){var e,n,r,a,o,i=t._fullLayout,l=t._fullData,s=q.getSubplotIds(i,"gl3d");for(i._paperdiv.style({width:i.width+"px",height:i.height+"px"}),t._context.setBackground(t,i.paper_bgcolor),e=0;e<s.length;e++)n=s[e],r=q.getSubplotData(l,"gl3d",n),a=i[n]._scene,void 0===a&&(o={container:t.querySelector(".gl-container"),id:n,staticPlot:t._context.staticPlot,plot3dPixelRatio:t._context.plot3dPixelRatio},a=new N.Scene(o,i),i[n]._scene=a),a.plot(r,i,t.layout)}function s(t){var e,n,r,a,o=t._fullLayout,i=t._fullData,l=q.getSubplotIds(o,"geo");for(void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojsons:{}}),e=0;e<l.length;e++)n=l[e],r=q.getSubplotData(i,"geo",n),a=o[n]._geo,void 0===a&&(a=new N.Geo({id:n,container:o._geocontainer.node()},o),o[n]._geo=a),a.plot(r,o)}function u(t,e,n){var r=j.select(t).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var a=r.selectAll(".svg-container").data([0]);a.enter().append("div").classed("svg-container",!0).style("position","relative"),a.html(""),e&&(t.data=e),n&&(t.layout=n),N.micropolar.manager.fillLayout(t),"initial"===t._fullLayout.autosize&&t._context.autosizable&&(z(t,{}),t._fullLayout.autosize=n.autosize=!0),a.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=N.micropolar.manager.framework(t),t.framework({data:t.data,layout:t.layout},a.node()),t.framework.setUndoPoint();var o=t.framework.svg(),i=1,l=t._fullLayout.title;""!==l&&l||(i=0);var s="Click to enter title",u=function(){this.call(N.util.convertToTspans)},c=o.select(".title-group text").call(u);if(t._context.editable){c.attr({"data-unformatted":l}),l&&l!==s||(i=.2,c.attr({"data-unformatted":s}).text(s).style({opacity:i}).on("mouseover.opacity",function(){j.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){j.select(this).transition().duration(1e3).style("opacity",0)}));var f=function(){this.call(N.util.makeEditable).on("edit",function(e){t.framework({layout:{title:e}}),this.attr({"data-unformatted":e}).text(e).call(u),this.call(f)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(u)})};c.call(f)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),q.addLinks(t),Promise.resolve()}function c(t){var e,n;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1);var r=N.Axes.list({_fullLayout:t});for(e=0;e<r.length;e++){var a=r[e];a.anchor&&"free"!==a.anchor&&(a.anchor=N.Axes.cleanId(a.anchor)),a.overlaying&&(a.overlaying=N.Axes.cleanId(a.overlaying)),a.type||(a.isdate?a.type="date":a.islog?a.type="log":a.isdate===!1&&a.islog===!1&&(a.type="linear")),("withzero"===a.autorange||"tozero"===a.autorange)&&(a.autorange=!0,a.rangemode="tozero"),delete a.islog,delete a.isdate,delete a.categories,g(a,"domain")&&delete a.domain,void 0!==a.autotick&&(void 0===a.tickmode&&(a.tickmode=a.autotick?"auto":"linear"),delete a.autotick)}void 0===t.annotations||Array.isArray(t.annotations)||(console.log("annotations must be an array"),delete t.annotations);var o=(t.annotations||[]).length;for(e=0;o>e;e++){var i=t.annotations[e];i.ref&&("paper"===i.ref?(i.xref="paper",i.yref="paper"):"data"===i.ref&&(i.xref="x",i.yref="y"),delete i.ref),f(i,"xref"),f(i,"yref")}void 0===t.shapes||Array.isArray(t.shapes)||(console.log("shapes must be an array"),delete t.shapes);var l=(t.shapes||[]).length;for(e=0;l>e;e++){var s=t.shapes[e];f(s,"xref"),f(s,"yref")}var u=t.legend;u&&(u.x>3?(u.x=1.02,u.xanchor="left"):u.x<-2&&(u.x=-.02,u.xanchor="right"),u.y>3?(u.y=1.02,u.yanchor="bottom"):u.y<-2&&(u.y=-.02,u.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var c,d,h,p,m,v,y,x=q.getSubplotIds(t,"gl3d");for(e=0;e<x.length;e++)if(c=t[x[e]],d=c.cameraposition,Array.isArray(d)&&4===d[0].length){for(h=d[0],m=d[1],p=d[2],v=F([],h),y=[],n=0;3>n;++n)y[n]=m[e]+p*v[2+4*n];c.camera={eye:{x:y[0],y:y[1],z:y[2]},center:{x:m[0],y:m[1],z:m[2]},up:{x:v[1],y:v[5],z:v[9]}},delete c.cameraposition}return N.Lib.markTime("finished rest of cleanLayout, starting color"),N.Color.clean(t),N.Lib.markTime("finished cleanLayout color.clean"),t}function f(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=N.Axes.cleanId(n,r))}function d(t,e){for(var n=[],r=(t.concat(Array.isArray(e)?e:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid})),a=0;a<t.length;a++){var o=t[a];if(!("uid"in o)||-1!==n.indexOf(o.uid)){var i,l;for(l=0;100>l&&(i=N.Lib.randstr(r),-1!==n.indexOf(i));l++);o.uid=N.Lib.randstr(r),r.push(o.uid)}if(n.push(o.uid),"histogramy"===o.type&&"xbins"in o&&!("ybins"in o)&&(o.ybins=o.xbins,delete o.xbins),o.error_y&&"opacity"in o.error_y){var s=N.Color.defaults,u=o.error_y.color||(q.traceIs(o,"bar")?N.Color.defaultLine:s[a%s.length]);o.error_y.color=N.Color.addOpacity(N.Color.rgb(u),N.Color.opacity(u)*o.error_y.opacity),delete o.error_y.opacity}"bardir"in o&&("h"!==o.bardir||!q.traceIs(o,"bar")&&"histogram"!==o.type.substr(0,9)||(o.orientation="h",L(o)),delete o.bardir),"histogramy"===o.type&&L(o),("histogramx"===o.type||"histogramy"===o.type)&&(o.type="histogram"),"scl"in o&&(o.colorscale=o.scl,delete o.scl),"reversescl"in o&&(o.reversescale=o.reversescl,delete o.reversescl),o.xaxis&&(o.xaxis=N.Axes.cleanId(o.xaxis,"x")),o.yaxis&&(o.yaxis=N.Axes.cleanId(o.yaxis,"y")),o.scene&&(o.scene=N.Gl3dLayout.cleanId(o.scene)),q.traceIs(o,"pie")||(Array.isArray(o.textposition)?o.textposition=o.textposition.map(h):o.textposition&&(o.textposition=h(o.textposition))),g(o,"line")&&delete o.line,"marker"in o&&(g(o.marker,"line")&&delete o.marker.line,g(o,"marker")&&delete o.marker),N.Lib.markTime("finished rest of cleanData, starting color"),N.Color.clean(o),N.Lib.markTime("finished cleanData color.clean")}}function h(t){var e="middle",n="center";return-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right"),e+" "+n}function g(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}function p(t){if(t&&t.margin){var e,n=t.width,r=t.height,a=t.margin,o=n-(a.l+a.r),i=r-(a.t+a.b);0>o&&(e=(n-1)/(a.l+a.r),a.l=Math.floor(e*a.l),a.r=Math.floor(e*a.r)),0>i&&(e=(r-1)/(a.t+a.b),a.t=Math.floor(e*a.t),a.b=Math.floor(e*a.b))}}function m(t,e){for(var n,r=q.getSubplotIds(e,"gl3d"),a=0;a<r.length;a++)n=r[a],!t[n]&&e[n]._scene&&e[n]._scene.destroy()}function v(t,e){for(var n,r=Object.keys(e),a=0;a<r.length;++a){var o=r[a];if("_"===o.charAt(0)||"function"==typeof e[o]){if(o in t)continue;t[o]=e[o]}else if(Array.isArray(e[o])&&Array.isArray(t[o])&&e[o].length&&N.Lib.isPlainObject(e[o][0])){if(e[o].length!==t[o].length)throw new Error("relinkPrivateKeys needs equal length arrays");for(n=0;n<e[o].length;n++)v(t[o][n],e[o][n])}else N.Lib.isPlainObject(e[o])&&N.Lib.isPlainObject(t[o])&&(v(t[o],e[o]),Object.keys(t[o]).length||delete t[o])}}function y(t){var e,n,r,a,o=N.Axes.list(t),i=t._fullData,l=t._fullLayout,s=t.calcdata=new Array(i.length);for(t.firstscatter=!0,t.numboxes=0,t._hmpixcount=0,t._hmlumcount=0,l._piecolormap={},l._piedefaultcolorcount=0,e=0;e<o.length;e++)o[e]._categories=[];for(e=0;e<i.length;e++)n=i[e],r=n._module,a=[],r&&n.visible===!0&&r.calc&&(a=r.calc(t,n)),Array.isArray(a)&&a[0]||(a=[{x:!1,y:!1}]),a[0].t||(a[0].t={}),a[0].trace=n,N.Lib.markTime("done with calcdata for "+e),s[e]=a}function x(t,e){var n,r,a=e+1,o=[];for(n=0;n<t.length;n++)r=t[n],o.push(0>r?a+r:r);return o}function b(t,e,n){var r,a;for(r=0;r<e.length;r++){if(a=e[r],a!==parseInt(a,10))throw new Error("all values in "+n+" must be integers");if(a>=t.data.length||a<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(a,r+1)>-1||a>=0&&e.indexOf(-t.data.length+a)>-1||0>a&&e.indexOf(t.data.length+a)>-1)throw new Error("each index in "+n+" must be unique.")}}function _(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),b(t,e,"currentIndices"),"undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&b(t,n,"newIndices"),"undefined"!=typeof n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function w(t,e,n){var r,a;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if(a=e[r],"object"!=typeof a||Array.isArray(a)||null===a)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function k(t,e,n,r){var a=N.Lib.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!N.Lib.isPlainObject(e))throw new Error("update must be a key:value object");if("undefined"==typeof n)throw new Error("indices must be an integer or array of integers");b(t,n,"indices");for(var o in e){if(!Array.isArray(e[o])||e[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(!(!a||o in r&&Array.isArray(r[o])&&r[o].length===e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function M(t,e,n,r){var a,o,i,l,s,u=N.Lib.isPlainObject(r),c=[];Array.isArray(n)||(n=[n]),n=x(n,t.data.length-1);for(var f in e)for(var d=0;d<n.length;d++){if(a=t.data[n[d]],i=N.Lib.nestedProperty(a,f),o=i.get(),l=e[f][d],!Array.isArray(l))throw new Error("attribute: "+f+" index: "+d+" must be an array");if(!Array.isArray(o))throw new Error("cannot extend missing or non-array attribute: "+f);s=u?r[f][d]:r,R(s)||(s=-1),c.push({prop:i,target:o,insert:l,maxp:Math.floor(s)})}return c}function A(t,e,n,r,a,o){k(t,e,n,r);for(var i,l,s,u=M(t,e,n,r),c=[],f={},d={},h=0;h<u.length;h++)l=u[h].prop,s=u[h].maxp,i=a(u[h].target,u[h].insert),s>=0&&s<i.length&&(c=o(i,s)),s=u[h].target.length,l.set(i),Array.isArray(f[l.astr])||(f[l.astr]=[]),Array.isArray(d[l.astr])||(d[l.astr]=[]),f[l.astr].push(c),d[l.astr].push(s);return{update:f,maxPoints:d}}function L(t){var e;if(N.Lib.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);N.Lib.swapAttrs(t,["error_?.copy_ystyle"]),r&&N.Lib.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if(t.hoverinfo){var a=t.hoverinfo.split("+");for(e=0;e<a.length;e++)"x"===a[e]?a[e]="y":"y"===a[e]&&(a[e]="x");t.hoverinfo=a.join("+")}}function T(t){var e,n={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(n.left+=t[e].left||0,n.right+=t[e].right||0,n.bottom+=t[e].bottom||0,n.top+=t[e].top||0);return n}function z(t,e){var n,r,a=t._fullLayout,o=t._context;if($(t).trigger("plotly_autosize"),t._context.fillFrame)r=window.innerWidth,n=window.innerHeight,document.body.style.overflow="hidden";else if(R(o.frameMargins)&&o.frameMargins>0){var i=T(t._boundingBoxMargins),l=i.left+i.right,s=i.bottom+i.top,u=a._container.node().getBoundingClientRect(),c=1-2*o.frameMargins;r=Math.round(c*(u.width-l)),n=Math.round(c*(u.height-s))}else n=parseFloat(window.getComputedStyle(t).height)||a.height,r=parseFloat(window.getComputedStyle(t).width)||a.width;return Math.abs(a.width-r)>1||Math.abs(a.height-n)>1?(a.height=t.layout.height=n,a.width=t.layout.width=r):"initial"!==a.autosize&&(delete e.autosize,a.autosize=t.layout.autosize=!0),p(a),e}function S(t){var e;if("string"==typeof t){if(e=document.getElementById(t),null===e)throw new Error("No DOM element with id '"+t+"' exits on the page.");return e}if(null===t||void 0===t)throw new Error("DOM element provided is null or undefined");return t}function C(t){var e=j.select(t),n=t._fullLayout;if(n._hasGL3D&&N.Gl3dAxes.initAxes(t),n._container=e.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),"initial"===n.autosize&&(z(t,{}),n.autosize=!0,t.layout.autosize=!0),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([0]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._geocontainer=n._paperdiv.selectAll(".geo-container").data([0]),n._geocontainer.enter().append("div").classed("geo-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var r=[];j.selectAll("defs").each(function(){this.id&&r.push(this.id.split("-")[1])}),n._uid=N.Lib.randstr(r)}n._paperdiv.selectAll(".main-svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink"}),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._draggers=n._paper.append("g").classed("draglayer",!0);var a=N.Axes.getSubplots(t);E(t,a),n._hasCartesian&&D(t,a),n._shapelayer=n._paper.append("g").classed("shapelayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0),n._geoimages=n._paper.append("g").classed("geoimages",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),$(t).trigger("plotly_framework");var o=N.Lib.syncOrAsync([P,function(){return N.Axes.doTicks(t,"redraw")},N.Fx.init],t);return o&&o.then&&t._promises.push(o),o}function E(t,e){function n(e,n){return function(){return N.Axes.getFromId(t,e,n)}}for(var r,a,o=t._fullLayout._plots={},i=0;i<e.length;i++)r=e[i],a=o[r]={},a.id=r,a.x=n(r,"x"),a.y=n(r,"y"),a.xaxis=a.x(),a.yaxis=a.y()}function D(t,e){function n(t){t.append("g").classed("maplayer",!0),t.append("g").classed("barlayer",!0),t.append("g").classed("errorlayer",!0),t.append("g").classed("boxlayer",!0),t.append("g").classed("scatterlayer",!0)}var r=t._fullLayout,a=[];r._paper.selectAll("g.subplot").data(e).enter().append("g").classed("subplot",!0).each(function(o){var i=r._plots[o],l=i.plotgroup=j.select(this).classed(o,!0),s=i.xaxis,u=i.yaxis;i.overlays=[];var c=N.Axes.getFromId(t,s.overlaying)||s;c!==s&&c.overlaying&&(c=s,s.overlaying=!1);var f=N.Axes.getFromId(t,u.overlaying)||u;f!==u&&f.overlaying&&(f=u,u.overlaying=!1);var d=c._id+f._id;d!==o&&-1!==e.indexOf(d)?(i.mainplot=d,a.push(i),s.domain=c.domain.slice(),u.domain=f.domain.slice()):(i.bg=l.append("rect").style("stroke-width",0),i.gridlayer=l.append("g"),i.overgrid=l.append("g"),i.zerolinelayer=l.append("g"),i.overzero=l.append("g"),i.plot=l.append("svg").call(n),i.overplot=l.append("g"),i.xlines=l.append("path"),i.ylines=l.append("path"),i.overlines=l.append("g"),i.xaxislayer=l.append("g"),i.yaxislayer=l.append("g"),i.overaxes=l.append("g")),i.draglayer=r._draggers.append("g")}),a.forEach(function(t){var e=r._plots[t.mainplot];e.overlays.push(t),t.gridlayer=e.overgrid.append("g"),t.zerolinelayer=e.overzero.append("g"),t.plot=e.overplot.append("svg").call(n),t.xlines=e.overlines.append("path"),t.ylines=e.overlines.append("path"),t.xaxislayer=e.overaxes.append("g"),t.yaxislayer=e.overaxes.append("g")}),e.forEach(function(t){var e=r._plots[t];e.plot.attr("preserveAspectRatio","none").style("fill","none"),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)})}function O(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var n=e._size,r=JSON.stringify(n),a=Math.max(e.margin.l||0,0),o=Math.max(e.margin.r||0,0),i=Math.max(e.margin.t||0,0),l=Math.max(e.margin.b||0,0),s=e._pushmargin;return e.margin.autoexpand!==!1&&(s.base={l:{val:0,size:a},r:{val:1,size:o},t:{val:1,size:i},b:{val:0,size:l}},Object.keys(s).forEach(function(t){var n=s[t].l||{},r=s[t].b||{},u=n.val,c=n.size,f=r.val,d=r.size;Object.keys(s).forEach(function(t){if(R(c)&&s[t].r){var n=s[t].r.val,r=s[t].r.size;if(n>u){var h=(c*n+(r-e.width)*u)/(n-u),g=(r*(1-u)+(c-e.width)*(1-n))/(n-u);h>=0&&g>=0&&h+g>a+o&&(a=h,o=g)}}if(R(d)&&s[t].t){var p=s[t].t.val,m=s[t].t.size;if(p>f){var v=(d*p+(m-e.height)*f)/(p-f),y=(m*(1-f)+(d-e.height)*(1-p))/(p-f);v>=0&&y>=0&&v+y>l+i&&(l=v,i=y)}}})})),n.l=Math.round(a),n.r=Math.round(o),n.t=Math.round(i),n.b=Math.round(l),n.p=Math.round(e.margin.pad),n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b,t._replotting||"{}"===r||r===JSON.stringify(e._size)?void 0:N.plot(t)}function P(t){return N.Lib.syncOrAsync([O,I],t)}function I(t){var e,n=t._fullLayout,r=n._size,a=N.Axes.list(t);for(e=0;e<a.length;e++)a[e]._linepositions={};n._paperdiv.style({width:n.width+"px",height:n.height+"px"}).selectAll(".main-svg").call(N.Drawing.setSize,n.width,n.height),t._context.setBackground(t,n.paper_bgcolor);var o=[];return n._paper.selectAll("g.subplot").each(function(e){var a=n._plots[e],i=N.Axes.getFromId(t,e,"x"),l=N.Axes.getFromId(t,e,"y");i.setScale(),l.setScale(),a.bg&&a.bg.call(N.Drawing.setRect,i._offset-r.p,l._offset-r.p,i._length+2*r.p,l._length+2*r.p).call(N.Color.fill,n.plot_bgcolor),a.plot.call(N.Drawing.setRect,i._offset,l._offset,i._length,l._length);var s=N.Drawing.crispRound(t,i.linewidth,1),u=N.Drawing.crispRound(t,l.linewidth,1),c=r.p+u,f="M"+-c+",",d="h"+(i._length+2*c),h="free"===i.anchor&&-1===o.indexOf(i._id),g=r.h*(1-(i.position||0))+s/2%1,p=i.anchor===l._id&&(i.mirror||"top"!==i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[l._id+"bottom"],m=l._length+r.p+s/2,v=i.anchor===l._id&&(i.mirror||"top"===i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[l._id+"top"],y=-r.p-s/2,x=r.p,b=p?0:s,_=v?0:s,w=","+(-x-_)+"v"+(l._length+2*x+_+b),k="free"===l.anchor&&-1===o.indexOf(l._id),M=r.w*(l.position||0)+u/2%1,A=l.anchor===i._id&&(l.mirror||"right"!==l.side)||"all"===l.mirror||"allticks"===l.mirror||l.mirrors&&l.mirrors[i._id+"left"],L=-r.p-u/2,T=l.anchor===i._id&&(l.mirror||"right"===l.side)||"all"===l.mirror||"allticks"===l.mirror||l.mirrors&&l.mirrors[i._id+"right"],z=i._length+r.p+u/2;i._linepositions[e]=[p?m:void 0,v?y:void 0,h?g:void 0],i.anchor===l._id?i._linepositions[e][3]="top"===i.side?y:m:h&&(i._linepositions[e][3]=g),l._linepositions[e]=[A?L:void 0,T?z:void 0,k?M:void 0],l.anchor===i._id?l._linepositions[e][3]="right"===l.side?z:L:k&&(l._linepositions[e][3]=M);var S="translate("+i._offset+","+l._offset+")",C=S,E=S;h&&(C="translate("+i._offset+","+r.t+")",y+=l._offset-r.t,m+=l._offset-r.t),k&&(E="translate("+r.l+","+l._offset+")",L+=i._offset-r.l,z+=i._offset-r.l),a.xlines.attr("transform",C).attr("d",(p?f+m+d:"")+(v?f+y+d:"")+(h?f+g+d:"")||"M0,0").style("stroke-width",s+"px").call(N.Color.stroke,i.showline?i.linecolor:"rgba(0,0,0,0)"),a.ylines.attr("transform",E).attr("d",(A?"M"+L+w:"")+(T?"M"+z+w:"")+(k?"M"+M+w:"")||"M0,0").attr("stroke-width",u+"px").call(N.Color.stroke,l.showline?l.linecolor:"rgba(0,0,0,0)"),a.xaxislayer.attr("transform",C),a.yaxislayer.attr("transform",E),a.gridlayer.attr("transform",S),a.zerolinelayer.attr("transform",S),a.draglayer.attr("transform",S),h&&o.push(i._id),k&&o.push(l._id)}),N.Axes.makeClipPaths(t),q.titles(t,"gtitle"),N.Fx.modeBar(t),t._promises.length&&Promise.all(t._promises)}var N=t("./plotly"),j=t("d3"),F=t("gl-mat4/fromQuat"),R=t("./isnumeric"),q=e.exports={},H=q.modules={},B=q.allTypes=[],V=q.allCategories={},Z=q.subplotsRegistry={};q.register=function(t,e,n,r){if(H[e])throw new Error("type "+e+" already registered");for(var a={},o=0;o<n.length;o++)a[n[o]]=!0,V[n[o]]=!0;H[e]={module:t,categories:a},r&&Object.keys(r).length&&(H[e].meta=r),B.push(e)},q.getModule=function(t){if(void 0!==t.r)return console.log("Oops, tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",t),!1;var e=H[n(t)];return e?e.module:!1},q.traceIs=function(t,e){if(t=n(t),"various"===t)return!1;var r=H[t];return r||(void 0!==t&&console.warn("unrecognized trace type "+t),r=H[q.attributes.type.dflt]),!!r.categories[e]},q.registerSubplot=function(t,e,n,r){function a(t){return new RegExp(o+t+i)}if(Z[t])throw new Error("subplot "+t+" already registered");var o="^",i="([2-9]|[1-9][0-9]+)?$",l="cartesian"===t;Z[t]={attr:e,idRoot:n,attributes:r,attrRegex:l?{x:a(e[0]),y:a(e[1])}:a(e),idRegex:l?{x:a(n[0]),y:a(n[1])}:a(n)}},q.getSubplotIds=function(t,e){if(void 0===q.subplotsRegistry[e])return[];if("cartesian"===e)return Object.keys(t._plots);for(var n,r=q.subplotsRegistry[e].idRegex,a=Object.keys(t),o=[],i=0;i<a.length;i++)n=a[i],r.test(n)&&o.push(n);return o},q.getSubplotIdsInData=function(t,e){if(void 0===q.subplotsRegistry[e])return[];for(var n,r=q.subplotsRegistry[e].attr,a=[],o=0;o<t.length;o++)n=t[o],N.Plots.traceIs(n,e)&&-1===a.indexOf(n[r])&&a.push(n[r]);return a},q.getSubplotData=function(t,e,n){if(void 0===q.subplotsRegistry[e])return[];for(var r,a=q.subplotsRegistry[e].attr,o=[],i=0;i<t.length;i++)r=t[i],r[a]===n&&o.push(r);return o},q.redrawText=function(t){return t=S(t),t._fullLayout._hasGL3D||t.data&&t.data[0]&&t.data[0].r?void 0:new Promise(function(e){setTimeout(function(){N.Annotations.drawAll(t),N.Legend.draw(t),(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}),e(q.previousPromises(t))},300)})},q.defaultConfig={staticPlot:!1,workspace:!1,editable:!1,autosizable:!1,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showLink:!0,sendData:!0,linkText:"Edit chart",displayModeBar:"hover",displaylogo:!0,plot3dPixelRatio:2,setBackground:r},q.addLinks=function(t){var e=t._fullLayout,n=e._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans",Arial,sans-serif',"font-size":"12px",fill:N.Color.defaultLine,"pointer-events":"all"}).each(function(){var t=j.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)});var r=n.node(),a={y:e._paper.attr("height")-9};r&&r.offsetParent&&r.getComputedTextLength()>=e.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=e._paper.attr("width")-7),n.attr(a);var o=n.select(".js-link-to-tool"),l=n.select(".js-link-spacer"),s=n.select(".js-sourcelinks");N.Lib.showSources(t),t._context.showLink&&i(t,o),l.text(o.text()&&s.text()?" - ":"")},N.plot=function(t,e,n,r){function a(){var e,n,r,a=t.calcdata;for(N.Legend.draw(t),e=0;e<a.length;e++)n=a[e],r=n[0].trace,r.visible===!0&&r._module.colorbar?r._module.colorbar(t,n):q.autoMargin(t,"cb"+r.uid);return O(t),q.previousPromises(t)}function i(){var e=JSON.stringify(k._size)===L?[]:[a,P];return N.Lib.syncOrAsync(e.concat(N.Fx.init),t)}function f(){if(M){for(var e,n,r=q.getSubplotIds(k,"cartesian"),a=t._modules,o=0;o<r.length;o++){e=k._plots[r[o]];for(var i=0;i<a.length;i++)n=a[i],n.setPositions&&n.setPositions(t,e)}return N.Lib.markTime("done with bar/box adjustments"),N.ErrorBars&&(N.ErrorBars.calc(t),N.Lib.markTime("done Plotly.ErrorBars.calc")),N.Lib.syncOrAsync([N.Shapes.calcAutorange,N.Annotations.calcAutorange,h],t)}}function h(){for(var e=N.Axes.list(t,"",!0),n=0;n<e.length;n++)N.Axes.doAutoRange(e[n])}function g(){return N.Axes.doTicks(t,"redraw")}function p(){function e(t,e){var n,r,a,o=[];for(n=0;n<t.length;n++)r=t[n],a=r[0].trace,a.xaxis+a.yaxis===e&&o.push(r);return o}function n(t,e){var n,r,a,o=[];for(n=0;n<t.length;n++)r=t[n],a=r[0].trace,a._module===e&&a.visible===!0&&o.push(r);return o}var r,a,o,i,u,c,f,d,h,g,p,m=t.calcdata,v=q.getSubplotIds(k,"cartesian"),y=t._modules;for(t._fullLayout._hasGL3D&&l(t),t._fullLayout._hasGeo&&s(t),r=0;r<m.length;r++)o=m[r],i=o[0].trace,i.visible===!0&&i._module.colorbar||(u=i.uid,k._paper.selectAll(".hm"+u+",.contour"+u+",.cb"+u+",#clip"+u).remove());for(r=0;r<v.length;r++){for(c=v[r],f=t._fullLayout._plots[c],d=e(m,c),h=[],f.plot&&f.plot.selectAll("g.trace").remove(),a=0;a<y.length;a++){if(p=y[a],!p.plot)return;g=n(d,p),p.plot(t,f,g),N.Lib.markTime("done "+(g[0]&&g[0][0].trace.type)),g[0]&&g[0][0].trace&&q.traceIs(g[0][0].trace,"errorBarsOK")&&(h=h.concat(g))}t._fullLayout._hasCartesian&&N.ErrorBars&&(N.ErrorBars.plot(t,f,h),N.Lib.markTime("done ErrorBars"))}var x=n(m,N.Pie);return x.length&&N.Pie.plot(t,x),q.style(t),N.Lib.markTime("done plots.style"),N.Shapes.drawAll(t),N.Annotations.drawAll(t),q.addLinks(t),q.previousPromises(t)}function m(){t._replotting=!1,N.Lib.markTime("done plot"),$(t).trigger("plotly_afterplot")}N.Lib.markTime("in plot"),t=S(t);var v=$(t).triggerHandler("plotly_beforeplot",[e,n,r]);if(v!==!1){e||n||N.Lib.isPlotDiv(t)||console.log("Warning: calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),o(t,r),n||(n={}),j.select(t).classed("js-plotly-plot",!0),N.Drawing.makeTester(t),t._promises=[];var x=0===(t.data||[]).length&&Array.isArray(e);if(Array.isArray(e)&&(d(e,t.data),x?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),(!t.layout||x)&&(t.layout=c(n)),t._dragging)return void(t._replotPending=!0);if(t._replotPending=!1,q.supplyDefaults(t),e&&e[0]&&e[0].r)return u(t,e,n);t._replotting=!0;var b=t._fullData.length>0;if(b){var _=N.Axes.getSubplots(t).join(""),w=Object.keys(t._fullLayout._plots||{}).join("");(t.framework!==C||x||w!==_)&&(t.framework=C,C(t))}else x&&C(t);var k=t._fullLayout,M=!t.calcdata||t.calcdata.length!==(t.data||[]).length;M&&(y(t),(t._context.doubleClick!==!1||t._context.displayModeBar!==!1)&&N.Axes.saveRangeInitial(t));for(var A=0;A<t.calcdata.length;A++)t.calcdata[A][0].trace=t._fullData[A];var L=JSON.stringify(k._size),T=N.Lib.syncOrAsync([q.previousPromises,a,P,i,f,g,p],t,m);return T&&T.then?T:Promise.resolve()}},q.previousPromises=function(t){return(t._promises||[]).length?Promise.all(t._promises).then(function(){t._promises=[]}):void 0},N.redraw=function(t){return t=S(t),N.Lib.isPlotDiv(t)?(t.calcdata=void 0,N.plot(t).then(function(){$(t).trigger("plotly_redraw")})):void console.log("This element is not a Plotly Plot",t)},N.newPlot=function(t,e,n,r){t=S(t),N.Plots.purge(t),N.plot(t,e,n,r)},q.attributes={type:{valType:"enumerated",values:B,dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0},showlegend:{valType:"boolean",dflt:!0},legendgroup:{valType:"string",dflt:""},opacity:{valType:"number",min:0,max:1,dflt:1},name:{valType:"string"},uid:{valType:"string",dflt:""},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none"],dflt:"all"},stream:{token:{valType:"string",noBlank:!0,strict:!0},maxpoints:{valType:"number",min:0}}},q.supplyDefaults=function(t){var e,n,r,a,o,i,l=t._fullLayout||{},s=t._fullLayout={},u=t.layout||{},c=t._fullData||[],f=t._fullData=[],d=t.data||[],h=t._modules=[];for(q.supplyLayoutGlobalDefaults(u,s),s._dataLength=d.length,e=0;e<d.length;e++)n=d[e],r=q.supplyDataDefaults(n,e,s),f.push(r),q.traceIs(r,"cartesian")?s._hasCartesian=!0:q.traceIs(r,"gl3d")?s._hasGL3D=!0:q.traceIs(r,"geo")?s._hasGeo=!0:q.traceIs(r,"pie")?s._hasPie=!0:"r"in r&&(s._hasPolar=!0),a=r._module,a&&-1===h.indexOf(a)&&h.push(a);for(e=0;e<h.length;e++)a=h[e],a.cleanData&&a.cleanData(f);if(c.length===d.length)for(e=0;e<f.length;e++)v(f[e],c[e]);for(q.supplyLayoutModuleDefaults(u,s,f),m(s,l),v(s,l),O(t),o=N.Axes.list(t),e=0;e<o.length;e++)i=o[e],i._td=t,i.setScale();if((t.calcdata||[]).length===f.length)for(e=0;e<f.length;e++)n=f[e],(t.calcdata[e][0]||{}).trace=n},q.supplyDataDefaults=function(t,e,n){function r(e,n){return N.Lib.coerce(t,o,q.attributes,e,n)}function a(e,n){return q.traceIs(o,e)?N.Lib.coerce(t,o,q.subplotsRegistry[e].attributes,n):void 0}var o={},i=N.Color.defaults[e%N.Color.defaults.length];o.index=e;var l,s,u=r("visible");return r("type"),r("uid"),a("gl3d","scene"),a("geo","geo"),(u||l)&&(s=q.getModule(o),o._module=s),u&&r("hoverinfo",1===n._dataLength?"x+y+z+text":void 0),s&&u&&s.supplyDefaults(t,o,i,n),u&&(r("name","trace "+e),q.traceIs(o,"noOpacity")||r("opacity"),a("cartesian","xaxis"),a("cartesian","yaxis"),q.traceIs(o,"showLegend")&&(r("showlegend"),r("legendgroup"))),o._input=t,o
},q.fontAttrs={family:{valType:"string",noBlank:!0,strict:!0},size:{valType:"number",min:1},color:{valType:"color"}};var Y=N.Lib.extendFlat;q.layoutAttributes={font:{family:Y({},q.fontAttrs.family,{dflt:'"Open sans", verdana, arial, sans-serif'}),size:Y({},q.fontAttrs.size,{dflt:12}),color:Y({},q.fontAttrs.color,{dflt:N.Color.defaultLine})},title:{valType:"string",dflt:"Click to enter Plot title"},titlefont:Y({},q.fontAttrs,{}),autosize:{valType:"enumerated",values:[!0,!1,"initial"]},width:{valType:"number",min:10,dflt:700},height:{valType:"number",min:10,dflt:450},margin:{l:{valType:"number",min:0,dflt:80},r:{valType:"number",min:0,dflt:80},t:{valType:"number",min:0,dflt:100},b:{valType:"number",min:0,dflt:80},pad:{valType:"number",min:0,dflt:0},autoexpand:{valType:"boolean",dflt:!0}},paper_bgcolor:{valType:"color",dflt:N.Color.background},plot_bgcolor:{valType:"color",dflt:N.Color.background},separators:{valType:"string",dflt:".,"},hidesources:{valType:"boolean",dflt:!1},smith:{valType:"enumerated",values:[!1],dflt:!1},showlegend:{valType:"boolean"},_hasCartesian:{valType:"boolean",dflt:!1},_hasGL3D:{valType:"boolean",dflt:!1},_hasGeo:{valType:"boolean",dflt:!1},_hasPie:{valType:"boolean",dflt:!1},_composedModules:{"*":"Fx"},_nestedModules:{xaxis:"Axes",yaxis:"Axes",scene:"Gl3dLayout",geo:"GeoLayout",legend:"Legend",annotations:"Annotations",shapes:"Shapes"}},q.supplyLayoutGlobalDefaults=function(t,e){function n(n,r){return N.Lib.coerce(t,e,q.layoutAttributes,n,r)}var r=N.Lib.coerceFont(n,"font");n("title"),N.Lib.coerceFont(n,"titlefont",{family:r.family,size:Math.round(1.4*r.size),color:r.color});var a=n("autosize",t.width&&t.height?!1:"initial");n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),"initial"!==a&&p(e),n("paper_bgcolor"),n("separators"),n("hidesources"),n("smith"),n("_hasCartesian"),n("_hasGL3D"),n("_hasGeo"),n("_hasPie")},q.supplyLayoutModuleDefaults=function(t,e,n){var r,a,o=["Axes","Annotations","Shapes","Fx","Bars","Boxes","Gl3dLayout","GeoLayout","Pie","Legend"];for(r=0;r<o.length;r++)a=o[r],N[a]&&N[a].supplyLayoutDefaults(t,e,n)},q.purge=function(t){delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._modules,delete t._tester,delete t._testref,delete t._promises,delete t._redrawTimer,delete t._replotting,delete t.firstscatter,delete t.hmlumcount,delete t.hmpixcount,delete t.numboxes,delete t._hoverTimer,delete t._lastHoverTime},q.style=function(t){var e,n,r=N.ErrorBars?t._modules.concat(N.ErrorBars):t._modules;for(e=0;e<r.length;e++)n=r[e],n.style&&n.style(t)},N.extendTraces=function t(e,n,r,a){e=S(e);var o=A(e,n,r,a,function(t,e){return t.concat(e)},function(t,e){return t.splice(0,t.length-e)});N.redraw(e);var i=[e,o.update,r,o.maxPoints];N.Queue&&N.Queue.add(e,N.prependTraces,i,t,arguments)},N.prependTraces=function t(e,n,r,a){e=S(e);var o=A(e,n,r,a,function(t,e){return e.concat(t)},function(t,e){return t.splice(e,t.length)});N.redraw(e);var i=[e,o.update,r,o.maxPoints];N.Queue&&N.Queue.add(e,N.extendTraces,i,t,arguments)},N.addTraces=function t(e,n,r){e=S(e);var a,o=[],i=N.deleteTraces,l=t,s=[e,o],u=[e,n];for(w(e,n,r),Array.isArray(n)||(n=[n]),a=0;a<n.length;a+=1)e.data.push(n[a]);for(a=0;a<n.length;a++)o.push(-n.length+a);if("undefined"==typeof r)return N.redraw(e),void(N.Queue&&N.Queue.add(e,i,s,l,u));Array.isArray(r)||(r=[r]);try{_(e,o,r)}catch(t){throw e.data.splice(e.data.length-n.length,n.length),t}N.Queue&&N.Queue.startSequence(e),N.Queue&&N.Queue.add(e,i,s,l,u),N.moveTraces(e,o,r),N.Queue&&N.Queue.stopSequence(e)},N.deleteTraces=function t(e,n){e=S(e);var r,a,o=[],i=N.addTraces,l=t,s=[e,o,n],u=[e,n];if("undefined"==typeof n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),b(e,n,"indices"),n=x(n,e.data.length-1),n.sort().reverse(),r=0;r<n.length;r+=1)a=e.data.splice(n[r],1)[0],o.push(a);N.redraw(e),N.Queue&&N.Queue.add(e,i,s,l,u)},N.moveTraces=function t(e,n,r){e=S(e);var a,o=[],i=[],l=t,s=t,u=[e,r,n],c=[e,n,r];if(_(e,n,r),n=Array.isArray(n)?n:[n],"undefined"==typeof r)for(r=[],a=0;a<n.length;a++)r.push(-n.length+a);for(r=Array.isArray(r)?r:[r],n=x(n,e.data.length-1),r=x(r,e.data.length-1),a=0;a<e.data.length;a++)-1===n.indexOf(a)&&o.push(e.data[a]);for(a=0;a<n.length;a++)i.push({newIndex:r[a],trace:e.data[n[a]]});for(i.sort(function(t,e){return t.newIndex-e.newIndex}),a=0;a<i.length;a+=1)o.splice(i[a].newIndex,0,i[a].trace);e.data=o,N.redraw(e),N.Queue&&N.Queue.add(e,l,u,s,c)},N.restyle=function t(e,n,r,a){function o(){return a.map(function(){return void 0})}function i(t){var e=N.Axes.id2name(t);-1===g.indexOf(e)&&g.push(e)}function l(t){return"LAYOUT"+t+".autorange"}function s(t){return"LAYOUT"+t+".range"}function u(t,n,r){if(Array.isArray(t))return void t.forEach(function(t){u(t,n,r)});if(!(t in d)){var i;i="LAYOUT"===t.substr(0,6)?N.Lib.nestedProperty(e.layout,t.replace("LAYOUT","")):N.Lib.nestedProperty(e.data[a[r]],t),t in A||(A[t]=o()),void 0===A[t][r]&&(A[t][r]=i.get()),void 0!==n&&i.set(n)}}e=S(e);var c,f=e._fullLayout,d={};if("string"==typeof n)d[n]=r;else{if(!N.Lib.isPlainObject(n))return void console.log("restyle fail",n,r,a);d=n,void 0===a&&(a=r)}Object.keys(d).length&&(e.changed=!0),R(a)?a=[a]:Array.isArray(a)&&a.length||(a=e._fullData.map(function(t,e){return e}));var h=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull"];for(c=0;c<a.length;c++)if(q.traceIs(e._fullData[a[c]],"box")){h.push("name");break}var g,p=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean"],m=["zmin","zmax","zauto","marker.cmin","marker.cmax","marker.cauto","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],v=["type","x","y","x0","y0","orientation","xaxis","yaxis"],y=!1,x=!1,b=!1,_=!1,w=!1,k=!1,M={},A={},T={};(f._hasGL3D||f._hasGeo)&&(b=!0);var z=["zmin","zmax"],C=["xbins.start","xbins.end","xbins.size"],E=["ybins.start","ybins.end","ybins.size"],D=["contours.start","contours.end","contours.size"];for(var O in d){var P,I,j,F,H,B=d[O];if(M[O]=B,"LAYOUT"!==O.substr(0,6)){for(A[O]=o(),c=0;c<a.length;c++){if(P=e.data[a[c]],I=e._fullData[a[c]],j=N.Lib.nestedProperty(P,O),F=j.get(),H=Array.isArray(B)?B[c%B.length]:B,-1!==z.indexOf(O))u("zauto",!1,c);else if("colorscale"===O)u("autocolorscale",!1,c);else if("autocolorscale"===O)u("colorscale",void 0,c);else if("marker.colorscale"===O)u("marker.autocolorscale",!1,c);else if("marker.autocolorscale"===O)u("marker.colorscale",void 0,c);else if("zauto"===O)u(z,void 0,c);else if(-1!==C.indexOf(O))u("autobinx",!1,c);else if("autobinx"===O)u(C,void 0,c);else if(-1!==E.indexOf(O))u("autobiny",!1,c);else if("autobiny"===O)u(E,void 0,c);else if(-1!==D.indexOf(O))u("autocontour",!1,c);else if("autocontour"===O)u(D,void 0,c);else if(-1!==["x0","dx"].indexOf(O)&&I.x&&"scaled"!==I.xtype)u("xtype","scaled",c);else if(-1!==["y0","dy"].indexOf(O)&&I.y&&"scaled"!==I.ytype)u("ytype","scaled",c);else if("colorbar.thicknessmode"===O&&j.get()!==H&&-1!==["fraction","pixels"].indexOf(H)&&I.colorbar){var V=-1!==["top","bottom"].indexOf(I.colorbar.orient)?f.height-f.margin.t-f.margin.b:f.width-f.margin.l-f.margin.r;u("colorbar.thickness",I.colorbar.thickness*("fraction"===H?1/V:V),c)}else if("colorbar.lenmode"===O&&j.get()!==H&&-1!==["fraction","pixels"].indexOf(H)&&I.colorbar){var Z=-1!==["top","bottom"].indexOf(I.colorbar.orient)?f.width-f.margin.l-f.margin.r:f.height-f.margin.t-f.margin.b;u("colorbar.len",I.colorbar.len*("fraction"===H?1/Z:Z),c)}else"colorbar.tick0"===O||"colorbar.dtick"===O?u("colorbar.tickmode","linear",c):"colorbar.tickmode"===O&&u(["colorbar.tick0","colorbar.dtick"],void 0,c);if("type"===O&&"pie"===H!=("pie"===F)){var Y="x",X="y";"bar"!==H&&"bar"!==F||"h"!==P.orientation||(Y="y",X="x"),N.Lib.swapAttrs(P,["?","?src"],"labels",Y),N.Lib.swapAttrs(P,["d?","?0"],"label",Y),N.Lib.swapAttrs(P,["?","?src"],"values",X),"pie"===F?f._pielayer.selectAll("g.trace").remove():q.traceIs(P,"cartesian")&&(T[P.xaxis||"x"]=!0,T[P.yaxis||"y"]=!0)}A[O][c]=F;var G=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==G.indexOf(O)){if("orientation"===O){if(j.set(H),j.get()===A[O][c])continue}else"orientationaxes"===O&&(P.orientation={v:"h",h:"v"}[I.orientation]);L(P)}else j.set(H)}if(-1!==["swapxyaxes","orientationaxes"].indexOf(O)&&N.Axes.swap(e,a),"orientationaxes"===O){var U=N.Lib.nestedProperty(e.layout,"hovermode");"x"===U.get()?U.set("y"):"y"===U.get()&&U.set("x")}if(-1!==a.indexOf(0)&&-1!==v.indexOf(O)&&(N.Axes.clearTypes(e,a),y=!0),(-1===["autobinx","autobiny","zauto"].indexOf(O)||H!==!1)&&(w=!0),(-1!==["colorbar","line"].indexOf(j.parts[0])||"marker"===j.parts[0]&&"colorbar"===j.parts[1])&&(k=!0),-1!==h.indexOf(O)){if(-1!==["orientation","type"].indexOf(O)){for(g=[],c=0;c<a.length;c++){var Q=e.data[a[c]];q.traceIs(Q,"cartesian")&&(i(Q.xaxis||"x"),i(Q.yaxis||"y"),"type"===n&&u(["autobinx","autobiny"],!0,c))}u(g.map(l),!0,0),u(g.map(s),[0,1],0)}y=!0}else-1!==m.indexOf(O)?b=!0:-1!==p.indexOf(O)&&(x=!0)}else j=N.Lib.nestedProperty(e.layout,O.replace("LAYOUT","")),A[O]=[j.get()],j.set(Array.isArray(B)?B[0]:B),y=!0}var J=Object.keys(T);t:for(c=0;c<J.length;c++){for(var W=J[c],K=W.charAt(0),te=K+"axis",ee=0;ee<e.data.length;ee++)if(q.traceIs(e.data[ee],"cartesian")&&(e.data[ee][te]||K)===W)continue t;u("LAYOUT"+N.Axes.id2name(W),null,0)}N.Queue&&N.Queue.add(e,t,[e,A,a],t,[e,M,a]);var ne=!1;N.Axes.list(e).forEach(function(t){t.autorange&&(ne=!0)}),(y||_||x&&ne)&&(e.calcdata=void 0);var re;_?re=[function(){var t=e.layout;return e.layout=void 0,N.plot(e,"",t)}]:y||b||x?re=[N.plot]:(q.supplyDefaults(e),re=[q.previousPromises],w&&re.push(function(){var t,n,r;for(t=0;t<e.calcdata.length;t++)n=e.calcdata[t],r=(((n[0]||{}).trace||{})._module||{}).arraysToCalcdata,r&&r(n);return q.style(e),N.Legend.draw(e),q.previousPromises(e)}),k&&re.push(function(){return e.calcdata.forEach(function(t){if((t[0].t||{}).cb){var e=t[0].trace,n=t[0].t.cb;q.traceIs(e,"contour")&&n.line({width:e.contours.showlines!==!1?e.line.width:0,dash:e.line.dash,color:"line"===e.contours.coloring?n._opts.line.color:e.line.color}),q.traceIs(e,"markerColorscale")?n.options(e.marker.colorbar)():n.options(e.colorbar)()}}),q.previousPromises(e)}));var ae=N.Lib.syncOrAsync(re,e);return ae&&ae.then||(ae=Promise.resolve()),ae.then(function(){$(e).trigger("plotly_restyle",N.Lib.extendDeep([],[M,a]))})},N.relayout=function t(e,n,r){function a(t,e){if(Array.isArray(t))return void t.forEach(function(t){a(t,e)});if(!(t in h)){var n=N.Lib.nestedProperty(d,t);t in M||(M[t]=n.get()),void 0!==e&&n.set(e)}}function o(t,n){var r=N.Axes.id2name(t[n+"ref"]||n);return(e._fullLayout[r]||{}).autorange}if(e=S(e),!e.framework||!e.framework.isPolar){var i,l,s,u,c,f,d=e.layout,h={},g=!1,p=!1,m=!1,v=!1,y=!1,x=!1,b=!1;if("string"==typeof n)h[n]=r;else{if(!N.Lib.isPlainObject(n))return void console.log("relayout fail",n,r);h=n}Object.keys(h).length&&(e.changed=!0),s=Object.keys(h),l=N.Axes.list(e);for(var _=0;_<s.length;_++){if(0===s[_].indexOf("allaxes")){for(var w=0;w<l.length;w++)c=l[w]._id.substr(1),f=-1!==c.indexOf("scene")?c+".":"",i=s[_].replace("allaxes",f+l[w]._name),h[i]||(h[i]=h[s[_]]);delete h[s[_]]}s[_].match(/^annotations\[[0-9-]+\].ref$/)&&(u=h[s[_]].split("y"),h[s[_].replace("ref","xref")]=u[0],h[s[_].replace("ref","yref")]=2===u.length?"y"+u[1]:"paper",delete h[s[_]])}var k={},M={},A=["height","width"];for(var L in h){var T=N.Lib.nestedProperty(d,L),C=h[L],E=T.parts.length,D="string"==typeof T.parts[E-1]?E-1:E-2,O=T.parts[D],I=T.parts[D-1]+"."+O,j=T.parts.slice(0,D).join("."),F=N.Lib.nestedProperty(e.layout,j).get(),R=N.Lib.nestedProperty(e._fullLayout,j).get();if(k[L]=C,M[L]="reverse"===O?C:T.get(),-1!==A.indexOf(L)?a("autosize",!1):"autosize"===L?a(A,void 0):I.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?a(j+".autorange",!1):I.match(/^[xyz]axis[0-9]*\.autorange$/)?a([j+".range[0]",j+".range[1]"],void 0):I.match(/^aspectratio\.[xyz]$/)?a(T.parts[0]+".aspectmode","manual"):I.match(/^aspectmode$/)?a([j+".x",j+".y",j+".z"],void 0):"tick0"===O||"dtick"===O?a(j+".tickmode","linear"):"tickmode"===O&&a([j+".tick0",j+".dtick"],void 0),"type"===O&&"log"===R.type!=("log"===C)){var H=F;if(H&&H.range)if(R.autorange)"log"===C&&(H.range=H.range[1]>H.range[0]?[1,2]:[2,1]);else{var B=H.range[0],V=H.range[1];"log"===C?(0>=B&&0>=V&&a(j+".autorange",!0),0>=B?B=V/1e6:0>=V&&(V=B/1e6),a(j+".range[0]",Math.log(B)/Math.LN10),a(j+".range[1]",Math.log(V)/Math.LN10)):(a(j+".range[0]",Math.pow(10,B)),a(j+".range[1]",Math.pow(10,V)))}else a(j+".autorange",!0)}if("reverse"===O)F.range?F.range.reverse():(a(j+".autorange",!0),F.range=[1,0]),R.autorange?y=!0:v=!0;else if("annotations"===T.parts[0]||"shapes"===T.parts[0]){var Z=T.parts[1],Y=T.parts[0],X=d[Y]||[],G=N[N.Lib.titleCase(Y)],U=X[Z]||{};2===T.parts.length&&("add"===h[L]||N.Lib.isPlainObject(h[L])?M[L]="remove":"remove"===h[L]?-1===Z?(M[Y]=X,delete M[L]):M[L]=U:console.log("???",h)),!o(U,"x")&&!o(U,"y")||N.Lib.containsAny(L,["color","opacity","align","dash"])||(y=!0),G.draw(e,Z,T.parts.slice(2).join("."),h[L]),delete h[L]}else 0===T.parts[0].indexOf("scene")?v=!0:0===T.parts[0].indexOf("geo")?v=!0:"hiddenlabels"===L?y=!0:-1!==T.parts[0].indexOf("legend")?g=!0:-1!==L.indexOf("title")?p=!0:-1!==T.parts[0].indexOf("bgcolor")?m=!0:T.parts.length>1&&N.Lib.containsAny(T.parts[1],["tick","exponent","grid","zeroline"])?p=!0:-1!==L.indexOf(".linewidth")&&-1!==L.indexOf("axis")?p=m=!0:T.parts.length>1&&-1!==T.parts[1].indexOf("line")?m=!0:T.parts.length>1&&"mirror"===T.parts[1]?p=m=!0:"margin.pad"===L?p=m=!0:"margin"===T.parts[0]||"autorange"===T.parts[1]||"rangemode"===T.parts[1]||"type"===T.parts[1]||"domain"===T.parts[1]||L.match(/^(bar|box|font)/)?y=!0:"hovermode"===L?x=!0:"dragmode"===L?b=!0:-1===["hovermode","dragmode","height","width","autosize"].indexOf(L)&&(v=!0),T.set(C)}N.Queue&&N.Queue.add(e,t,[e,M],t,[e,k]),h.autosize&&(h=z(e,h)),(h.height||h.width||h.autosize)&&(y=!0);var Q=Object.keys(h),J=[q.previousPromises];if(v||y)J.push(function(){return e.layout=void 0,y&&(e.calcdata=void 0),N.plot(e,"",d)});else if(Q.length){q.supplyDefaults(e),g&&J.push(function(){return N.Legend.draw(e),q.previousPromises(e)}),m&&J.push(P),p&&J.push(function(){return N.Axes.doTicks(e,"redraw"),q.titles(e,"gtitle"),q.previousPromises(e)}),x&&N.Fx.modeBar(e);var W;if(b)for(W=q.getSubplotIds(e._fullLayout,"gl3d"),_=0;_<W.length;_++)c=e._fullLayout[W[_]]._scene,c.handleDragmode(e._fullLayout.dragmode)}var K=N.Lib.syncOrAsync(J,e);return K&&K.then||(K=Promise.resolve()),K.then(function(){$(e).trigger("plotly_relayout",N.Lib.extendDeep({},k))})}},q.resize=function(t){t&&"none"!==j.select(t).style("display")&&(t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if((t._fullLayout||{}).autosize){var e=t.changed;t.autoplay=!0,N.relayout(t,{autosize:!0}),t.changed=e}},100))},q.autoMargin=function(t,e,n){var r=t._fullLayout;if(r._pushmargin||(r._pushmargin={}),r.margin.autoexpand!==!1){if(n){var a=n.pad||12;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[e]={l:{val:n.x,size:n.l+a},r:{val:n.x,size:n.r+a},b:{val:n.y,size:n.b+a},t:{val:n.y,size:n.t+a}}}else delete r._pushmargin[e];t._replotting||O(t)}},q.titles=function(t,e){function n(t){N.Lib.syncOrAsync([r,a],t)}function r(e){return e.attr("transform",M?"rotate("+[M.rotate,s.x,s.y]+") translate(0, "+M.offset+")":null),e.style({"font-family":_,"font-size":j.round(w,2)+"px",fill:N.Color.rgb(k),opacity:z*N.Color.opacity(k)}).attr(s).call(N.util.convertToTspans).attr(s),e.selectAll("tspan.line").attr(s),q.previousPromises(t)}function a(t){var e=j.select(t.node().parentNode);if(L&&L.selection&&L.side&&E){e.attr("transform",null);var n=0,r={left:"right",right:"left",top:"bottom",bottom:"top"}[L.side],a=-1!==["left","top"].indexOf(L.side)?-1:1,o=R(L.pad)?L.pad:2,i=N.Drawing.bBox(e.node()),l={left:0,top:0,right:u.width,bottom:u.height},s=d?u.width:(l[L.side]-i[L.side])*("left"===L.side||"top"===L.side?-1:1);if(0>s?n=s:(i.left-=L.offsetLeft,i.right-=L.offsetLeft,i.top-=L.offsetTop,i.bottom-=L.offsetTop,L.selection.each(function(){var t=N.Drawing.bBox(this);N.Lib.bBoxIntersect(i,t,o)&&(n=Math.max(n,a*(t[L.side]-i[r])+o))}),n=Math.min(s,n)),n>0||0>s){var c={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[L.side];e.attr("transform","translate("+c+")")}}}function o(){z=0,C=!0,E=I,u._infolayer.select("."+e).attr({"data-unformatted":E}).text(E).on("mouseover.opacity",function(){j.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){j.select(this).transition().duration(1e3).style("opacity",0)})}if(t=S(t),!e)return N.Axes.listIds(t).forEach(function(e){q.titles(t,e+"title")}),void q.titles(t,"gtitle");var i,l,s,u=t._fullLayout,c=u._size,f=e.charAt(0),d="cb"===e.substr(1,2);if(d){var h=e.substr(3).replace("title","");t._fullData.some(function(e,n){return e.uid===h?(i=n,l=t.calcdata[n][0].t.cb.axis,!0):void 0})}else l=u[N.Axes.id2name(e.replace("title",""))]||u;var g,p,m,v,y,x=l===u?"title":l._name+".title",b=d?"colorscale":(l._id||f).toUpperCase()+" axis",_=l.titlefont.family,w=l.titlefont.size,k=l.titlefont.color,M="",A={},L={selection:j.select(t).selectAll("g."+l._id+"tick"),side:l.side},T=d?0:1.5;d?(L.offsetLeft=c.l,L.offsetTop=c.t):L.selection.size()&&(y=j.select(L.selection.node().parentNode).attr("transform").match(/translate\(([-\.\d]+),([-\.\d]+)\)/),y&&(L.offsetLeft=+y[1],L.offsetTop=+y[2])),d&&l.titleside?(g=c.l+l.titlex*c.w,p=c.t+(1-l.titley)*c.h+("top"===l.titleside?3+.75*w:-3-.25*w),s={x:g,y:p,"text-anchor":"start"},L={},e="h"+e):"x"===f?(m=l,v="free"===m.anchor?{_offset:c.t+(1-(m.position||0))*c.h,_length:0}:N.Axes.getFromId(t,m.anchor),g=m._offset+m._length/2,p=v._offset+("top"===m.side?-10-w*(T+(m.showticklabels?1:0)):v._length+10+w*(T+(m.showticklabels?1.5:.5))),s={x:g,y:p,"text-anchor":"middle"},L.side||(L.side="bottom")):"y"===f?(v=l,m="free"===v.anchor?{_offset:c.l+(v.position||0)*c.w,_length:0}:N.Axes.getFromId(t,v.anchor),p=v._offset+v._length/2,g=m._offset+("right"===v.side?m._length+10+w*(T+(v.showticklabels?1:.5)):-10-w*(T+(v.showticklabels?.5:0))),A={center:0},s={x:g,y:p,"text-anchor":"middle"},M={rotate:"-90",offset:0},L.side||(L.side="left")):(b="Plot",w=u.titlefont.size,g=u.width/2,p=u._size.t/2,s={x:g,y:p,"text-anchor":"middle"},L={});var z=1,C=!1,E=l.title.trim();""===E&&(z=0),E.match(/Click to enter .+ title/)&&(z=.2,C=!0);var D;if(d){D=j.select(t).selectAll("."+l._id.substr(1)+" .cbtitle");var O="h"===e.charAt(0)?e.substr(1):"h"+e;D.selectAll("."+O+",."+O+"-math-group").remove()}else D=u._infolayer.selectAll(".g-"+e).data([0]),D.enter().append("g").classed("g-"+e,!0);var P=D.selectAll("text").data([0]);P.enter().append("text"),P.text(E).attr("class",e),P.attr({"data-unformatted":E}).call(n);var I="Click to enter "+b.replace(/\d+/,"")+" title";t._context.editable?(E||o(),P.call(N.util.makeEditable).on("edit",function(e){if(d){var n=t._fullData[i];q.traceIs(n,"markerColorscale")?N.restyle(t,"marker.colorbar.title",e,i):N.restyle(t,"colorbar.title",e,i)}else N.relayout(t,x,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(n)}).on("input",function(t){this.text(t||" ").attr(s).selectAll("tspan.line").attr(s)})):(!E||E.match(/Click to enter .+ title/))&&P.remove(),P.classed("js-placeholder",C)},q.graphJson=function(t,e,n,r,a){function o(t){if("function"==typeof t)return null;if(N.Lib.isPlainObject(t)){var e,r,a={};for(e in t)if("function"!=typeof t[e]&&-1===["_","["].indexOf(e.charAt(0))){if("keepdata"===n){if("src"===e.substr(e.length-3))continue}else if("keepstream"===n){if(r=t[e+"src"],"string"==typeof r&&r.indexOf(":")>0&&!N.Lib.isPlainObject(t.stream))continue}else if("keepall"!==n&&(r=t[e+"src"],"string"==typeof r&&r.indexOf(":")>0))continue;a[e]=o(t[e])}return a}return Array.isArray(t)?t.map(o):t&&t.getTime?N.Lib.ms2DateTime(t):t}t=S(t),(a&&e&&!t._fullData||a&&!e&&!t._fullLayout)&&q.supplyDefaults(t);var i=a?t._fullData:t.data,l=a?t._fullLayout:t.layout,s={data:(i||[]).map(function(t){var n=o(t);return e&&delete n.fit,n})};return e||(s.layout=o(l)),t.framework&&t.framework.isPolar&&(s=t.framework.getConfig()),"object"===r?s:JSON.stringify(s)}},{"./isnumeric":21,"./plotly":29,d3:6,"gl-mat4/fromQuat":8}],20:[function(t,e){"use strict";function n(t,e){var n=e(t),r=n?e(t+"type","array"):"scaled";return"scaled"===r&&(e(t+"0"),e("d"+t)),n}function r(t){for(var e,n=!0,r=!1,a=!1,o=0;o<t.length;o++){if(e=t[o],!Array.isArray(e)){n=!1;break}e.length>0&&(r=!0);for(var i=0;i<e.length;i++)if(g(e[i])){a=!0;break}}return n&&r&&a}function a(t){return g(t)?+t:void 0}function o(t,e,n,r,a,o){var i,l,s,u=[],c=f.Plots.traceIs(t,"contour"),d=f.Plots.traceIs(t,"histogram");if(Array.isArray(e)&&!d&&"category"!==o.type){e=e.map(o.d2c);var h=e.length;if(!(a>=h))return c?e.slice(0,a):e.slice(0,a+1);if(c)u=e.slice(0,a);else if(1===a)u=[e[0]-.5,e[0]+.5];else{for(u=[1.5*e[0]-.5*e[1]],s=1;h>s;s++)u.push(.5*(e[s-1]+e[s]));u.push(1.5*e[h-1]-.5*e[h-2])}if(a>h){var g=u[u.length-1],p=g-u[u.length-2];for(s=h;a>s;s++)g+=p,u.push(g)}}else for(l=r||1,i=void 0===n?0:d||"category"===o.type?n:o.d2c(n),s=c?0:-.5;a>s;s++)u.push(i+l*s);return u}function i(t){return.5-.25*Math.min(1,.5*t)}function l(t,e,n){var r,a,o=1;if(Array.isArray(n))for(r=0;r<e.length;r++)a=e[r],t[a[0]][a[1]]=n[a[0]][a[1]];else u(t,e);for(r=0;r<e.length&&!(e[r][2]<4);r++);for(e=e.slice(r),r=0;100>r&&o>y;r++)o=u(t,e,i(o));return o>y&&console.log("interp2d didn't converge quickly",o),t}function s(t){var e,n,r,a,o,i,l,s,u=[],c={},f=[],d=t[0],h=[],g=[0,0,0],m=p.maxRowLength(t);for(n=0;n<t.length;n++)for(e=h,h=d,d=t[n+1]||[],r=0;m>r;r++)void 0===h[r]&&(i=(void 0!==h[r-1]?1:0)+(void 0!==h[r+1]?1:0)+(void 0!==e[r]?1:0)+(void 0!==d[r]?1:0),i?(0===n&&i++,0===r&&i++,n===t.length-1&&i++,r===h.length-1&&i++,4>i&&(c[[n,r]]=[n,r,i]),u.push([n,r,i])):f.push([n,r]));for(;f.length;){for(l={},s=!1,o=f.length-1;o>=0;o--)a=f[o],n=a[0],r=a[1],i=((c[[n-1,r]]||g)[2]+(c[[n+1,r]]||g)[2]+(c[[n,r-1]]||g)[2]+(c[[n,r+1]]||g)[2])/20,i&&(l[a]=[n,r,i],f.splice(o,1),s=!0);if(!s)throw"findEmpties iterated with no new neighbors";for(a in l)c[a]=l[a],u.push(l[a])}return u.sort(function(t,e){return e[2]-t[2]})}function u(t,e,n){var r,a,o,i,l,s,u,c,f,d,h,g,p,m=0;for(i=0;i<e.length;i++){for(r=e[i],a=r[0],o=r[1],h=t[a][o],d=0,f=0,l=0;4>l;l++)s=x[l],u=t[a+s[0]],u&&(c=u[o+s[1]],void 0!==c&&(0===d?g=p=c:(g=Math.min(g,c),p=Math.max(p,c)),f++,d+=c));if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";t[a][o]=d/f,void 0===h?4>f&&(m=1):(t[a][o]=(1+n)*t[a][o]-n*h,p>g&&(m=Math.max(m,Math.abs(t[a][o]-h)/(p-g))))}return m}function c(t,e,n){function r(t,e){var n=e.length-2,r=f.Lib.constrain(f.Lib.findBin(t,e),0,n),a=e[r],o=e[r+1],i=f.Lib.constrain(r+(t-a)/(o-a)-.5,0,n),l=Math.round(i),s=Math.abs(i-l);return i&&i!==n&&s?{bin0:l,frac:s,bin1:Math.round(l+s/(i-l))}:{bin0:l,bin1:l,frac:0}}function a(t,e){if(void 0!==t){var n=Y((t-A)/(L-A));return n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),ne+=e,re+=n[0]*e,ae+=n[1]*e,oe+=n[2]*e,n}return[0,0,0,0]}function o(t,e,n){t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=Math.round(255*n[3])}function i(t,e,n,r){var o=t[n.bin0];if(void 0===o)return a(void 0,1);var i,l=t[n.bin1],s=e[n.bin0],u=e[n.bin1],c=l-o||0,f=s-o||0;return i=void 0===l?void 0===u?0:void 0===s?2*(u-o):2*(2*u-s-o)/3:void 0===u?void 0===s?0:2*(2*o-l-s)/3:void 0===s?2*(2*u-l-o)/3:u+o-l-s,a(o+n.frac*c+r.frac*(f+n.frac*i))}f.Lib.markTime("in Heatmap.plot");var l=n[0].trace,s=l.uid,u=e.x(),c=e.y(),g=t._fullLayout,m="hm"+s,v="cb"+s;if(g._paper.selectAll(".contour"+s).remove(),l.visible!==!0)return g._paper.selectAll("."+m).remove(),void g._paper.selectAll("."+v).remove();var y,x,b,_,w,k,M=n[0].z,A=l.zmin,L=l.zmax,T=f.Colorscale.getScale(l.colorscale),z=n[0].x,S=n[0].y,C=f.Plots.traceIs(l,"contour"),E=C?"best":l.zsmooth,D=M.length,O=p.maxRowLength(M),P=!1,I=!1;for(k=0;void 0===y&&k<z.length-1;)y=u.c2p(z[k]),k++;for(k=z.length-1;void 0===x&&k>0;)x=u.c2p(z[k]),k--;for(y>x&&(b=x,x=y,y=b,P=!0),k=0;void 0===_&&k<S.length-1;)_=c.c2p(S[k]),k++;for(k=S.length-1;void 0===w&&k>0;)w=c.c2p(S[k]),k--;if(_>w&&(b=_,_=w,w=b,I=!0),C&&(z=n[0].xfill,S=n[0].yfill),"fast"!==E){var N="best"===E?0:.5;y=Math.max(-N*u._length,y),x=Math.min((1+N)*u._length,x),_=Math.max(-N*c._length,_),w=Math.min((1+N)*c._length,w)}var j=Math.round(x-y),F=Math.round(w-_);if(!(0>=j||0>=F)){var R,q;"fast"===E?(R=O,q=D):(R=j,q=F);var H=document.createElement("canvas");H.width=R,H.height=q;var B,V,Z=H.getContext("2d"),Y=d.scale.linear().domain(T.map(function(t){return t[0]})).range(T.map(function(t){var e=h(t[1]).toRgb();return[e.r,e.g,e.b,e.a]})).clamp(!0);"fast"===E?(B=P?function(t){return O-1-t}:f.Lib.identity,V=I?function(t){return D-1-t}:f.Lib.identity):(B=function(t){return f.Lib.constrain(Math.round(u.c2p(z[t])-y),0,j)},V=function(t){return f.Lib.constrain(Math.round(c.c2p(S[t])-_),0,F)}),f.Lib.markTime("done init png");var X,G,U,$,Q,J,W=V(0),K=[W,W],te=P?0:1,ee=I?0:1,ne=0,re=0,ae=0,oe=0;if(E){var ie=0,le=new Uint8Array(j*F*4);if("best"===E){var se,ue,ce,fe=new Array(z.length),de=new Array(S.length),he=new Array(j);for(k=0;k<z.length;k++)fe[k]=Math.round(u.c2p(z[k])-y);for(k=0;k<S.length;k++)de[k]=Math.round(c.c2p(S[k])-_);for(k=0;j>k;k++)he[k]=r(k,fe);for(G=0;F>G;G++)for(se=r(G,de),ue=M[se.bin0],ce=M[se.bin1],k=0;j>k;k++,ie+=4)J=i(ue,ce,he[k],se),o(le,ie,J)}else for(G=0;D>G;G++)for(Q=M[G],K=V(G),k=0;O>k;k++)J=a(Q[k],1),ie=4*(K*j+B(k)),o(le,ie,J);var ge=Z.createImageData(j,F);ge.data.set(le),Z.putImageData(ge,0,0)}else for(G=0;D>G;G++)if(Q=M[G],K.reverse(),K[ee]=V(G+1),K[0]!==K[1]&&void 0!==K[0]&&void 0!==K[1])for(U=B(0),X=[U,U],k=0;O>k;k++)X.reverse(),X[te]=B(k+1),X[0]!==X[1]&&void 0!==X[0]&&void 0!==X[1]&&($=Q[k],J=a($,(X[1]-X[0])*(K[1]-K[0])),Z.fillStyle="rgba("+J.join(",")+")",Z.fillRect(X[0],K[0],X[1]-X[0],K[1]-K[0]));f.Lib.markTime("done filling png"),re=Math.round(re/ne),ae=Math.round(ae/ne),oe=Math.round(oe/ne);var pe=h("rgb("+re+","+ae+","+oe+")");t._hmpixcount=(t._hmpixcount||0)+ne,t._hmlumcount=(t._hmlumcount||0)+ne*pe.getLuminance(),g._paper.selectAll("."+m).remove(),e.plot.select(".maplayer").append("svg:image").classed(m,!0).datum(n[0]).attr({xmlns:"http://www.w3.org/2000/svg","xlink:xlink:href":H.toDataURL("image/png"),height:F,width:j,x:y,y:_,preserveAspectRatio:"none"}),f.Lib.markTime("done showing png")}}var f=t("./plotly"),d=t("d3"),h=t("tinycolor2"),g=t("./isnumeric"),p=e.exports={};f.Plots.register(p,"heatmap",["cartesian","2dMap"],{});var m=f.Scatter.attributes,v=f.Colorbar.traceColorbarAttributes;p.attributes={z:{valType:"data_array"},x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,text:{valType:"data_array"},transpose:{valType:"boolean",dflt:!1},xtype:{valType:"enumerated",values:["array","scaled"]},ytype:{valType:"enumerated",values:["array","scaled"]},zauto:v.zauto,zmin:v.zmin,zmax:v.zmax,colorscale:v.colorscale,autocolorscale:f.Lib.extendFlat({},v.autocolorscale,{dflt:!1}),reversescale:v.reversescale,showscale:v.showscale,zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1},connectgaps:{valType:"boolean",dflt:!1},_nestedModules:{colorbar:"Colorbar"},_composedModules:{histogram2d:"Histogram",histogram2dcontour:"Histogram"}},p.supplyDefaults=function(t,e,n,r){function a(n,r){return f.Lib.coerce(t,e,p.attributes,n,r)}var o=f.Plots.traceIs(e,"contour");if(o||a("zsmooth"),f.Plots.traceIs(e,"histogram")){if(f.Histogram.supplyDefaults(t,e),e.visible===!1)return}else{var i=p.handleXYZDefaults(t,e,a);if(!i)return void(e.visible=!1);a("text");var l=p.hasColumns(e);l||a("transpose"),a("connectgaps",l&&(o||e.zsmooth!==!1))}o&&"none"===(e.contours||{}).coloring||f.Colorscale.handleDefaults(t,e,r,a,{prefix:"",cLetter:"z"})},p.handleXYZDefaults=function(t,e,a){var o,i,l=a("z");if(void 0===l||!l.length)return 0;if(p.hasColumns(t)){if(o=a("x"),i=a("y"),!o||!i)return 0}else if(o=n("x",a),i=n("y",a),!r(l))return 0;return e.z.length},p.hasColumns=function(t){return!Array.isArray(t.z[0])},p.convertColumnXYZ=function(t,e,n){var r,a=t.x.slice(),o=t.y.slice(),i=t.z,l=t.text,s=Math.min(a.length,o.length,i.length),u=void 0!==l&&!Array.isArray(l[0]);for(s<a.length&&(a=a.slice(0,s)),s<o.length&&(o=o.slice(0,s)),r=0;s>r;r++)a[r]=e.d2c(a[r]),o[r]=n.d2c(o[r]);var c,d,h,g=f.Lib.distinctVals(a),p=g.vals,m=f.Lib.distinctVals(o),v=m.vals,y=f.Lib.init2dArray(v.length,p.length);for(u&&(h=f.Lib.init2dArray(v.length,p.length)),r=0;s>r;r++)c=f.Lib.findBin(a[r]+g.minDiff/2,p),d=f.Lib.findBin(o[r]+m.minDiff/2,v),y[d][c]=i[r],u&&(h[d][c]=l[r]);t.x=p,t.y=v,t.z=y,u&&(t.text=h)},p.calc=function(t,e){function n(t){b=e._input.zsmooth=e.zsmooth=!1,f.Lib.notifier("cannot fast-zsmooth: "+t)}f.Lib.markTime("start convert x&y");var r,a,i,u,c,d,h,g,m=f.Axes.getFromId(t,e.xaxis||"x"),v=f.Axes.getFromId(t,e.yaxis||"y"),y=f.Plots.traceIs(e,"contour"),x=f.Plots.traceIs(e,"histogram"),b=y?"best":e.zsmooth;if(m._minDtick=0,v._minDtick=0,f.Lib.markTime("done convert x&y"),x){var _=f.Histogram.calc2d(t,e);r=_.x,a=_.x0,i=_.dx,u=_.y,c=_.y0,d=_.dy,h=_.z}else p.hasColumns(e)&&p.convertColumnXYZ(e,m,v),r=e.x?m.makeCalcdata(e,"x"):[],u=e.y?v.makeCalcdata(e,"y"):[],a=e.x0||0,i=e.dx||1,c=e.y0||0,d=e.dy||1,h=p.cleanZ(e),(y||e.connectgaps)&&(e._emptypoints=s(h),e._interpz=l(h,e._emptypoints,e._interpz));if("fast"===b)if("log"===m.type||"log"===v.type)n("log axis found");else if(!x){if(r.length){var w=(r[r.length-1]-r[0])/(r.length-1),k=Math.abs(w/100);for(g=0;g<r.length-1;g++)if(Math.abs(r[g+1]-r[g]-w)>k){n("x scale is not linear");break}}if(u.length&&"fast"===b){var M=(u[u.length-1]-u[0])/(u.length-1),A=Math.abs(M/100);for(g=0;g<u.length-1;g++)if(Math.abs(u[g+1]-u[g]-M)>A){n("y scale is not linear");break}}}var L=p.maxRowLength(h),T="scaled"===e.xtype?"":e.x,z=o(e,T,a,i,L,m),S="scaled"===e.ytype?"":e.y,C=o(e,S,c,d,h.length,v);f.Axes.expand(m,z),f.Axes.expand(v,C);var E={x:z,y:C,z:h};if(f.Colorscale.calc(e,h,"","z"),y&&e.contours&&"heatmap"===e.contours.coloring){var D="contour"===e.type?"heatmap":"histogram2d";E.xfill=o(D,T,a,i,L,m),E.yfill=o(D,S,c,d,h.length,v)}return[E]},p.cleanZ=function(t){var e,n,r,o,i,l,s=t.z;if(t.transpose){for(e=0,i=0;i<s.length;i++)e=Math.max(e,s[i].length);if(0===e)return!1;r=function(t){return t.length},o=function(t,e,n){return t[n][e]}}else e=s.length,r=function(t,e){return t[e].length},o=function(t,e,n){return t[e][n]};var u=new Array(e);for(i=0;e>i;i++)for(n=r(s,i),u[i]=new Array(n),l=0;n>l;l++)u[i][l]=a(o(s,i,l));
return u};var y=.01,x=[[-1,0],[1,0],[0,-1],[0,1]];p.maxRowLength=function(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n].length);return e},p.plot=function(t,e,n){n.forEach(function(n){c(t,e,n)})},p.colorbar=f.Colorbar.traceColorbar,p.style=function(t){d.select(t).selectAll("image").style("opacity",function(t){return t.trace.opacity})},p.hoverPoints=function(t,e,n,r,a){if(!(t.distance<f.Fx.MAXDIST)){var o,i,l,s,u=t.cd[0],c=u.trace,d=t.xa,h=t.ya,g=u.x,p=u.y,m=u.z,v=u.zmask,y=g,x=p;if(t.index!==!1){try{l=Math.round(t.index[1]),s=Math.round(t.index[0])}catch(e){return void console.log("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index)}if(0>l||l>=m[0].length||0>s||s>m.length)return}else{if(f.Fx.inbox(e-g[0],e-g[g.length-1])>f.Fx.MAXDIST||f.Fx.inbox(n-p[0],n-p[p.length-1])>f.Fx.MAXDIST)return;if(a){y=[2*g[0]-g[1]];for(var b=1;b<g.length;b++)y.push((g[b]+g[b-1])/2);for(y.push([2*g[g.length-1]-g[g.length-2]]),x=[2*p[0]-p[1]],b=1;b<p.length;b++)x.push((p[b]+p[b-1])/2);x.push([2*p[p.length-1]-p[p.length-2]])}l=Math.max(0,Math.min(y.length-2,f.Lib.findBin(e,y))),s=Math.max(0,Math.min(x.length-2,f.Lib.findBin(n,x)))}var _=d.c2p(g[l]),w=d.c2p(g[l+1]),k=h.c2p(p[s]),M=h.c2p(p[s+1]);a?(w=_,o=g[l],M=k,i=p[s]):(o=(g[l]+g[l+1])/2,i=(p[s]+p[s+1])/2,c.zsmooth&&(_=w=(_+w)/2,k=M=(k+M)/2));var A=m[s][l];v&&!v[s][l]&&(A=void 0);var L;return Array.isArray(c.text)&&Array.isArray(c.text[s])&&(L=c.text[s][l]),[f.Lib.extendFlat(t,{index:[s,l],distance:f.Fx.MAXDIST+10,x0:_,x1:w,y0:k,y1:M,xLabelVal:o,yLabelVal:i,zLabelVal:A,text:L})]}}},{"./isnumeric":21,"./plotly":29,d3:6,tinycolor2:9}],21:[function(t,e){"use strict";function n(t){for(var e,n=t.length,r=0;n>r;r++)if(e=t.charCodeAt(r),(9>e||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(8192>e||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}e.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(t=+t,0===t&&n(r))return!1}else if("number"!==e)return!1;return 1>t-t}},{}],22:[function(t,e){"use strict";function n(t){return t.visible&&o.Plots.traceIs(t,"showLegend")}function r(t){return-1!==(t.traceorder||"").indexOf("grouped")}function a(t){return-1!==(t.traceorder||"").indexOf("reversed")}var o=t("./plotly"),i=t("d3"),l=e.exports={};l.layoutAttributes={bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.Color.defaultLine},borderwidth:{valType:"number",min:0,dflt:0},font:o.Lib.extendFlat({},o.Plots.fontAttrs,{}),traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"]},tracegroupgap:{valType:"number",min:0,dflt:10},x:{valType:"number",min:-2,max:3,dflt:1.02},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}},l.supplyLayoutDefaults=function(t,e,i){function s(t,e){return o.Lib.coerce(c,f,l.layoutAttributes,t,e)}for(var u,c=t.legend||{},f=e.legend={},d=0,h="normal",g=0;g<i.length;g++)u=i[g],n(u)&&(d++,o.Plots.traceIs(u,"pie")&&d++),(o.Plots.traceIs(u,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(u.fill))&&(h=r({traceorder:h})?"grouped+reversed":"reversed"),void 0!==u.legendgroup&&""!==u.legendgroup&&(h=a({traceorder:h})?"reversed+grouped":"grouped");var p=o.Lib.coerce(t,e,o.Plots.layoutAttributes,"showlegend",d>1);p!==!1&&(s("bgcolor",e.paper_bgcolor),s("bordercolor"),s("borderwidth"),o.Lib.coerceFont(s,"font",e.font),s("traceorder",h),r(e.legend)&&s("tracegroupgap"),s("x"),s("xanchor"),s("y"),s("yanchor"),o.Lib.noneOrAll(c,f,["x","y"]))},l.lines=function(t){var e=t[0].trace,n=e.visible&&e.fill&&"none"!==e.fill,r=o.Scatter.hasLines(e),a=i.select(this).select(".legendfill").selectAll("path").data(n?[t]:[]);a.enter().append("path").classed("js-fill",!0),a.exit().remove(),a.attr("d","M5,0h30v6h-30z").call(o.Drawing.fillGroupStyle);var l=i.select(this).select(".legendlines").selectAll("path").data(r?[t]:[]);l.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),l.exit().remove(),l.call(o.Drawing.lineGroupStyle)},l.points=function(t){function e(t,e,n){var r=o.Lib.nestedProperty(s,t).get(),a=Array.isArray(r)&&e?e(r):r;if(n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function n(t){return t[0]}var r,a,l=t[0],s=l.trace,u=o.Scatter.hasMarkers(s),c=o.Scatter.hasText(s),f=o.Scatter.hasLines(s);if(u||c||f){var d={},h={};u&&(d.mc=e("marker.color",n),d.mo=e("marker.opacity",o.Lib.mean,[.2,1]),d.ms=e("marker.size",o.Lib.mean,[2,16]),d.mlc=e("marker.line.color",n),d.mlw=e("marker.line.width",o.Lib.mean,[0,5]),h.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),f&&(h.line={width:e("line.width",n,[0,10])}),c&&(d.tx="Aa",d.tp=e("textposition",n),d.ts=10,d.tc=e("textfont.color",n),d.tf=e("textfont.family",n)),r=[o.Lib.minExtend(l,d)],a=o.Lib.minExtend(s,h)}var g=i.select(this).select("g.legendpoints"),p=g.selectAll("path.scatterpts").data(u?r:[]);p.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),p.exit().remove(),p.call(o.Drawing.pointStyle,a),u&&(r[0].mrc=3);var m=g.selectAll("g.pointtext").data(c?r:[]);m.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),m.exit().remove(),m.selectAll("text").call(o.Drawing.textPointStyle,a)},l.bars=function(t){var e=t[0].trace,n=e.marker||{},r=n.line||{},a=i.select(this).select("g.legendpoints").selectAll("path.legendbar").data(o.Plots.traceIs(e,"bar")?[t]:[]);a.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),a.exit().remove(),a.each(function(t){var e=(t.mlw+1||r.width+1)-1,a=i.select(this);a.style("stroke-width",e+"px").call(o.Color.fill,t.mc||n.color),e&&a.call(o.Color.stroke,t.mlc||r.color)})},l.boxes=function(t){var e=t[0].trace,n=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(o.Plots.traceIs(e,"box")&&e.visible?[t]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(t){var n=(t.lw+1||e.line.width+1)-1,r=i.select(this);r.style("stroke-width",n+"px").call(o.Color.fill,t.fc||e.fillcolor),n&&r.call(o.Color.stroke,t.lc||e.line.color)})},l.pie=function(t){var e=t[0].trace,n=i.select(this).select("g.legendpoints").selectAll("path.legendpie").data(o.Plots.traceIs(e,"pie")&&e.visible?[t]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(o.Pie.styleOne,t[0],e)},l.style=function(t){t.each(function(t){var e=i.select(this),n=e.selectAll("g.legendfill").data([t]);n.enter().append("g").classed("legendfill",!0);var r=e.selectAll("g.legendlines").data([t]);r.enter().append("g").classed("legendlines",!0);var a=e.selectAll("g.legendsymbols").data([t]);a.enter().append("g").classed("legendsymbols",!0),a.style("opacity",t[0].trace.opacity),a.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(l.bars).each(l.boxes).each(l.pie).each(l.lines).each(l.points)},l.texts=function(t,e,n,r,a){function s(t){o.util.convertToTspans(t,function(){e.firstRender&&l.repositionLegend(e,a)}),t.selectAll("tspan.line").attr({x:t.attr("x")})}var u=e._fullLayout,c=n[0].trace,f=o.Plots.traceIs(c,"pie"),d=c.index,h=f?n[0].label:c.name,g=i.select(t).selectAll("text.legendtext").data([0]);g.enter().append("text").classed("legendtext",!0),g.attr({x:40,y:0}).style("text-anchor","start").call(o.Drawing.font,u.legend.font).text(h).attr({"data-unformatted":h}),e._context.editable&&!f?g.call(o.util.makeEditable).call(s).on("edit",function(t){this.attr({"data-unformatted":t}),this.text(t).call(s),this.text()||(t="    "),o.restyle(e,"name",t,d)}):g.call(s)},l.getLegendData=function(t,e){function i(t,n){if(""!==t&&r(e))-1===p.indexOf(t)?(p.push(t),m=!0,g[t]=[[n]]):g[t].push([n]);else{var a="~~i"+y;p.push(a),g[a]=[[n]],y++}}var l,s,u,c,f,d,h,g={},p=[],m=!1,v={},y=0;for(f=0;f<t.length;f++)if(l=t[f],s=l[0],u=s.trace,c=u.legendgroup,n(u)&&u.showlegend)if(o.Plots.traceIs(u,"pie"))for(v[c]||(v[c]={}),d=0;d<l.length;d++)h=l[d].label,v[c][h]||(i(c,{label:h,color:l[d].color,i:l[d].i,trace:u}),v[c][h]=!0);else i(c,s);if(!p.length)return[];var x,b,_=p.length;if(m&&r(e))for(b=new Array(_),f=0;_>f;f++)x=g[p[f]],b[f]=a(e)?x.reverse():x;else{for(b=[new Array(_)],f=0;_>f;f++)x=g[p[f]][0],b[0][a(e)?_-f-1:f]=x;_=1}return e._lgroupsLength=_,b},l.draw=function(t){var e=t._fullLayout;if(e._infolayer&&t.calcdata){var n=e.legend,a=e.showlegend&&l.getLegendData(t.calcdata,n),s=e.hiddenlabels||[];if(!e.showlegend||!a.length)return e._infolayer.selectAll(".legend").remove(),void o.Plots.autoMargin(t,"legend");"undefined"==typeof t.firstRender?t.firstRender=!0:t.firstRender&&(t.firstRender=!1);var u=e._infolayer.selectAll("svg.legend").data([0]);u.enter(0).append("svg").attr("class","legend");var c=u.selectAll("rect.bg").data([0]);c.enter(0).append("rect").attr("class","bg"),c.call(o.Color.stroke,n.bordercolor).call(o.Color.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px");var f=u.selectAll("g.groups").data(a);f.enter().append("g").attr("class","groups"),f.exit().remove(),r(n)&&f.attr("transform",function(t,e){return"translate(0,"+e*n.tracegroupgap+")"});var d=f.selectAll("g.traces").data(o.Lib.identity);if(d.enter().append("g").attr("class","traces"),d.exit().remove(),d.call(l.style).style("opacity",function(t){var e=t[0].trace;return o.Plots.traceIs(e,"pie")?-1!==s.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1}).each(function(e,n){l.texts(this,t,e,n,d);var r=i.select(this).selectAll("rect").data([0]);r.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(o.Color.fill,"rgba(0,0,0,0)"),r.on("click",function(){if(!t._dragged){var n,r,a=t._fullData,i=e[0].trace,l=i.legendgroup,u=[];if(o.Plots.traceIs(i,"pie")){var c=e[0].label,f=s.slice(),d=f.indexOf(c);-1===d?f.push(c):f.splice(d,1),o.relayout(t,"hiddenlabels",f)}else{if(""===l)u=[i.index];else for(var h=0;h<a.length;h++)n=a[h],n.legendgroup===l&&u.push(n.index);r=i.visible===!0?"legendonly":!0,o.restyle(t,"visible",r,u)}}})}),l.repositionLegend(t,d),t._context.editable){var h,g,p,m,v,y;o.Fx.dragElement({element:u.node(),prepFn:function(){p=Number(u.attr("x")),m=Number(u.attr("y")),v=Number(u.attr("width")),y=Number(u.attr("height")),o.Fx.setCursor(u)},moveFn:function(e,r){var a=t._fullLayout._size;u.call(o.Drawing.setPosition,p+e,m+r),h=o.Fx.dragAlign(p+e,v,a.l,a.l+a.w,n.xanchor),g=o.Fx.dragAlign(m+r+y,-y,a.t+a.h,a.t,n.yanchor);var i=o.Fx.dragCursors(h,g,n.xanchor,n.yanchor);o.Fx.setCursor(u,i)},doneFn:function(e){o.Fx.setCursor(u),e&&void 0!==h&&void 0!==g&&o.relayout(t,{"legend.x":h,"legend.y":g})}})}}},l.repositionLegend=function(t,e){var n=t._fullLayout,a=n._size,l=n.legend,s=l.borderwidth,u=0,c=0;e.each(function(t){var e,n,r=t[0].trace,a=i.select(this),f=a.selectAll(".legendtoggle"),d=a.selectAll(".legendtext"),h=a.selectAll(".legendtext>tspan"),g=1.3*l.font.size,p=h[0].length||1,m=d.node()&&o.Drawing.bBox(d.node()).width,v=a.select("g[class*=math-group]");if(!r.showlegend)return void a.remove();if(v.node()){var y=o.Drawing.bBox(v.node());g=y.height,m=y.width,v.attr("transform","translate(0,"+g/4+")")}else e=g*(.3+(1-p)/2),d.attr("y",e),h.attr("y",e);n=Math.max(g*p,16)+3,a.attr("transform","translate("+s+","+(5+s+c+n/2)+")"),f.attr({x:0,y:-n/2,height:n}),c+=n,u=Math.max(u,m||0)}),r(l)&&(c+=(l._lgroupsLength-1)*l.tracegroupgap),e.selectAll(".legendtoggle").attr("width",(t._context.editable?0:u)+40),u+=45+2*s,c+=10+2*s;var f=a.l+a.w*l.x,d=a.t+a.h*(1-l.y),h="left";"right"===l.xanchor||"auto"===l.xanchor&&l.x>=2/3?(f-=u,h="right"):("center"===l.xanchor||"auto"===l.xanchor&&l.x>1/3)&&(f-=u/2,h="center");var g="top";"bottom"===l.yanchor||"auto"===l.yanchor&&l.y<=1/3?(d-=c,g="bottom"):("middle"===l.yanchor||"auto"===l.yanchor&&l.y<2/3)&&(d-=c/2,g="middle"),u=Math.ceil(u),c=Math.ceil(c),f=Math.round(f),d=Math.round(d),n._infolayer.selectAll("svg.legend").call(o.Drawing.setRect,f,d,u,c),n._infolayer.selectAll("svg.legend .bg").call(o.Drawing.setRect,s/2,s/2,u-s,c-s),o.Plots.autoMargin(t,"legend",{x:l.x,y:l.y,l:u*({right:1,center:.5}[h]||0),r:u*({left:1,center:.5}[h]||0),b:c*({top:1,middle:.5}[g]||0),t:c*({bottom:1,middle:.5}[g]||0)})}},{"./plotly":29,d3:6}],23:[function(t,e,n){"use strict";function r(t,e,n){for(var i,l,s,u,c,f,d=t[0],h=t.length,g=1;h>g;g++){i=t[g];for(l in i)s=d[l],u=i[l],e&&u&&(a(u)||(c=o(u)))?(c?(c=!1,f=s&&o(s)?s:[]):f=s&&a(s)?s:{},d[l]=r([f,u],e,n)):("undefined"!=typeof u||n)&&(d[l]=u)}return d}var a=t("./is_plain_object.js"),o=Array.isArray;n.extendFlat=function(){return r(arguments,!1,!1)},n.extendDeep=function(){return r(arguments,!0,!1)},n.extendDeepAll=function(){return r(arguments,!0,!0)}},{"./is_plain_object.js":24}],24:[function(t,e){"use strict";e.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},{}],25:[function(t,e){"use strict";function n(t){var e;return e=E.test(t)?"Y":"y",e+=D.test(t)?"b":""}function r(t){var e;return e=P.test(t)?O.test(t)?"I":"H":"D"}function a(t,e){return e>t}function o(t,e){return e>=t}function i(t,e){return t>e}function l(t,e){return t>=e}function s(t,e){return function(){var n,r,a,o,i,l=t;for(o=0;o<e.length-1;o++){if(n=e[o],-1===n){for(r=!0,a=[],i=0;i<l.length;i++)a[i]=s(l[i],e.slice(o+1))(),a[i]!==a[0]&&(r=!1);return r?a[0]:a}if("number"==typeof n&&!Array.isArray(l))return void 0;if(l=l[n],"object"!=typeof l||null===l)return void 0}return"object"!=typeof l||null===l?void 0:(a=l[e[o]],null===a?void 0:a)}}function u(t,e){var n=["annotations","shapes","range","domain"],r=-1===n.indexOf(e);return Array.isArray(t)&&r}function c(t,e){return function(n){var r,a,o=t,i=[t],l=g(n)&&!u(n,e[e.length-1]);for(a=0;a<e.length-1;a++){if(r=e[a],"number"==typeof r&&!Array.isArray(o))throw"array index but container is not an array";if(-1===r){if(l=!f(o,e.slice(a+1),n))break;return}if(!d(o,r,e[a+1],l))break;if(o=o[r],"object"!=typeof o||null===o)throw"container is not an object";i.push(o)}l?(a===e.length-1&&delete o[e[a]],h(i)):o[e[a]]=n}}function f(t,e,n){var r,a=Array.isArray(n),o=!0,i=n,l=a?!1:g(n),s=e[0];for(r=0;r<t.length;r++)a&&(i=n[r%n.length],l=g(i)),l&&(o=!1),d(t,r,s,l)&&c(t[r],e)(i);return o}function d(t,e,n,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof n?[]:{}}return!0}function h(t){var e,n,r,a,o;for(e=t.length-1;e>=0;e--){if(r=t[e],o=!1,Array.isArray(r))for(n=r.length-1;n>=0;n--)g(r[n])?o?r[n]=void 0:r.pop():o=!0;else if("object"==typeof r&&null!==r)for(a=Object.keys(r),o=!1,n=a.length-1;n>=0;n--)g(r[a[n]])&&!u(r[a[n]],a[n])?delete r[a[n]]:o=!0;if(o)return}}function g(t){return void 0===t||null===t?!0:"object"!=typeof t?!1:Array.isArray(t)?!t.length:!Object.keys(t).length}function p(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}var m=t("../plotly"),v=t("d3"),y=t("tinycolor2"),x=t("../isnumeric"),b=e.exports={};b.dateTime2ms=function(t){try{if(t.getTime)return+t}catch(t){return!1}var e,n,r,a,o=String(t).split(" ");if(o.length>2)return!1;var i=o[0].split("-");if(i.length>3||3!==i.length&&o[1])return!1;if(4===i[0].length)e=Number(i[0]);else{if(2!==i[0].length)return!1;var l=(new Date).getFullYear();e=((Number(i[0])-l+70)%100+200)%100+l-70}return x(e)?1===i.length?new Date(e,0,1).getTime():(n=Number(i[1])-1,i[1].length>2||!(n>=0&&11>=n)?!1:2===i.length?new Date(e,n,1).getTime():(r=Number(i[2]),i[2].length>2||!(r>=1&&31>=r)?!1:(r=new Date(e,n,r).getTime(),o[1]?(i=o[1].split(":"),i.length>3?!1:(a=Number(i[0]),i[0].length>2||!(a>=0&&23>=a)?!1:(r+=36e5*a,1===i.length?r:(n=Number(i[1]),i[1].length>2||!(n>=0&&59>=n)?!1:(r+=6e4*n,2===i.length?r:(t=Number(i[2]),t>=0&&60>t?r+1e3*t:!1)))))):r))):!1},b.isDateTime=function(t){return b.dateTime2ms(t)!==!1},b.ms2DateTime=function(t,e){if("undefined"==typeof v)return void console.log("d3 is not defined");e||(e=0);var n=new Date(t),r=v.time.format("%Y-%m-%d")(n);return 7776e6>e?(r+=" "+b.lpad(n.getHours(),2),432e6>e&&(r+=":"+b.lpad(n.getMinutes(),2),108e5>e&&(r+=":"+b.lpad(n.getSeconds(),2),3e5>e&&(r+="."+b.lpad(n.getMilliseconds(),3)))),r.replace(/([:\s]00)*\.?[0]*$/,"")):r};var _={H:["%H:%M:%S~%L","%H:%M:%S","%H:%M"],I:["%I:%M:%S~%L%p","%I:%M:%S%p","%I:%M%p"],D:["%H","%I%p","%Hh"]},w={Y:["%Y~%m~%d","%Y%m%d","%y%m%d","%m~%d~%Y","%d~%m~%Y"],Yb:["%b~%d~%Y","%d~%b~%Y","%Y~%d~%b","%Y~%b~%d"],y:["%m~%d~%y","%d~%m~%y","%y~%m~%d"],yb:["%b~%d~%y","%d~%b~%y","%y~%d~%b","%y~%b~%d"]},k=v.time.format.utc,M={Y:{H:["%Y~%m~%dT%H:%M:%S","%Y~%m~%dT%H:%M:%S~%L"].map(k),I:[],D:["%Y%m%d%H%M%S","%Y~%m","%m~%Y"].map(k)},Yb:{H:[],I:[],D:["%Y~%b","%b~%Y"].map(k)},y:{H:[],I:[],D:[]},yb:{H:[],I:[],D:[]}};["Y","Yb","y","yb"].forEach(function(t){w[t].forEach(function(e){M[t].D.push(k(e)),["H","I","D"].forEach(function(n){_[n].forEach(function(r){var a=M[t][n];a.push(k(e+"~"+r)),a.push(k(r+"~"+e))})})})});var A=/[a-z]*/g,L=function(t){return t.substr(0,3)},T=/(mon|tue|wed|thu|fri|sat|sun|the|of|st|nd|rd|th)/g,z=/[\s,\/\-\.\(\)]+/g,S=/~?([ap])~?m(~|$)/,C=function(t,e){return e+"m "},E=/\d\d\d\d/,D=/(^|~)[a-z]{3}/,O=/[ap]m/,P=/:/,I=/q([1-4])/,N=["31~mar","30~jun","30~sep","31~dec"],j=function(t,e){return N[e-1]},F=/ ?([+\-]\d\d:?\d\d|Z)$/;b.parseDate=function(t){if(t.getTime)return t;if("string"!=typeof t)return!1;t=t.toLowerCase().replace(A,L).replace(T,"").replace(z,"~").replace(S,C).replace(I,j).trim().replace(F,"");var e,a,o=null,i=n(t),l=r(t);e=M[i][l],a=e.length;for(var s=0;a>s&&!(o=e[s].parse(t));s++);if(!(o instanceof Date))return!1;var u=o.getTimezoneOffset();return o.setTime(o.getTime()+60*u*1e3),o},b.findBin=function(t,e,n){if(x(e.start))return n?Math.ceil((t-e.start)/e.size)-1:Math.floor((t-e.start)/e.size);var r,s,u=0,c=e.length,f=0;for(s=e[e.length-1]>e[0]?n?a:o:n?l:i;c>u&&f++<100;)r=Math.floor((u+c)/2),s(e[r],t)?u=r+1:c=r;return f>90&&console.log("Long binary search..."),u-1},b.sorterAsc=function(t,e){return t-e},b.distinctVals=function(t){var e=t.slice();e.sort(b.sorterAsc);for(var n=e.length-1,r=e[n]-e[0]||1,a=r/(n||1)/1e4,o=[e[0]],i=0;n>i;i++)e[i+1]>e[i]+a&&(r=Math.min(r,e[i+1]-e[i]),o.push(e[i+1]));return{vals:o,minDiff:r}},b.roundUp=function(t,e,n){for(var r,a=0,o=e.length-1,i=0,l=n?0:1,s=n?1:0,u=n?Math.ceil:Math.floor;o>a&&i++<100;)r=u((a+o)/2),e[r]<=t?a=r+l:o=r-s;return e[a]},b.nestedProperty=function(t,e){if(x(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,r,a,o=0,i=e.split(".");o<i.length;){if(n=String(i[o]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])i[o]=n[1];else{if(0!==o)throw"bad property string";i.splice(0,1)}for(r=n[2].substr(1,n[2].length-2).split("]["),a=0;a<r.length;a++)o++,i.splice(o,0,Number(r[a]))}o++}return"object"!=typeof t?p(t,e,i):{set:c(t,i),get:s(t,i),astr:e,parts:i,obj:t}},b.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var a=0;a<e.length;a++){var o=e[a],i=b.nestedProperty(t,o.replace("?",n)),l=b.nestedProperty(t,o.replace("?",r)),s=i.get();i.set(l.get()),l.set(s)}},b.pauseEvent=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1},b.lpad=function(t,e){return String(t+Math.pow(10,e)).substr(1)},b.aggNums=function(t,e,n,r){var a,o;if(r||(r=n.length),x(e)||(e=!1),Array.isArray(n[0])){for(o=new Array(r),a=0;r>a;a++)o[a]=b.aggNums(t,e,n[a]);n=o}for(a=0;r>a;a++)x(e)?x(n[a])&&(e=t(+e,+n[a])):e=n[a];return e},b.len=function(t){return b.aggNums(function(t){return t+1},0,t)},b.mean=function(t,e){return e||(e=b.len(t)),b.aggNums(function(t,e){return t+e},0,t)/e},b.variance=function(t,e,n){return e||(e=b.len(t)),x(n)||(n=b.mean(t,e)),b.aggNums(function(t,e){return t+Math.pow(e-n,2)},0,t)/e},b.stdev=function(t,e,n){return Math.sqrt(b.variance(t,e,n))},b.interp=function(t,e){if(!x(e))throw"n should be a finite number";if(e=e*t.length-.5,0>e)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]},b.VERBOSE=!1,b.TIMER=(new Date).getTime(),b.log=function(){b.VERBOSE&&console.log.apply(console,arguments)},b.markTime=function(t){if(b.VERBOSE){var e=(new Date).getTime();console.log(t,e-b.TIMER,"(msec)"),"trace"===b.VERBOSE&&console.trace(),b.TIMER=e}},b.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))};var R=[];b.notifier=function(t,e){function n(t){t.duration(700).style("opacity",0).each("end",function(t){var e=R.indexOf(t);-1!==e&&R.splice(e,1),v.select(this).remove()})}if(-1===R.indexOf(t)){R.push(t);var r=1e3;x(e)?r=e:"long"===e&&(r=3e3);var a=v.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0);var o=a.selectAll(".notifier-note").data(R);o.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=v.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(n)}),e.append("p").html(t),e.transition().duration(700).style("opacity",1).transition().delay(r).call(n)})}},b.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},b.identity=function(t){return t},b.randstr=function t(e,n,r){if(r||(r=16),void 0===n&&(n=24),0>=n)return"0";var a,o,i,l=Math.log(Math.pow(2,n))/Math.log(r),s="";for(a=2;1/0===l;a*=2)l=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var u=l-Math.floor(l);for(a=0;a<Math.floor(l);a++)i=Math.floor(Math.random()*r).toString(r),s=i+s;u&&(o=Math.pow(r,u),i=Math.floor(Math.random()*o).toString(r),s=i+s);var c=parseInt(s,r);return e&&e.indexOf(s)>-1||1/0!==c&&c>=Math.pow(2,n)?t(e,n,r):s},b.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={};return n.optionList=[],n._newoption=function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)},n["_"+e]=t,n},b.smooth=function(t,e){if(e=Math.round(e)||0,2>e)return t;var n,r,a,o,i=t.length,l=2*i,s=2*e-1,u=new Array(s),c=new Array(i);for(n=0;s>n;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;i>n;n++){for(o=0,r=0;s>r;r++)a=n+r+1-e,-i>a?a-=l*Math.round(a/l):a>=l&&(a-=l*Math.floor(a/l)),0>a?a=-1-a:a>=i&&(a=l-1-a),o+=t[a]*u[r];c[n]=o}return c},b.getSources=function(t){var e=(t.ref_fids||[]).join(",");(t.fid||e)&&window.PLOTLYENV&&window.PLOTLYENV.DOMAIN_WEBAPP&&$.get("/getsources",{fid:t.fid,extrarefs:e},function(e){t.sourcelist=JSON.parse(e),Array.isArray(t.sourcelist)||(console.log("sourcelist error",t.sourcelist),t.sourcelist=[]),b.showSources(t)})},b.showSources=function(t){function e(){return pullf({fid:l.ref_fid}),!1}function n(){var t=$("#sourceModal"),e=t.find("#source-viewer").empty();return e.data("jsontree","").jsontree(JSON.stringify(y),{terminators:!1,collapsibleOuter:!1}).show(),g?t.find("[data-fid]").click(function(){return t.modal("hide"),pullf({fid:$(this).attr("data-fid")}),!1}):(t.find("[data-fid]").each(function(){d=$(this).attr("data-fid").split(":"),$(this).attr({href:"/~"+d[0]+"/"+d[1]})}),window.self!==window.top&&t.css({left:"10px",right:"10px",bottom:"10px",width:"auto",height:"auto",margin:0})),t.modal("show"),t.find(".close").off("click").on("click",function(){return t.modal("hide"),!1}),!1}function r(t,e){return 0>m?(console.log("infinite loop?"),t):(m--,a.forEach(function(n){if(n.ref_by_uid===e){var a;if(x(n.ref_fid))a='<a href="'+n.ref_url+'" target="_blank">'+n.ref_filename+"</a>";else{var o=n.ref_fid.split(":")[0],i=(o!==window.user?o+": ":"")+n.ref_filename;a='<a href="#" data-fid="'+n.ref_fid+'">'+i+"</a>"}t[a]=r({},n.uid)}}),t)}if(!t._context||!t._context.staticPlot){var a=t.sourcelist;if(!a)return void b.getSources(t);var o=v.select(t).select(".js-sourcelinks"),i=a.filter(function(t){return x(t.ref_fid)}),l=i[0]||a[0];if(o.text(""),t.shouldshowsources=!1,l){var s={},u={};i.forEach(function(t){s[t.url]=1}),a.forEach(function(t){x(t.ref_fid)||(u[t.ref_fid]=1)});var c,f,d=String(l.ref_fid).split(":"),h=b.isPlotDiv(t),g=!h||t._context.workspace;if(h){var p=l.fid.split(":")[0];if(a.every(function(t){return String(t.ref_fid).split(":")[0]===p}))return;if(t.shouldshowsources=!0,t.layout.hidesources)return;o.append("tspan").text("Source: "),c=o.append("a").attr({"xlink:xlink:href":"#"}),x(l.ref_fid)?c.attr({"xlink:xlink:show":"new","xlink:xlink:href":l.ref_url}):g||c.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+d[1]+"/~"+d[0]}),a.length>1&&(o.append("tspan").text(" - "),f=o.append("a").attr({"xlink:xlink:href":"#"}))}else o.node()||(o=v.select(t).select(".grid-container").append("div").attr("class","grid-sourcelinks js-sourcelinks")),o.append("span").text("Source: "),c=o.append("a").attr({href:"#",class:"link--impt"}),x(l.ref_fid)&&c.attr({target:"_blank",href:l.ref_url}),a.length>1&&(o.append("span").text(" - "),f=o.append("a").attr({href:"#"}).classed("link--impt",!0));c.text(l.ref_filename),(!h||g)&&c.on("click",e),f&&f.text("Full list").on("click",n);var m=a.length,y=r({},null)}}},b.promiseError=function(t){console.log(t,t.stack)},b.syncOrAsync=function(t,e,n){function r(){return b.markTime("async done "+o.name),b.syncOrAsync(t,e,n)}for(var a,o;t.length;){if(o=t.splice(0,1)[0],a=o(e),a&&a.then)return a.then(r).then(void 0,b.promiseError);b.markTime("sync done "+o.name)}return n&&n(e)},b.init2dArray=function(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=new Array(e);return n},b.transposeRagged=function(t){var e,n,r=0,a=t.length;for(e=0;a>e;e++)r=Math.max(r,t[e].length);var o=new Array(r);for(e=0;r>e;e++)for(o[e]=new Array(a),n=0;a>n;n++)o[e][n]=t[n][e];return o},b.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var n,r,a=t.length;if(t[0].length)for(n=new Array(a),r=0;a>r;r++)n[r]=b.dot(t[r],e);else if(e[0].length){var o=b.transposeRagged(e);for(n=new Array(o.length),r=0;r<o.length;r++)n[r]=b.dot(t,o[r])}else for(n=0,r=0;a>r;r++)n+=t[r]*e[r];return n},b.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},b.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},b.rotationXYMatrix=function(t,e,n){return b.dot(b.dot(b.translationMatrix(e,n),b.rotationMatrix(t)),b.translationMatrix(-e,-n))},b.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var n=1===arguments.length?e[0]:[e[0],e[1]];return b.dot(t,[n[0],n[1],1]).slice(0,2)}},b.apply2DTransform2=function(t){var e=b.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}},b.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t};Object.keys(t("../colorscale").scales);b.valObjects={data_array:{coerceFunction:function(t,e,n){Array.isArray(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),e.set(-1===r.values.indexOf(t)?n:t)}},boolean:{coerceFunction:function(t,e,n){e.set(t===!0||t===!1?t:n)}},number:{coerceFunction:function(t,e,n,r){e.set(!x(t)||void 0!==r.min&&t<r.min||void 0!==r.max&&t>r.max?n:+t)}},integer:{coerceFunction:function(t,e,n,r){e.set(t%1||!x(t)||void 0!==r.min&&t<r.min||void 0!==r.max&&t>r.max?n:+t)}},string:{coerceFunction:function(t,e,n,r){if(r.strict===!0&&"string"!=typeof t)return void e.set(n);var a=String(t);e.set(void 0===t||r.noBlank===!0&&!a?n:a)}},color:{coerceFunction:function(t,e,n){e.set(y(t).isValid()?t:n)}},colorscale:{coerceFunction:function(t,e,n){e.set(m.Colorscale.getScale(t,n))}},angle:{coerceFunction:function(t,e,n){"auto"===t?e.set("auto"):x(t)?(Math.abs(t)>180&&(t-=360*Math.round(t/360)),e.set(+t)):e.set(n)}},axisid:{coerceFunction:function(t,e,n){if("string"==typeof t&&t.charAt(0)===n){var r=Number(t.substr(1));if(r%1===0&&r>1)return void e.set(t)}e.set(n)}},sceneid:{coerceFunction:function(t,e,n){if("string"==typeof t&&t.substr(0,5)===n){var r=Number(t.substr(5));if(r%1===0&&r>1)return void e.set(t)}e.set(n)}},geoid:{coerceFunction:function(t,e,n){if("string"==typeof t&&t.substr(0,3)===n){var r=Number(t.substr(3));if(r%1===0&&r>1)return void e.set(t)}e.set(n)}},flaglist:{coerceFunction:function(t,e,n,r){if("string"!=typeof t)return void e.set(n);if(-1!==r.extras.indexOf(t))return void e.set(t);for(var a=t.split("+"),o=0;o<a.length;){var i=a[o];-1===r.flags.indexOf(i)||a.indexOf(i)<o?a.splice(o,1):o++}e.set(a.length?a.join("+"):n)}},any:{coerceFunction:function(t,e,n){e.set(void 0===t?n:t)}},info_array:{coerceFunction:function(t,e,n,r){if(!Array.isArray(t))return void e.set(n);var a=r.items,o=[];n=Array.isArray(n)?n:[];for(var i=0;i<a.length;i++)b.coerce(t,o,a,"["+i+"]",n[i]);e.set(o)}}},b.coerce=function(t,e,n,r,a){var o=b.nestedProperty(n,r).get(),i=b.nestedProperty(t,r),l=b.nestedProperty(e,r),s=i.get();return void 0===a&&(a=o.dflt),o.arrayOk&&Array.isArray(s)?(l.set(s),s):(b.valObjects[o.valType].coerceFunction(s,l,a,o),l.get())},b.coerce2=function(t,e,n,r,a){var o=b.nestedProperty(t,r),i=b.coerce(t,e,n,r,a);return o.get()?i:!1},b.coerceFont=function(t,e,n){var r={};return n=n||{},r.family=t(e+".family",n.family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},b.noneOrAll=function(t,e,n){if(t){var r,a,o=!1,i=!0;for(r=0;r<n.length;r++)a=t[n[r]],void 0!==a&&null!==a?o=!0:i=!1;if(o&&!i)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},b.mergeArray=function(t,e,n){if(Array.isArray(t))for(var r=Math.min(t.length,e.length),a=0;r>a;a++)e[a][n]=t[a]},b.minExtend=function(t,e){var n={};"object"!=typeof e&&(e={});var r,a,o,i=3,l=Object.keys(t);for(r=0;r<l.length;r++)a=l[r],o=t[a],"_"!==a.charAt(0)&&"function"!=typeof o&&(n[a]="module"===a?o:Array.isArray(o)?o.slice(0,i):o&&"object"==typeof o?b.minExtend(t[a],e[a]):o);for(l=Object.keys(e),r=0;r<l.length;r++)a=l[r],o=e[a],"object"==typeof o&&a in n&&"object"==typeof n[a]||(n[a]=o);return n},b.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},b.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},b.getPlotDiv=function(t){for(;t&&t.removeAttribute;t=t.parentNode)if(b.isPlotDiv(t))return t},b.isPlotDiv=function(t){var e=v.select(t);return e.size()&&e.classed("js-plotly-plot")},b.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},b.addStyleRule=function(t,e){if(!b.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),b.styleSheet=n.sheet}var r=b.styleSheet;r.insertRule?r.insertRule(t+"{"+e+"}",0):r.addRule?r.addRule(t,e,0):console.warn("addStyleRule failed")},b.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob},b.isPlainObject=t("./is_plain_object");var q=t("./extend");b.extendFlat=q.extendFlat,b.extendDeep=q.extendDeep,b.extendDeepAll=q.extendDeepAll},{"../colorscale":15,"../isnumeric":21,"../plotly":29,"./extend":23,"./is_plain_object":24,d3:6,tinycolor2:9}],26:[function(t,e){"use strict";function n(t,e){return t.node().getBoundingClientRect()[e]}function r(t){return t.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function a(t,e,n){var a="math-output-"+l.Lib.randstr([],64),o=s.select("body").append("div").attr({id:a}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(r(t));MathJax.Hub.Queue(["Typeset",MathJax.Hub,o.node()],function(){var e=s.select("body").select("#MathJax_SVG_glyphs");if(o.select(".MathJax_SVG").empty()||!o.select("svg").node())console.log("There was an error in the tex syntax.",t),n();else{var r=o.select("svg").node().getBoundingClientRect();n(o.select(".MathJax_SVG"),e,r)}o.remove()})}function o(t){for(var e=l.util.html_entity_decode(t),n=e.split(/(<[^<>]*>)/).map(function(t){var e=t.match(/<(\/?)([^ >]*)\s*(.*)>/i),n=e&&e[2].toLowerCase(),r=c[n];if(void 0!==r){var a=e[1],o=e[3],i=o.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===n)return a?"</a>":"href"!==o.substr(0,4).toLowerCase()?"<a>":'<a xlink:show="new" xlink:href'+o.substr(4)+">";if("br"===n)return"<br>";if(a)return"sup"===n?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===n?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";
var s="<tspan";return("sup"===n||"sub"===n)&&(s="&#x200b;"+s),i&&(i=i[1].replace(/(^|;)\s*color:/,"$1 fill:"),r=(r?r+";":"")+i),s+(r?' style="'+r+'"':"")+">"}return l.util.xml_entity_encode(t).replace(/</g,"&lt;")}),r=[],a=n.indexOf("<br>");a>0;a=n.indexOf("<br>",a+1))r.push(a);var o=0;r.forEach(function(t){for(var e=t+o,r=n.slice(0,e),a="",i=r.length-1;i>=0;i--){var l=r[i].match(/<(\/?).*>/i);if(l&&"<br>"!==r[i]){l[1]||(a=r[i]);break}}a&&(n.splice(e+1,0,a),n.splice(e,0,"</tspan>"),o+=2)});var i=n.join(""),s=i.split(/<br>/gi);return s.length>1&&(n=s.map(function(t,e){return'<tspan class="line" dy="'+1.3*e+'em">'+t+"</tspan>"})),n.join("")}function i(t,e,n){var r,a,o,i=n.horizontalAlign,l=n.verticalAlign||"top",s=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();return a="bottom"===l?function(){return s.bottom-r.height}:"middle"===l?function(){return s.top+(s.height-r.height)/2}:function(){return s.top},o="right"===i?function(){return s.right-r.width}:"center"===i?function(){return s.left+(s.width-r.width)/2}:function(){return s.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:a()-u.top+"px",left:o()-u.left+"px","z-index":1e3}),this}}var l=t("../plotly"),s=t("d3"),u=e.exports={};s.selection.prototype.appendSVG=function(t){for(var e='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+t+"</svg>",n=(new DOMParser).parseFromString(e,"application/xml"),r=n.documentElement.firstChild;r;)this.node().appendChild(this.node().ownerDocument.importNode(r,!0)),r=r.nextSibling;return n.querySelector("parsererror")?(console.log(n.querySelector("parsererror div").textContent),null):s.select(this.node().lastChild)},u.html_entity_decode=function(t){var e=s.select("body").append("div").style({display:"none"}).html(""),n=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":e.html(t).text()});return e.remove(),n},u.xml_entity_encode=function(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},u.convertToTspans=function(t,e){function r(){h.empty()||(g=c.attr("class")+"-math",h.select("svg."+g).remove()),t.text("").style({visibility:"visible","white-space":"pre"}),d=t.appendSVG(u),d||t.text(i),t.select("a").size()&&t.style("pointer-events","all"),e&&e.call(c)}var i=t.text(),u=o(i),c=t,f=!c.attr("data-notex")&&u.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),d=i,h=s.select(c.node().parentNode);if(!h.empty()){var g=c.attr("class")?c.attr("class").split(" ")[0]:"text";g+="-math",h.selectAll("svg."+g).remove(),h.selectAll("g."+g+"-group").remove(),t.style({visibility:null});for(var p=t.node();p&&p.removeAttribute;p=p.parentNode)p.removeAttribute("data-bb");if(f){var m=l.Lib.getPlotDiv(c.node());(m&&m._promises||[]).push(new Promise(function(t){c.style({visibility:"hidden"});var o={fontSize:parseInt(c.style("font-size"),10)};a(f[2],o,function(a,o,i){h.selectAll("svg."+g).remove(),h.selectAll("g."+g+"-group").remove();var l=a&&a.select("svg");if(!l||!l.node())return r(),void t();var s=h.append("g").classed(g+"-group",!0).attr({"pointer-events":"none"});s.node().appendChild(l.node()),o&&o.node()&&l.node().insertBefore(o.node().cloneNode(!0),l.node().firstChild),l.attr({class:g,height:i.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=c.style("fill")||"black";l.select("g").attr({fill:u,stroke:u});var f=n(l,"width"),d=n(l,"height"),p=+c.attr("x")-f*{start:0,middle:.5,end:1}[c.attr("text-anchor")||"start"],m=parseInt(c.style("font-size"),10)||n(c,"height"),v=-m/4;"y"===g[0]?(s.attr({transform:"rotate("+[-90,+c.attr("x"),+c.attr("y")]+") translate("+[-f/2,v-d/2]+")"}),l.attr({x:+c.attr("x"),y:+c.attr("y")})):l.attr("l"===g[0]?{x:c.attr("x"),y:v-d/2}:"a"===g[0]?{x:0,y:v}:{x:p,y:+c.attr("y")+v-d/2}),e&&e.call(c,s),t(s)})}))}else r();return t}};var c={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},f=new RegExp("</?("+Object.keys(c).join("|")+")( [^>]*)?/?>","g");u.plainText=function(t){return(t||"").replace(f," ")},u.makeEditable=function(t,e,n){function r(){o(),u.style({opacity:0});var t,e=d.attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&s.select(u.node().parentNode).select(t).style({opacity:0})}function a(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}function o(){var t=s.select(l.Lib.getPlotDiv(u.node())),e=t.select(".svg-container"),r=e.append("div");r.classed("plugin-editable editable",!0).style({position:"absolute","font-family":u.style("font-family")||"Arial","font-size":u.style("font-size")||12,color:n.fill||u.style("fill")||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(u.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(n.text||u.attr("data-unformatted")).call(i(u,e,n)).on("blur",function(){u.text(this.textContent).style({opacity:1});var t,e=s.select(this).attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&s.select(u.node().parentNode).select(t).style({opacity:0});var n=this.textContent;s.select(this).transition().duration(0).remove(),s.select(document).on("mouseup",null),c.edit.call(u,n)}).on("focus",function(){var t=this;s.select(document).on("mouseup",function(){return s.event.target===t?!1:void(document.activeElement===r.node()&&r.node().blur())})}).on("keyup",function(){27===s.event.which?(u.style({opacity:1}),s.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),c.cancel.call(u,this.textContent)):(c.input.call(u,this.textContent),s.select(this).call(i(u,e,n)))}).on("keydown",function(){13===s.event.which&&this.blur()}).call(a)}n||(n={});var u=this,c=s.dispatch("edit","input","cancel"),f=s.select(this.node()).style({"pointer-events":"all"}),d=e||f;return e&&f.style({"pointer-events":"none"}),n.immediate?r():d.on("click",r),s.rebind(this,c,"on")}},{"../plotly":29,d3:6}],27:[function(t,e){"use strict";function n(t){if(!(this instanceof n))return new n;var e=this;this._snapshotInProgress=!1,this.graphInfo=t.graphInfo,this.element=document.createElement("div"),this.element.className="hover"===this.graphInfo._context.displayModeBar?"modebar modebar--hover":"modebar",this.buttons=t.buttons,this.buttonElements=[],this.buttons.forEach(function(t){var n=e.createGroup();t.forEach(function(t){var r=e.config()[t];if(!r)throw new Error(t+" not specfied in modebar configuration");var a=e.createButton(r);e.buttonElements.push(a),n.appendChild(a)}),e.element.appendChild(n)}),this.graphInfo._context.displaylogo&&this.element.appendChild(this.getLogo()),t.container.appendChild(this.element),this.updateActiveButton()}var r=t("./plotly"),a=t("d3"),o=n.prototype;o.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},o.createButton=function(t){var e=this,n=document.createElement("a");return n.setAttribute("rel","tooltip"),n.className="modebar-btn",void 0!==t.attr&&n.setAttribute("data-attr",t.attr),void 0!==t.val&&n.setAttribute("data-val",t.val),n.setAttribute("data-title",t.title),n.setAttribute("data-gravity",t.gravity||"n"),n.addEventListener("click",function(){t.click.apply(e,arguments)}),n.setAttribute("data-toggle",t.toggle),t.toggle&&n.classList.add("active"),n.appendChild(this.createIcon(r.Icons[t.icon])),n},o.createIcon=function(t){var e=r.Icons,n=e.ascent-e.descent,a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),i=document.createElementNS(a,"path");return o.setAttribute("height","1em"),o.setAttribute("width",t.width/n+"em"),o.setAttribute("viewBox",[0,0,t.width,n].join(" ")),i.setAttribute("d",t.path),i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),o.appendChild(i),o},o.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,n=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var r=t.getAttribute("data-val")||!0,o=t.getAttribute("data-attr"),i="true"===t.getAttribute("data-toggle"),l=a.select(t);i?o===n&&l.classed("active",!l.classed("active")):l.classed("active",e[o]===r)})},o.hasButtons=function(t){var e=this.buttons;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r]!==e[n][r])return!1}return!0},o.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plot.ly/",e.target="_blank",e.setAttribute("data-title","Produced with Plotly"),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(r.Icons.plotlylogo)),t.appendChild(e),t},o.handleCartesian=function(t){var e=t.currentTarget,n=e.getAttribute("data-attr"),a=e.getAttribute("data-val")||!0,o=this,i=this.graphInfo,l=this.graphInfo._fullLayout,s={};if("zoom"===n)for(var u,c,f,d="in"===a?.5:2,h=(1+d)/2,g=(1-d)/2,p=r.Axes.list(i,null,!0),m=0;m<p.length;m++)u=p[m],u.fixedrange||(c=u._name,"auto"===a?s[c+".autorange"]=!0:"reset"===a?void 0===u._rangeInitial?s[c+".autorange"]=!0:s[c+".range"]=u._rangeInitial.slice():(f=u.range,s[c+".range"]=[h*f[0]+g*f[1],h*f[1]+g*f[0]]));else"hovermode"!==n||"x"!==a&&"y"!==a||(a=l._isHoriz?"y":"x",e.setAttribute("data-val",a)),s[n]=a;r.relayout(i,s).then(function(){o.updateActiveButton(),"dragmode"===n&&(r.Fx.setCursor(l._paper.select(".nsewdrag"),{pan:"move",zoom:"crosshair"}[a]),r.Fx.supplyLayoutDefaults(i.layout,l,i._fullData))})},o.handleHover3d=function(t){var e,n,a,o,i,l,s,u,c,f=t.currentTarget,d=JSON.parse(f.getAttribute("data-val"))||!1,h=this,g=this.graphInfo,p=g._fullLayout,m=r.Plots.getSubplotIds(p,"gl3d"),v={},y={},x=["xaxis","yaxis","zaxis"],b=["showspikes","spikesides","spikethickness","spikecolor"];if(d)v=d,f.setAttribute("data-val",JSON.stringify(null));else{for(v={"allaxes.showspikes":!1},e=0;e<m.length;e++)for(n=m[e],a=p[n],o=y[n]={},i=0;3>i;i++)for(l=x[i],s=o[l]={},u=0;u<b.length;u++)c=b[u],s[c]=a[l][c];f.setAttribute("data-val",JSON.stringify(y))}r.relayout(g,v).then(function(){h.updateActiveButton(f)})},o.handleDrag3d=function(t){var e=t.currentTarget,n=e.getAttribute("data-attr"),a=e.getAttribute("data-val")||!0,o=this,i=this.graphInfo,l={};l[n]=a,r.relayout(i,l).then(function(){o.updateActiveButton()})},o.handleCamera3d=function(t){var e,n,a,o,i,l,s=t.currentTarget,u=s.getAttribute("data-attr"),c=this.graphInfo.layout,f=this.graphInfo._fullLayout,d=r.Plots.getSubplotIds(f,"gl3d");for(e=0;e<d.length;e++)n=d[e],a=c[n],o=f[n],i=o._scene,a&&"resetDefault"!==u?"resetLastSave"===u&&(l=a.camera,l?i.setCamera(l):i.setCameraToDefault()):i.setCameraToDefault()},o.handleGeo=function(t){for(var e,n,a,o=t.currentTarget,i=o.getAttribute("data-attr"),l=o.getAttribute("data-val")||!0,s=this.graphInfo._fullLayout,u=r.Plots.getSubplotIds(s,"geo"),c=0;c<u.length;c++)e=s[u[c]]._geo,"zoom"===i?(n=e.projection.scale(),a="in"===l?2*n:.5*n,e.projection.scale(a),e.zoom.scale(a),e.render()):"reset"===i?e.zoomReset():"hovermode"===i&&(e.showHover=!e.showHover);this.updateActiveButton(o)},o.handleHoverPie=function(){var t=this,e=t.graphInfo,n=e._fullLayout.hovermode?!1:"closest";r.relayout(e,"hovermode",n).then(function(){t.updateActiveButton()})},o.cleanup=function(){this.element.innerHTML="";var t=this.element.parentNode;t&&t.removeChild(this.element)},o.toImage=function(){var t="png",e=this;if(r.Lib.isIE())return void r.Lib.notifier("Snapshotting is unavailable in Internet Explorer. Consider exporting your images using the Plotly Cloud","long");if(this._snapshotInProgress)return void r.Lib.notifier("Snapshotting is still in progress - please hold","long");this._snapshotInProgress=!0,r.Lib.notifier("Taking snapshot - this may take a few seconds","long");var n=r.Snapshot.toImage(this.graphInfo,{format:t}),a=this.graphInfo.fn||"newplot";a+="."+t,n.once("success",function(t){e._snapshotInProgress=!1;var r=document.createElement("a");r.href=t,r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r),n.clean()}),n.once("error",function(a){e._snapshotInProgress=!1,r.Lib.notifier("Sorry there was a problem downloading your "+t,"long"),console.error(a),n.clean()})},o.config=function(){return{zoom2d:{title:"Zoom",attr:"dragmode",val:"zoom",icon:"zoombox",click:this.handleCartesian},pan2d:{title:"Pan",attr:"dragmode",val:"pan",icon:"pan",click:this.handleCartesian},zoomIn2d:{title:"Zoom in",attr:"zoom",val:"in",icon:"zoom_plus",click:this.handleCartesian},zoomOut2d:{title:"Zoom out",attr:"zoom",val:"out",icon:"zoom_minus",click:this.handleCartesian},autoScale2d:{title:"Autoscale",attr:"zoom",val:"auto",icon:"autoscale",click:this.handleCartesian},resetScale2d:{title:"Reset axes",attr:"zoom",val:"reset",icon:"home",click:this.handleCartesian},hoverClosest2d:{title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:"tooltip_basic",gravity:"ne",click:this.handleCartesian},hoverCompare2d:{title:"Compare data on hover",attr:"hovermode",val:this.graphInfo._fullLayout._isHoriz?"y":"x",icon:"tooltip_compare",gravity:"ne",click:this.handleCartesian},toImage:{title:"download plot as a png",icon:"camera",click:this.toImage},zoom3d:{title:"Zoom",attr:"dragmode",val:"zoom",icon:"zoombox",click:this.handleDrag3d},pan3d:{title:"Pan",attr:"dragmode",val:"pan",icon:"pan",click:this.handleDrag3d},orbitRotation:{title:"orbital rotation",attr:"dragmode",val:"orbit",icon:"3d_rotate",click:this.handleDrag3d},tableRotation:{title:"turntable rotation",attr:"dragmode",val:"turntable",icon:"z-axis",click:this.handleDrag3d},resetCameraDefault3d:{title:"Reset camera to default",attr:"resetDefault",icon:"home",click:this.handleCamera3d},resetCameraLastSave3d:{title:"Reset camera to last save",attr:"resetLastSave",icon:"movie",click:this.handleCamera3d},hoverClosest3d:{title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:"tooltip_basic",gravity:"ne",click:this.handleHover3d},zoomInGeo:{title:"Zoom in",attr:"zoom",val:"in",icon:"zoom_plus",click:this.handleGeo},zoomOutGeo:{title:"Zoom out",attr:"zoom",val:"out",icon:"zoom_minus",click:this.handleGeo},resetGeo:{title:"Reset",attr:"reset",val:null,icon:"autoscale",click:this.handleGeo},hoverClosestGeo:{title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:"tooltip_basic",gravity:"ne",click:this.handleGeo},hoverClosestPie:{title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:"tooltip_basic",gravity:"ne",click:this.handleHoverPie}}},e.exports=n},{"./plotly":29,d3:6}],28:[function(t,e){"use strict";function n(t){var e=(100*t).toPrecision(3);return-1!==e.indexOf(".")?e.replace(/[.]?0+$/,"")+"%":e+"%"}function r(t){var e=t.toPrecision(10);return-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}function a(t){if(!y){var e=d.Color.defaults;y=e.slice();for(var n=0;n<e.length;n++)y.push(p(e[n]).lighten(20).toHexString());for(n=0;n<d.Color.defaults.length;n++)y.push(p(e[n]).darken(20).toHexString())}return y[t%y.length]}function o(t,e){if(t.v===e.vTotal&&!e.trace.hole)return 1;var n=Math.PI*Math.min(t.v/e.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-e.trace.hole)/2)}function i(t,e,n){var r=Math.sqrt(t.width*t.width+t.height*t.height),a=t.width/t.height,i=Math.PI*Math.min(e.v/n.vTotal,.5),l=1-n.trace.hole,s=o(e,n),u={scale:s*n.r*2/r,rCenter:1-s,rotate:0};if(u.scale>=1)return u;var c=a+1/(2*Math.tan(i)),f=n.r*Math.min(1/(Math.sqrt(c*c+.5)+c),l/(Math.sqrt(a*a+l/2)+a)),d={scale:2*f/t.height,rCenter:Math.cos(f/n.r)-f*a/n.r,rotate:(180/Math.PI*e.midangle+720)%180-90},h=1/a,g=h+1/(2*Math.tan(i)),p=n.r*Math.min(1/(Math.sqrt(g*g+.5)+g),l/(Math.sqrt(h*h+l/2)+h)),m={scale:2*p/t.width,rCenter:Math.cos(p/n.r)-p/a/n.r,rotate:(180/Math.PI*e.midangle+810)%180-90},v=m.scale>d.scale?m:d;return u.scale<1&&v.scale>u.scale?v:u}function l(t,e){var n=e.pxmid[0],r=e.pxmid[1],a=t.width/2,o=t.height/2;return 0>n&&(a*=-1),0>r&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:a+Math.abs(o)*(a>0?1:-1)/2,y:o/(1+n*n/(r*r)),outside:!0}}function s(t,e){function n(t,e){return t.pxmid[1]-e.pxmid[1]}function r(t,e){return e.pxmid[1]-t.pxmid[1]}function a(t,n){n||(n={});var r,a,o,l,d,h,p=n.labelExtraY+(i?n.yLabelMax:n.yLabelMin),m=i?t.yLabelMin:t.yLabelMax,v=i?t.yLabelMax:t.yLabelMin,y=t.cyFinal+u(t.px0[1],t.px1[1]),x=p-m;if(x*f>0&&(t.labelExtraY=x),Array.isArray(e.pull))for(a=0;a<g.length;a++)o=g[a],o===t||(e.pull[t.i]||0)>=e.pull[o.i]||((t.pxmid[1]-o.pxmid[1])*f>0?(l=o.cyFinal+u(o.px0[1],o.px1[1]),x=l-m-t.labelExtraY,x*f>0&&(t.labelExtraY+=x)):(v+t.labelExtraY-y)*f>0&&(r=3*c*Math.abs(a-g.indexOf(t)),d=o.cxFinal+s(o.px0[0],o.px1[0]),h=d+r-(t.cxFinal+t.pxmid[0])-t.labelExtraX,h*c>0&&(t.labelExtraX+=h)))}var o,i,l,s,u,c,f,d,h,g,p,m,v;for(i=0;2>i;i++)for(l=i?n:r,u=i?Math.max:Math.min,f=i?1:-1,o=0;2>o;o++){for(s=o?Math.max:Math.min,c=o?1:-1,d=t[i][o],d.sort(l),h=t[1-i][o],g=h.concat(d),m=[],p=0;p<d.length;p++)void 0!==d[p].yLabelMid&&m.push(d[p]);for(v=!1,p=0;i&&p<h.length;p++)if(void 0!==h[p].yLabelMid){v=h[p];break}for(p=0;p<m.length;p++){var y=p&&m[p-1];v&&!p&&(y=v),a(m[p],y)}}}function u(t,e){var n,r,a,o,i,l,s,u,c,d,h=[];for(a=0;a<t.length;a++){if(i=t[a][0],l=i.trace,n=e.w*(l.domain.x[1]-l.domain.x[0]),r=e.h*(l.domain.y[1]-l.domain.y[0]),s=l.tiltaxis*Math.PI/180,u=l.pull,Array.isArray(u))for(u=0,o=0;o<l.pull.length;o++)l.pull[o]>u&&(u=l.pull[o]);i.r=Math.min(n/f(l.tilt,Math.sin(s),l.depth),r/f(l.tilt,Math.cos(s),l.depth))/(2+2*u),i.cx=e.l+e.w*(l.domain.x[1]+l.domain.x[0])/2,i.cy=e.t+e.h*(2-l.domain.y[1]-l.domain.y[0])/2,l.scalegroup&&-1===h.indexOf(l.scalegroup)&&h.push(l.scalegroup)}for(o=0;o<h.length;o++){for(d=1/0,c=h[o],a=0;a<t.length;a++)i=t[a][0],i.trace.scalegroup===c&&(d=Math.min(d,i.r*i.r/i.vTotal));for(a=0;a<t.length;a++)i=t[a][0],i.trace.scalegroup===c&&(i.r=Math.sqrt(d*i.vTotal))}}function c(t){function e(t){var e=f.r*Math.sin(t),n=-f.r*Math.cos(t);return h?[e*(1-l*r*r)+n*i*l,e*i*l+n*(1-l*a*a),Math.sin(o)*(n*a-e*r)]:[e,n]}var n,r,a,o,i,l,s,u,c,f=t[0],d=f.trace,h=d.tilt,g=d.rotation*Math.PI/180,p=2*Math.PI/f.vTotal,m="px0",v="px1";if("counterclockwise"===d.direction){for(s=0;s<t.length&&t[s].hidden;s++);if(s===t.length)return;g+=p*t[s].v,p*=-1,m="px1",v="px0"}for(h&&(o=h*Math.PI/180,n=d.tiltaxis*Math.PI/180,i=Math.sin(n)*Math.cos(n),l=1-Math.cos(o),r=Math.sin(n),a=Math.cos(n)),c=e(g),s=0;s<t.length;s++)u=t[s],u.hidden||(u[m]=c,g+=p*u.v/2,u.pxmid=e(g),u.midangle=g,g+=p*u.v/2,c=e(g),u[v]=c,u.largeArc=u.v>f.vTotal/2?1:0)}function f(t,e,n){if(!t)return 1;var r=Math.sin(t*Math.PI/180);return Math.max(.01,n*r*Math.abs(e)+2*Math.sqrt(1-r*r*e*e))}var d=t("./plotly"),h=t("d3"),g=t("./isnumeric"),p=t("tinycolor2"),m=e.exports={};d.Plots.register(m,"pie",["pie","showLegend"],{});var v=d.Lib.extendFlat;m.attributes={labels:{valType:"data_array"},label0:{valType:"number",dflt:0},dlabel:{valType:"number",dflt:1},values:{valType:"data_array"},marker:{colors:{valType:"data_array"},line:{color:{valType:"color",dflt:d.Color.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}}},text:{valType:"data_array"},scalegroup:{valType:"string",dflt:""},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"]},hoverinfo:v({},d.Plots.attributes.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0},textfont:v({},d.Plots.fontAttrs,{}),insidetextfont:v({},d.Plots.fontAttrs,{}),outsidetextfont:v({},d.Plots.fontAttrs,{}),domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},hole:{valType:"number",min:0,max:1,dflt:0},sort:{valType:"boolean",dflt:!0},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise"},rotation:{valType:"number",min:-360,max:360,dflt:0},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0}},m.supplyDefaults=function(t,e,n,r){function a(n,r){return d.Lib.coerce(t,e,m.attributes,n,r)}var o=d.Lib.coerceFont,i=a("values");if(!Array.isArray(i)||!i.length)return void(e.visible=!1);var l=a("labels");Array.isArray(l)||(a("label0"),a("dlabel"));var s=a("marker.line.width");s&&a("marker.line.color");var u=a("marker.colors");Array.isArray(u)||(e.marker.colors=[]),a("scalegroup");var c=a("text"),f=a("textinfo",Array.isArray(c)?"text+percent":"percent");if(a("hoverinfo",1===r._dataLength?"label+text+value+percent":void 0),f&&"none"!==f){var h=a("textposition"),g=Array.isArray(h)||"auto"===h,p=g||"inside"===h,v=g||"outside"===h;if(p||v){var y=o(a,"textfont",r.font);p&&o(a,"insidetextfont",y),v&&o(a,"outsidetextfont",y)}}a("domain.x"),a("domain.y"),a("hole"),a("sort"),a("direction"),a("rotation"),a("pull")},m.layoutAttributes={hiddenlabels:{valType:"data_array"}},m.supplyLayoutDefaults=function(t,e){function n(n,r){return d.Lib.coerce(t,e,m.layoutAttributes,n,r)}n("hiddenlabels")},m.calc=function(t,e){var o,i,l,s,u,c,f=e.values,h=e.labels,m=[],v=t._fullLayout,y=v._piecolormap,x={},b=!1,_=0,w=v.hiddenlabels||[];if(e.dlabel)for(h=new Array(f.length),o=0;o<f.length;o++)h[o]=String(e.label0+o*e.dlabel);for(o=0;o<f.length;o++)i=f[o],g(i)&&(i=+i,0>i||(l=h[o],(void 0===l||""===l)&&(l=o),l=String(l),void 0===x[l]&&(x[l]=!0,s=p(e.marker.colors[o]),s.isValid()?(s=d.Color.tinyRGB(s),y[l]||(y[l]=s)):y[l]?s=y[l]:(s=!1,b=!0),u=-1!==w.indexOf(l),u||(_+=i),m.push({v:i,label:l,color:s,i:o,hidden:u}))));if(e.sort&&m.sort(function(t,e){return e.v-t.v}),b)for(o=0;o<m.length;o++)c=m[o],c.color===!1&&(y[c.label]=c.color=a(v._piedefaultcolorcount),v._piedefaultcolorcount++);if(m[0]&&(m[0].vTotal=_),e.textinfo&&"none"!==e.textinfo){var k,M=-1!==e.textinfo.indexOf("label"),A=-1!==e.textinfo.indexOf("text"),L=-1!==e.textinfo.indexOf("value"),T=-1!==e.textinfo.indexOf("percent");for(o=0;o<m.length;o++)c=m[o],k=M?[c.label]:[],A&&e.text[c.i]&&k.push(e.text[c.i]),L&&k.push(r(c.v)),T&&k.push(n(c.v/_)),c.text=k.join("<br>")}return m};var y;m.plot=function(t,e){var a=t._fullLayout;u(e,a._size);var f=a._pielayer.selectAll("g.trace").data(e);f.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),f.exit().remove(),f.order(),f.each(function(e){var u=h.select(this),f=e[0],g=f.trace,p=0,m=(g.depth||0)*f.r*Math.sin(p)/2,v=g.tiltaxis||0,y=v*Math.PI/180,x=[m*Math.sin(y),m*Math.cos(y)],b=f.r*Math.cos(p),_=u.selectAll("g.part").data(g.tilt?["top","sides"]:["top"]);_.enter().append("g").attr("class",function(t){return t+" part"}),_.exit().remove(),_.order(),c(e),u.selectAll(".top").each(function(){var u=h.select(this).selectAll("g.slice").data(e);u.enter().append("g").classed("slice",!0),u.exit().remove();var c=[[[],[]],[[],[]]],p=!1;u.each(function(e){function s(){var a=t._fullLayout,i=t._fullData[g.index],l=i.hoverinfo;if("all"===l&&(l="label+text+value+percent+name"),!t._dragging&&a.hovermode!==!1&&"none"!==l&&l){var s=o(e,f),u=y+e.pxmid[0]*(1-s),c=_+e.pxmid[1]*(1-s),h=[];-1!==l.indexOf("label")&&h.push(e.label),i.text&&i.text[e.i]&&-1!==l.indexOf("text")&&h.push(i.text[e.i]),-1!==l.indexOf("value")&&h.push(r(e.v)),-1!==l.indexOf("percent")&&h.push(n(e.v/f.vTotal)),d.Fx.loneHover({x0:u-s*f.r,x1:u+s*f.r,y:c,text:h.join("<br>"),name:-1!==l.indexOf("name")?i.name:void 0,color:e.color,idealAlign:e.pxmid[0]<0?"left":"right"},{container:a._hoverlayer.node(),outerContainer:a._paper.node()}),M=!0}}function u(){M&&(d.Fx.loneUnhover(a._hoverlayer.node()),M=!1)}function m(t,n,r,a){return"a"+a*f.r+","+a*b+" "+v+" "+e.largeArc+(r?" 1 ":" 0 ")+a*(n[0]-t[0])+","+a*(n[1]-t[1])}if(e.hidden)return void h.select(this).selectAll("path,g").remove();c[e.pxmid[1]<0?0:1][e.pxmid[0]<0?0:1].push(e);var y=f.cx+x[0],_=f.cy+x[1],w=h.select(this),k=w.selectAll("path.surface").data([e]),M=!1;if(k.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),w.select("path.textline").remove(),w.on("mouseover",s).on("mouseout",u),g.pull){var A=+(Array.isArray(g.pull)?g.pull[e.i]:g.pull)||0;A>0&&(y+=A*e.pxmid[0],_+=A*e.pxmid[1])}e.cxFinal=y,e.cyFinal=_;var L=g.hole;if(e.v===f.vTotal){var T="M"+(y+e.px0[0])+","+(_+e.px0[1])+m(e.px0,e.pxmid,!0,1)+m(e.pxmid,e.px0,!0,1)+"Z";L?k.attr("d","M"+(y+L*e.px0[0])+","+(_+L*e.px0[1])+m(e.px0,e.pxmid,!1,L)+m(e.pxmid,e.px0,!1,L)+"Z"+T):k.attr("d",T)}else{var z=m(e.px0,e.px1,!0,1);if(L){var S=1-L;k.attr("d","M"+(y+L*e.px1[0])+","+(_+L*e.px1[1])+m(e.px1,e.px0,!1,L)+"l"+S*e.px0[0]+","+S*e.px0[1]+z+"Z")}else k.attr("d","M"+y+","+_+"l"+e.px0[0]+","+e.px0[1]+z+"Z")}var C=Array.isArray(g.textposition)?g.textposition[e.i]:g.textposition,E=w.selectAll("g.slicetext").data(e.text&&"none"!==C?[0]:[]);E.enter().append("g").classed("slicetext",!0),E.exit().remove(),E.each(function(){var t=h.select(this).selectAll("text").data([0]);t.enter().append("text").attr("data-notex",1),t.exit().remove(),t.text(e.text).attr({class:"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(d.Drawing.font,"outside"===C?g.outsidetextfont:g.insidetextfont).call(d.util.convertToTspans),t.selectAll("tspan.line").attr({x:0,y:0});var n,r=d.Drawing.bBox(t.node());"outside"===C?n=l(r,e):(n=i(r,e,f),"auto"===C&&n.scale<1&&(t.call(d.Drawing.font,g.outsidetextfont),(g.outsidetextfont.family!==g.insidetextfont.family||g.outsidetextfont.size!==g.insidetextfont.size)&&(t.attr({"data-bb":""}),r=d.Drawing.bBox(t.node())),n=l(r,e)));var a=y+e.pxmid[0]*n.rCenter+(n.x||0),o=_+e.pxmid[1]*n.rCenter+(n.y||0);n.outside&&(e.yLabelMin=o-r.height/2,e.yLabelMid=o,e.yLabelMax=o+r.height/2,e.labelExtraX=0,e.labelExtraY=0,p=!0),t.attr("transform","translate("+a+","+o+")"+(n.scale<1?"scale("+n.scale+")":"")+(n.rotate?"rotate("+n.rotate+")":"")+"translate("+-(r.left+r.right)/2+","+-(r.top+r.bottom)/2+")")})}),p&&s(c,g),u.each(function(t){if(t.labelExtraX||t.labelExtraY){var e=h.select(this),n=e.select("g.slicetext text");n.attr("transform","translate("+t.labelExtraX+","+t.labelExtraY+")"+n.attr("transform"));var r=t.cxFinal+t.pxmid[0],a=t.cyFinal+t.pxmid[1],o="M"+r+","+a,i=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var l=t.labelExtraX*t.pxmid[1]/t.pxmid[0],s=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);o+=Math.abs(l)>Math.abs(s)?"l"+s*t.pxmid[0]/t.pxmid[1]+","+s+"H"+(r+t.labelExtraX+i):"l"+t.labelExtraX+","+l+"v"+(s-l)+"h"+i}else o+="V"+(t.yLabelMid+t.labelExtraY)+"h"+i;e.append("path").classed("textline",!0).call(d.Color.stroke,g.outsidetextfont.color).attr({"stroke-width":Math.min(2,g.outsidetextfont.size/8),d:o,fill:"none"})}})})}),setTimeout(function(){f.selectAll("tspan").each(function(){var t=h.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))})},0)},m.style=function(t){t._fullLayout._pielayer.selectAll(".trace").each(function(t){var e=t[0],n=e.trace,r=h.select(this);r.style({opacity:n.opacity}),r.selectAll(".top path.surface").each(function(t){h.select(this).call(m.styleOne,t,n)})})},m.styleOne=function(t,e,n){var r=n.marker.line.color;Array.isArray(r)&&(r=r[e.i]||d.Color.defaultLine);var a=n.marker.line.width||0;Array.isArray(a)&&(a=a[e.i]||0),t.style({"stroke-width":a,fill:e.color}).call(d.Color.stroke,r)}},{"./isnumeric":21,"./plotly":29,d3:6,tinycolor2:9}],29:[function(t,e,n){t("es6-promise").polyfill(),n.Lib=t("./lib/lib"),n.util=t("./lib/plotly_util"),n.micropolar=t("./polar/micropolar"),n.micropolar.manager=t("./polar/micropolar_manager"),n.Color=t("./color"),n.Colorscale=t("./colorscale"),n.Drawing=t("./drawing"),n.Plots=t("./graph_obj"),n.Axes=t("./axes"),n.Colorbar=t("./colorbar"),n.Fx=t("./graph_interact"),n.Scatter=t("./scatter"),n.Bars=t("./bars"),n.Heatmap=t("./heatmap"),n.Pie=t("./pie"),n.Annotations=t("./annotations"),n.Shapes=t("./shapes"),n.Legend=t("./legend"),n.ModeBar=t("./modebar"),n.Icons=t("../build/ploticon"),t("../build/plotcss"),n.PlotSchema=t("./plotschema"),n.Config=t("./config"),n.Snapshot=t("./snapshot/snapshot"),n.Queue=t("./queue"),n.d3=t("d3")},{"../build/plotcss":3,"../build/ploticon":4,"./annotations":10,"./axes":11,"./bars":12,"./color":13,"./colorbar":14,"./colorscale":15,"./config":16,"./drawing":17,"./graph_interact":18,"./graph_obj":19,"./heatmap":20,"./legend":22,"./lib/lib":25,"./lib/plotly_util":26,"./modebar":27,"./pie":28,"./plotschema":30,"./polar/micropolar":33,"./polar/micropolar_manager":34,"./queue":36,"./scatter":37,"./shapes":38,"./snapshot/snapshot":40,d3:6,"es6-promise":7}],30:[function(t,e){"use strict";function n(t){var e=g.Plots.attributes,n=l({type:t}),r=u(t),a=f(t),c={},d={};c.type=null,m(c,e),c=o(n.attributes,c,"attributes",t),void 0!==a.attributes&&m(c,a.attributes),c.type=t,c=s(c),i(c),M.traces[t]=p({},r,{attributes:c}),void 0!==n.layoutAttributes&&(d=o(n.layoutAttributes,d,"layoutAttributes",t),i(d),M.traces[t].layoutAttributes=d)}function r(){var t=g.Plots.layoutAttributes,e={};e=o(t,e,"layoutAttributes","*"),e=c(e),e=d(e),e=s(e),i(e),e=h(e),M.layout={layoutAttributes:e}}function a(){M.defs={valObjects:g.Lib.valObjects,metaKeys:k.concat(["description","role"])}}function o(t,e,n,r){var a,i,s,u,c;return Object.keys(t).forEach(function(f){return f===y?void Object.keys(t[f]).forEach(function(u){a=l({module:t[f][u]}),void 0!==a&&(i=a[n],s=o(i,{},n,r),g.Lib.nestedProperty(e,u).set(m({},s)))}):f===x?void Object.keys(t[f]).forEach(function(a){a===r&&(u=l({module:t[f][a]}),void 0!==u&&(c=u[n],c=o(c,{},n,r),v(e,c)))}):void(e[f]=g.Lib.isPlainObject(t[f])?v({},t[f]):t[f])}),e}function i(t){function e(){return{valType:"string"}}function n(t,n,r){T.isValObject(t)?"data_array"===t.valType?(t.role="data",r[n+"src"]=e(n)):t.arrayOk===!0&&(r[n+"src"]=e(n)):g.Lib.isPlainObject(t)&&(t.role="object")}T.crawl(t,n)}function l(t){return"type"in t?"area"===t.type?{attributes:A}:g.Plots.getModule({type:t.type}):"module"in t?g[t.module]:void 0}function s(t){return Object.keys(t).forEach(function(e){"_"===e.charAt(0)&&-1===k.indexOf(e)&&delete t[e]}),t}function u(t){return"area"===t?{}:g.Plots.modules[t].meta||{}}function c(t){return p(t,{radialaxis:L.radialaxis,angularaxis:L.angularaxis}),p(t,L.layout),t}function f(t){var e=g.Plots.subplotsRegistry,n=Object.keys(e).filter(function(e){return g.Plots.traceIs({type:t},e)})[0];return"area"===t?{}:void 0===n?{}:e[n]}function d(t){var e=g.Plots.subplotsRegistry;return Object.keys(t).forEach(function(n){Object.keys(e).forEach(function(r){var a,o=e[r];a="cartesian"===r?o.attrRegex.x.test(n)||o.attrRegex.y.test(n):o.attrRegex.test(n),a&&(t[n][b]=!0)})}),t}function h(t){return Object.keys(t).forEach(function(e){var n=m({},t[e]);if(n[_]===!0){var r=e.substr(0,e.length-1);delete n[_],t[e]={items:{}},t[e].items[r]=n,t[e].role="object"}}),t}var g=t("./plotly"),p=g.Lib.extendFlat,m=g.Lib.extendDeep,v=g.Lib.extendDeepAll,y="_nestedModules",x="_composedModules",b="_isSubplotObj",_="_isLinkedToArray",w="_deprecated",k=[b,_,w],M={traces:{},layout:{},defs:{}},A=t("./polar/attributes/area"),L=t("./polar/attributes/polaraxes"),T=e.exports={};T.get=function(){return g.Plots.allTypes.concat("area").forEach(n),r(),a(),M},T.crawl=function(t,e){Object.keys(t).forEach(function(n){var r=t[n];-1===k.indexOf(n)&&(e(r,n,t),T.isValObject(r)||g.Lib.isPlainObject(r)&&T.crawl(r,e))})},T.isValObject=function(t){return t&&void 0!==t.valType}},{"./plotly":29,"./polar/attributes/area":31,"./polar/attributes/polaraxes":32}],31:[function(t,e){var n=t("../../plotly"),r=n.Scatter.attributes,a=r.marker;e.exports={r:r.r,t:r.t,marker:{color:a.color,size:a.size,symbol:a.symbol,opacity:a.opacity}}},{"../../plotly":29}],32:[function(t,e){"use strict";function n(t,e){var n={showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}};return a({},e,n)}var r=t("../../plotly"),a=r.Lib.extendFlat,o=a({},r.Axes.layoutAttributes.domain,{});
e.exports={radialaxis:n("radial",{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:o,orientation:{valType:"number"}}),angularaxis:n("angular",{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:o}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}}},{"../../plotly":29}],33:[function(t,e){var n=t("../plotly"),r=t("d3"),a=e.exports={version:"0.2.2"},o=n.Lib.extendDeepAll;a.Axis=function(){function t(t){n=t||n;var u=s.data,f=s.layout;return("string"==typeof n||n.nodeName)&&(n=r.select(n)),n.datum(u).each(function(t){function n(t){return l(t)%360+f.orientation}var s=t.slice();c={data:a.util.cloneJson(s),layout:a.util.cloneJson(f)};var u=0;s.forEach(function(t,e){t.color||(t.color=f.defaultColorRange[u],u=(u+1)%f.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:r.rgb(t.color).darker().toString()),c.data[e].color=t.color,c.data[e].strokeColor=t.strokeColor,c.data[e].strokeDash=t.strokeDash,c.data[e].strokeSize=t.strokeSize});var d=s.filter(function(t){var e=t.visible;return"undefined"==typeof e||e===!0}),h=!1,g=d.map(function(t){return h=h||"undefined"!=typeof t.groupId,t});if(h){var p=r.nest().key(function(t){return"undefined"!=typeof t.groupId?t.groupId:"unstacked"}).entries(g),m=[],v=p.map(function(t){if("unstacked"===t.key)return t.values;var e=t.values[0].r.map(function(){return 0});return t.values.forEach(function(t){t.yStack=[e],m.push(e),e=a.util.sumArrays(t.r,e)}),t.values});d=r.merge(v)}d.forEach(function(t){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var y=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;y=Math.max(10,y);var x,b=[f.margin.left+y,f.margin.top+y];if(h){var _=r.max(a.util.sumArrays(a.util.arrayLast(d).r[0],a.util.arrayLast(m)));x=[0,_]}else x=r.extent(a.util.flattenArray(d.map(function(t){return t.r})));f.radialAxis.domain!=a.DATAEXTENT&&(x[0]=0),i=r.scale.linear().domain(f.radialAxis.domain!=a.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:x).range([0,y]),c.layout.radialAxis.domain=i.domain();var w,k=a.util.flattenArray(d.map(function(t){return t.t})),M="string"==typeof k[0];M&&(k=a.util.deduplicate(k),w=k.slice(),k=r.range(k.length),d=d.map(function(t){var e=t;return t.t=[k],h&&(e.yStack=t.yStack),e}));var A=d.filter(function(t){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===d.length,L=null===f.needsEndSpacing?M||!A:f.needsEndSpacing,T=f.angularAxis.domain&&f.angularAxis.domain!=a.DATAEXTENT&&!M&&f.angularAxis.domain[0]>=0,z=T?f.angularAxis.domain:r.extent(k),S=Math.abs(k[1]-k[0]);A&&!M&&(S=0);var C=z.slice();L&&M&&(C[1]+=S);var E=f.angularAxis.ticksCount||4;E>8&&(E=E/(E/8)+E%8),f.angularAxis.ticksStep&&(E=(C[1]-C[0])/E);var D=f.angularAxis.ticksStep||(C[1]-C[0])/(E*(f.minorTicks+1));w&&(D=Math.max(Math.round(D),1)),C[2]||(C[2]=D);var O=r.range.apply(this,C);if(O=O.map(function(t){return parseFloat(t.toPrecision(12))}),l=r.scale.linear().domain(C.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=l.domain(),c.layout.angularAxis.endPadding=L?S:0,e=r.select(this).select("svg.chart-root"),"undefined"==typeof e||e.empty()){var P="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",I=(new DOMParser).parseFromString(P,"application/xml"),N=this.appendChild(this.ownerDocument.importNode(I.documentElement,!0));e=r.select(N)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var j,F=e.select(".chart-group"),R={fill:"none",stroke:f.tickColor},q={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t){return" "+t+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){j=e.select(".legend-group").attr({transform:"translate("+[y,f.margin.top]+")"}).style({display:"block"});var H=d.map(function(t){var e=a.util.cloneJson(t);return e.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",e.visibleInLegend="undefined"==typeof t.visibleInLegend||t.visibleInLegend,e.color="LinePlot"===t.geometry?t.strokeColor:t.color,e});a.Legend().config({data:d.map(function(t,e){return t.name||"Element"+e}),legendConfig:o({},a.Legend.defaultConfig().legendConfig,{container:j,elements:H,reverseOrder:f.legend.reverseOrder})})();var B=j.node().getBBox();y=Math.min(f.width-B.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,y=Math.max(10,y),b=[f.margin.left+y,f.margin.top+y],i.range([0,y]),c.layout.radialAxis.domain=i.domain(),j.attr("transform","translate("+[b[0]+y,b[1]-y]+")")}else j=e.select(".legend-group").style({display:"none"});e.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),F.attr("transform","translate("+b+")").style({cursor:"crosshair"});var V=[(f.width-(f.margin.left+f.margin.right+2*y+(B?B.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*y))/2];if(V[0]=Math.max(0,V[0]),V[1]=Math.max(0,V[1]),e.select(".outer-group").attr("transform","translate("+V+")"),f.title){var Z=e.select("g.title-group text").style(q).text(f.title),Y=Z.node().getBBox();Z.attr({x:b[0]-Y.width/2,y:b[1]-y-20})}var X=e.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var G=X.selectAll("circle.grid-circle").data(i.ticks(5));G.enter().append("circle").attr({class:"grid-circle"}).style(R),G.attr("r",i),G.exit().remove()}X.select("circle.outside-circle").attr({r:y}).style(R);var U=e.select("circle.background-circle").attr({r:y}).style({fill:f.backgroundColor,stroke:f.stroke});if(f.radialAxis.visible){var $=r.svg.axis().scale(i).ticks(5).tickSize(5);X.call($).attr({transform:"rotate("+f.radialAxis.orientation+")"}),X.selectAll(".domain").style(R),X.selectAll("g>text").text(function(){return this.textContent+f.radialAxis.ticksSuffix}).style(q).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,q["font-size"]]+")":"translate("+[0,q["font-size"]]+")"}}),X.selectAll("g>line").style({stroke:"black"})}var Q=e.select(".angular.axis-group").selectAll("g.angular-tick").data(O),J=Q.enter().append("g").classed("angular-tick",!0);Q.attr({transform:function(t,e){return"rotate("+n(t,e)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),Q.exit().remove(),J.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(f.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(f.minorTicks+1)==0)}).style(R),J.selectAll(".minor").style({stroke:f.minorTickColor}),Q.select("line.grid-line").attr({x1:f.tickLength?y-f.tickLength:0,x2:y}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),J.append("text").classed("axis-text",!0).style(q);var W=Q.select("text.axis-text").attr({x:y+f.labelOffset,dy:".35em",transform:function(t,e){var r=n(t,e),a=y+f.labelOffset,o=f.angularAxis.tickOrientation;return"horizontal"==o?"rotate("+-r+" "+a+" 0)":"radial"==o?270>r&&r>90?"rotate(180 "+a+" 0)":null:"rotate("+(180>=r&&r>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(f.minorTicks+1)!=0?"":w?w[t]+f.angularAxis.ticksSuffix:t+f.angularAxis.ticksSuffix}).style(q);f.angularAxis.rewriteTicks&&W.text(function(t,e){return e%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,e)});var K=r.max(F.selectAll(".angular-tick text")[0].map(function(t){return t.getCTM().e+t.getBBox().width}));j.attr({transform:"translate("+[y+K,f.margin.top]+")"});var te=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(d);if(ee.enter().append("g").attr({class:function(t,e){return"geometry geometry"+e}}),ee.exit().remove(),d[0]||te){var ne=[];d.forEach(function(t,e){var n={};n.radialScale=i,n.angularScale=l,n.container=ee.filter(function(t,n){return n==e}),n.geometry=t.geometry,n.orientation=f.orientation,n.direction=f.direction,n.index=e,ne.push({data:t,geometryConfig:n})});var re=r.nest().key(function(t){return"undefined"!=typeof t.data.groupId||"unstacked"}).entries(ne),ae=[];re.forEach(function(t){"unstacked"===t.key?ae=ae.concat(t.values.map(function(t){return[t]})):ae.push(t.values)}),ae.forEach(function(t){var e;e=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var n=t.map(function(t){return o(a[e].defaultConfig(),t)});a[e]().config(n)()})}var oe,ie,le=e.select(".guides-group"),se=e.select(".tooltips-group"),ue=a.tooltipPanel().config({container:se,fontSize:8})(),ce=a.tooltipPanel().config({container:se,fontSize:8})(),fe=a.tooltipPanel().config({container:se,hasTick:!0})();if(!M){var de=le.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});F.on("mousemove.angular-guide",function(){var t=a.util.getMousePos(U).angle;de.attr({x2:-y,transform:"rotate("+t+")"}).style({opacity:.5});var e=(t+180+360-f.orientation)%360;oe=l.invert(e);var n=a.util.convertToCartesian(y+12,t+180);ue.text(a.util.round(oe)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.angular-guide",function(){le.select("line").style({opacity:0})})}var he=le.select("circle").style({stroke:"grey",fill:"none"});F.on("mousemove.radial-guide",function(){var t=a.util.getMousePos(U).radius;he.attr({r:t}).style({opacity:.5}),ie=i.invert(a.util.getMousePos(U).radius);var e=a.util.convertToCartesian(t,f.radialAxis.orientation);ce.text(a.util.round(ie)).move([e[0]+b[0],e[1]+b[1]])}).on("mouseout.radial-guide",function(){he.style({opacity:0}),fe.hide(),ue.hide(),ce.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t){var n=r.select(this),o=n.style("fill"),i="black",l=n.style("opacity")||1;if(n.attr({"data-opacity":l}),"none"!=o){n.attr({"data-fill":o}),i=r.hsl(o).darker().toString(),n.style({fill:i,opacity:1});var s={t:a.util.round(t[0]),r:a.util.round(t[1])};M&&(s.t=w[t[0]]);var u="t: "+s.t+", r: "+s.r,c=this.getBoundingClientRect(),f=e.node().getBoundingClientRect(),d=[c.left+c.width/2-V[0]-f.left,c.top+c.height/2-V[1]-f.top];fe.config({color:i}).text(u),fe.move(d)}else o=n.style("stroke"),n.attr({"data-stroke":o}),i=r.hsl(o).darker().toString(),n.style({stroke:i,opacity:1})}).on("mousemove.tooltip",function(){return 0!=r.event.which?!1:void(r.select(this).attr("data-fill")&&fe.show())}).on("mouseout.tooltip",function(){fe.hide();var t=r.select(this),e=t.attr("data-fill");t.style(e?{fill:e,opacity:t.attr("data-opacity")}:{stroke:t.attr("data-stroke"),opacity:t.attr("data-opacity")})})}),d}var e,n,i,l,s={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),d={};return d.render=function(e){return t(e),this},d.config=function(t){if(!arguments.length)return s;var e=a.util.cloneJson(t);return e.data.forEach(function(t,e){s.data[e]||(s.data[e]={}),o(s.data[e],a.Axis.defaultConfig().data[0]),o(s.data[e],t)}),o(s.layout,a.Axis.defaultConfig().layout),o(s.layout,e.layout),this},d.getLiveConfig=function(){return c},d.getinputConfig=function(){return u},d.radialScale=function(){return i},d.angularScale=function(){return l},d.svg=function(){return e},r.rebind(d,f,"on"),d},a.Axis.defaultConfig=function(){var t={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return t},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(t,e){for(var n in t)n in e&&(e[n]=t[n])},a.util._extend=function(t,e){for(var n in t)e[n]=t[n]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(t,e){var n=e||6,a=r.range(0,360+n,n).map(function(e){var n=e*Math.PI/180,r=t(n);return[e,r]});return a},a.util.dataFromEquation=function(t,e,n){var a=e||6,o=[],i=[];r.range(0,360+a,a).forEach(function(e){var n=e*Math.PI/180,r=t(n);o.push(e),i.push(r)});var l={t:o,r:i};return n&&(l.name=n),l},a.util.ensureArray=function(t,e){if("undefined"==typeof t)return null;var n=[].concat(t);return r.range(e).map(function(t,e){return n[e]||n[0]})},a.util.fillArrays=function(t,e,n){return e.forEach(function(e){t[e]=a.util.ensureArray(t[e],n)}),t},a.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},a.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var n=e.shift();return t[n]&&(!e.length||objHasKeys(t[n],e))},a.util.sumArrays=function(t,e){return r.zip(t,e).map(function(t){return r.sum(t)})},a.util.arrayLast=function(t){return t[t.length-1]},a.util.arrayEqual=function(t,e){for(var n=Math.max(t.length,e.length,1);n-->=0&&t[n]===e[n];);return-2===n},a.util.flattenArray=function(t){for(var e=[];!a.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},a.util.deduplicate=function(t){return t.filter(function(t,e,n){return n.indexOf(t)==e})},a.util.convertToCartesian=function(t,e){var n=e*Math.PI/180,r=t*Math.cos(n),a=t*Math.sin(n);return[r,a]},a.util.round=function(t,e){var n=e||2,r=Math.pow(10,n);return Math.round(t*r)/r},a.util.getMousePos=function(t){var e=r.mouse(t.node()),n=e[0],a=e[1],o={};return o.x=n,o.y=a,o.pos=e,o.angle=180*(Math.atan2(a,n)+Math.PI)/Math.PI,o.radius=Math.sqrt(n*n+a*a),o},a.util.duplicatesCount=function(t){for(var e,n={},r={},a=0,o=t.length;o>a;a++)e=t[a],e in n?(n[e]++,r[e]=n[e]):n[e]=1;return r},a.util.duplicates=function(t){return Object.keys(a.util.duplicatesCount(t))},a.util.translator=function(t,e,n,r){if(r){var a=n.slice();n=e,e=a}var o=e.reduce(function(t,e){return"undefined"!=typeof t?t[e]:void 0},t);"undefined"!=typeof o&&(e.reduce(function(t,n,r){return"undefined"!=typeof t?(r===e.length-1&&delete t[n],t[n]):void 0},t),n.reduce(function(t,e,r){return"undefined"==typeof t[e]&&(t[e]={}),r===n.length-1&&(t[e]=o),t[e]},t))},a.PolyChart=function(){function t(){var t=n[0].geometryConfig,e=t.container;"string"==typeof e&&(e=r.select(e)),e.datum(n).each(function(e){function n(e){var n=t.radialScale(e[1]),r=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:n,t:r}}function a(t){var e=t.r*Math.cos(t.t),n=t.r*Math.sin(t.t);return{x:e,y:n}}var o=!!e[0].data.yStack,i=e.map(function(t){return o?r.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):r.zip(t.data.t[0],t.data.r[0])}),s=t.angularScale,u=t.radialScale.domain()[0],c={};c.bar=function(n,a,o){var i=e[o].data,l=t.radialScale(n[1])-t.radialScale(0),u=t.radialScale(n[2]||0),c=i.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+u,-c/2],[l+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(e){return"rotate("+(t.orientation+s(e[0]))+")"}})},c.dot=function(t,o,i){var l=t[2]?[t[0],t[1]+t[2]]:t,s=r.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(t,o);r.select(this).attr({class:"mark dot",d:s,transform:function(){var t=a(n(l));return"translate("+[t.x,t.y]+")"}})};var f=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});c.line=function(n,a,o){var l=n[2]?i[o].map(function(t){return[t[0],t[1]+t[2]]}):i[o];if(r.select(this).each(c.dot).style({opacity:function(){return+e[o].data.dotVisible},fill:p.stroke(n,a,o)}).attr({class:"mark dot"}),!(a>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:f(l),transform:function(){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(){return p.fill(n,a,o)},"fill-opacity":0,stroke:function(){return p.stroke(n,a,o)},"stroke-width":function(){return p["stroke-width"](n,a,o)},"stroke-dasharray":function(){return p["stroke-dasharray"](n,a,o)},opacity:function(){return p.opacity(n,a,o)},display:function(){return p.display(n,a,o)}})}};var d=t.angularScale.range(),h=Math.abs(d[1]-d[0])/i[0].length*Math.PI/180,g=r.svg.arc().startAngle(function(){return-h/2}).endAngle(function(){return h/2}).innerRadius(function(e){return t.radialScale(u+(e[2]||0))}).outerRadius(function(e){return t.radialScale(u+(e[2]||0))+t.radialScale(e[1])});c.arc=function(){r.select(this).attr({class:"mark arc",d:g,transform:function(e){return"rotate("+(t.orientation+s(e[0])+90)+")"}})};var p={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,n,r){return l[e[r].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return"undefined"==typeof e[r].data.visible||e[r].data.visible?"block":"none"}},m=r.select(this).selectAll("g.layer").data(i);m.enter().append("g").attr({class:"layer"});var v=m.selectAll("path.mark").data(function(t){return t});v.enter().append("path").attr({class:"mark"}),v.style(p).each(c[t.geometryType]),v.exit().remove(),m.exit().remove()})}var e,n=[a.PolyChart.defaultConfig()],i=r.dispatch("hover"),l={solid:"none",dash:[5,2],dot:[2,5]};return t.config=function(t){return arguments.length?(t.forEach(function(t,e){n[e]||(n[e]={}),o(n[e],a.PolyChart.defaultConfig()),o(n[e],t)}),this):n},t.getColorScale=function(){return e},r.rebind(t,i,"on"),t},a.PolyChart.defaultConfig=function(){var t={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}};return t},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"bar"}};return t},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"arc"}};return t},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"dot",dotType:"circle"}};return t},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"line"}};return t},a.Legend=function(){function t(){var n=e.legendConfig,a=e.data.map(function(t,e){return[].concat(t).map(function(t,r){var a=o({},n.elements[e]);return a.name=t,a.color=[].concat(n.elements[e].color)[r],a})}),i=r.merge(a);i=i.filter(function(t,e){return n.elements[e]&&(n.elements[e].visibleInLegend||"undefined"==typeof n.elements[e].visibleInLegend)}),n.reverseOrder&&(i=i.reverse());var l=n.container;("string"==typeof l||l.nodeName)&&(l=r.select(l));var s=i.map(function(t){return t.color}),u=n.fontSize,c=null==n.isContinuous?"number"==typeof i[0]:n.isContinuous,f=c?n.height:u*i.length,d=l.classed("legend-group",!0),h=d.selectAll("svg").data([0]),g=h.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});g.append("g").classed("legend-axis",!0),g.append("g").classed("legend-marks",!0);var p=r.range(i.length),m=r.scale[c?"linear":"ordinal"]().domain(p).range(s),v=r.scale[c?"linear":"ordinal"]().domain(p)[c?"range":"rangePoints"]([0,f]),y=function(t,e){var n=3*e;return"line"===t?"M"+[[-e/2,-e/12],[e/2,-e/12],[e/2,e/12],[-e/2,e/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(t)?r.svg.symbol().type(t).size(n)():r.svg.symbol().type("square").size(n)()};if(c){var x=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);x.enter().append("stop"),x.attr({offset:function(t,e){return e/(s.length-1)*100+"%"}}).style({"stop-color":function(t){return t}}),h.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var b=h.select(".legend-marks").selectAll("path.legend-mark").data(i);b.enter().append("path").classed("legend-mark",!0),b.attr({transform:function(t,e){return"translate("+[u/2,v(e)+u/2]+")"},d:function(t){var e=t.symbol;return y(e,u)},fill:function(t,e){return m(e)}}),b.exit().remove()}var _=r.svg.axis().scale(v).orient("right"),w=h.select("g.legend-axis").attr({transform:"translate("+[c?n.colorBandWidth:u,u/2]+")"}).call(_);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:c?n.textColor:"none"}),w.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text(function(t,e){return i[e].name}),t}var e=a.Legend.defaultConfig(),n=r.dispatch("hover");return t.config=function(t){return arguments.length?(o(e,t),this):e},r.rebind(t,n,"on"),t},a.Legend.defaultConfig=function(){var t={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return t},a.tooltipPanel=function(){var t,e,n,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+a.tooltipPanel.uid++,s=10,u=function(){t=i.container.selectAll("g."+l).data([0]);var r=t.enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=r.append("text").attr({dx:i.padding+s,dy:.3*+i.fontSize}),u};return u.text=function(a){var o=r.hsl(i.color).l,l=o>=.5?"#aaa":"white",c=o>=.5?"black":"white",f=a||"";e.style({fill:c,"font-size":i.fontSize+"px"}).text(f);var d=i.padding,h=e.node().getBBox(),g={fill:i.color,stroke:l,"stroke-width":"2px"},p=h.width+2*d+s,m=h.height+2*d;return n.attr({d:"M"+[[s,-m/2],[s,-m/4],[i.hasTick?0:s,0],[s,m/4],[s,m/2],[p,m/2],[p,-m/2]].join("L")+"Z"}).style(g),t.attr({transform:"translate("+[s,-m/2+2*d]+")"}),t.style({display:"block"}),u},u.move=function(e){return t?(t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),u):void 0},u.hide=function(){return t?(t.style({display:"none"}),u):void 0},u.show=function(){return t?(t.style({display:"block"}),u):void 0},u.config=function(t){return o(i,t),u},u},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){var t={};return t.convert=function(t,e){var n={};if(t.data&&(n.data=t.data.map(function(t){var n=o({},t),r=[[n,["marker","color"],["color"]],[n,["marker","opacity"],["opacity"]],[n,["marker","line","color"],["strokeColor"]],[n,["marker","line","dash"],["strokeDash"]],[n,["marker","line","width"],["strokeSize"]],[n,["marker","symbol"],["dotType"]],[n,["marker","size"],["dotSize"]],[n,["marker","barWidth"],["barWidth"]],[n,["line","interpolation"],["lineInterpolation"]],[n,["showlegend"],["visibleInLegend"]]];return r.forEach(function(t){a.util.translator.apply(null,t.concat(e))}),e||delete n.marker,e&&delete n.groupId,e?("LinePlot"===n.geometry?(n.type="scatter",n.dotVisible===!0?(delete n.dotVisible,n.mode="lines+markers"):n.mode="lines"):"DotPlot"===n.geometry?(n.type="scatter",n.mode="markers"):"AreaChart"===n.geometry?n.type="area":"BarChart"===n.geometry&&(n.type="bar"),delete n.geometry):("scatter"===n.type?"lines"===n.mode?n.geometry="LinePlot":"markers"===n.mode?n.geometry="DotPlot":"lines+markers"===n.mode&&(n.geometry="LinePlot",n.dotVisible=!0):"area"===n.type?n.geometry="AreaChart":"bar"===n.type&&(n.geometry="BarChart"),delete n.mode,delete n.type),n}),!e&&t.layout&&"stack"===t.layout.barmode)){var i=a.util.duplicates(n.data.map(function(t){return t.geometry}));n.data.forEach(function(t,e){var r=i.indexOf(t.geometry);-1!=r&&(n.data[e].groupId=r)})}if(t.layout){var l=o({},t.layout),s=[[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]];if(s.forEach(function(t){a.util.translator.apply(null,t.concat(e))}),e?("undefined"!=typeof l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&"undefined"!=typeof l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&"undefined"!=typeof l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&"undefined"!=typeof l.margin.t){var u=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],f={};r.entries(l.margin).forEach(function(t){f[c[u.indexOf(t.key)]]=t.value}),l.margin=f}e&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),n.layout=l}return n},t}},{"../plotly":29,d3:6}],34:[function(t,e){"use strict";var n=t("../plotly"),r=t("d3"),a=t("./utils/undo_manager"),o=e.exports={},i=n.Lib.extendDeepAll;o.framework=function(t){function e(e,a){return a&&(f=a),r.select(r.select(f).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),l=l?i(l,e):e,u||(u=n.micropolar.Axis()),c=n.micropolar.adapter.plotly().convert(l),u.config(c).render(f),t.data=l.data,t.layout=l.layout,o.fillLayout(t),l}var l,s,u,c,f,d=new a;return e.isPolar=!0,e.svg=function(){return u.svg()},e.getConfig=function(){return l},e.getLiveConfig=function(){return n.micropolar.adapter.plotly().convert(u.getLiveConfig(),!0)},e.getLiveScales=function(){return{t:u.angularScale(),r:u.radialScale()}},e.setUndoPoint=function(){var t=this,e=n.micropolar.util.cloneJson(l);!function(e,n){d.add({undo:function(){n&&t(n)},redo:function(){t(e)}})}(e,s),s=n.micropolar.util.cloneJson(e)},e.undo=function(){d.undo()},e.redo=function(){d.redo()},e},o.fillLayout=function(t){var e=r.select(t).selectAll(".plot-container"),a=e.selectAll(".svg-container"),o=t.framework&&t.framework.svg&&t.framework.svg(),l={width:800,height:600,paper_bgcolor:n.Color.background,_container:e,_paperdiv:a,_paper:o};t._fullLayout=i(l,t.layout)}},{"../plotly":29,"./utils/undo_manager":35,d3:6}],35:[function(t,e){"use strict";e.exports=function(){function t(t,e){return t?(a=!0,t[e](),a=!1,this):this}var e,n=[],r=-1,a=!1;return{add:function(t){return a?this:(n.splice(r+1,n.length-r),n.push(t),r=n.length-1,this)},setCallback:function(t){e=t},undo:function(){var a=n[r];return a?(t(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=n[r+1];return a?(t(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},{}],36:[function(t,e){"use strict";function n(t,e){for(var n,a=[],o=0;o<e.length;o++)n=e[o],a[o]=n===t?n:"object"==typeof n?Array.isArray(n)?r.Lib.extendDeep([],n):r.Lib.extendDeepAll({},n):n;return a}var r=t("./plotly"),a={};a.add=function(t,e,n,r,a){var o,i;return t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},i=t.undoQueue.index,t.autoplay?void(t.undoQueue.inSequence||(t.autoplay=!1)):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(i,t.undoQueue.queue.length-i,o),t.undoQueue.index+=1):o=t.undoQueue.queue[i-1],t.undoQueue.beginSequence=!1,o.undo.calls.unshift(e),o.undo.args.unshift(n),o.redo.calls.push(r),void o.redo.args.push(a))},a.startSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},a.stopSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},a.undo=function(t){var e,n;if(t.framework&&t.framework.isPolar)return void t.framework.undo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)a.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},a.redo=function(t){var e,n;if(t.framework&&t.framework.isPolar)return void t.framework.redo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)a.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},a.plotDo=function(t,e,r){t.autoplay=!0,r=n(t,r),e.apply(null,r)},e.exports=a},{"./plotly":29}],37:[function(t,e){"use strict";function n(t,e,n){var r=n("line.shape");"spline"===r&&n("line.smoothing")}function r(t,e){var n,r;if("lines"===t.mode)return n=t.line.color,n&&a.Color.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var o=e.mcc||(t.marker||{}).color,i=e.mlcc||((t.marker||{}).line||{}).color;return r=o&&a.Color.opacity(o)?o:i&&a.Color.opacity(i)&&(e.mlw||((t.marker||{}).line||{}).width)?i:"",r?a.Color.opacity(r)<.3?a.Color.addOpacity(r,.3):r:(n=(t.line||{}).color,n&&a.Color.opacity(n)&&a.Scatter.hasLines(t)&&t.line.width?n:t.fillcolor)
}var a=t("./plotly"),o=t("d3"),i=t("./isnumeric"),l=e.exports={};a.Plots.register(l,"scatter",["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],{}),l.PTS_LINESONLY=20,l.attributes={x:{valType:"data_array"},x0:{valType:"any",dflt:0},dx:{valType:"number",dflt:1},y:{valType:"data_array"},y0:{valType:"any",dflt:0},dy:{valType:"number",dflt:1},text:{valType:"string",dflt:"",arrayOk:!0},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear"},smoothing:{valType:"number",min:0,max:1.3,dflt:1},dash:{valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid"}},connectgaps:{valType:"boolean",dflt:!1},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx"],dflt:"none"},fillcolor:{valType:"color"},marker:{symbol:{valType:"enumerated",values:a.Drawing.symbolList,dflt:"circle",arrayOk:!0},opacity:{valType:"number",min:0,max:1,arrayOk:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0},color:{valType:"color",arrayOk:!0},maxdisplayed:{valType:"number",min:0,dflt:0},sizeref:{valType:"number",dflt:1},sizemin:{valType:"number",min:0,dflt:0},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter"},colorscale:{valType:"colorscale"},cauto:{valType:"boolean",dflt:!0},cmax:{valType:"number",dflt:null},cmin:{valType:"number",dflt:null},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1},showscale:{valType:"boolean",dflt:!1},line:{color:{valType:"color",arrayOk:!0},width:{valType:"number",min:0,arrayOk:!0},colorscale:{valType:"colorscale"},cauto:{valType:"boolean",dflt:!0},cmax:{valType:"number",dflt:null},cmin:{valType:"number",dflt:null},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1}}},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0},textfont:{family:{valType:"string",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",min:1,arrayOk:!0},color:{valType:"color",arrayOk:!0}},r:{valType:"data_array"},t:{valType:"data_array"},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"}},l.handleXYDefaults=function(t,e,n){var r,a=n("x"),o=n("y");if(a)o?(r=Math.min(a.length,o.length),r<a.length&&(e.x=a.slice(0,r)),r<o.length&&(e.y=o.slice(0,r))):(r=a.length,n("y0"),n("dy"));else{if(!o)return 0;r=e.y.length,n("x0"),n("dx")}return r},l.supplyDefaults=function(t,e,r,o){function i(n,r){return a.Lib.coerce(t,e,l.attributes,n,r)}var s=l.handleXYDefaults(t,e,i),u=s<l.PTS_LINESONLY?"lines+markers":"lines";if(!s)return void(e.visible=!1);if(i("text"),i("mode",u),l.hasLines(e)&&(l.lineDefaults(t,e,r,i),n(t,e,i),i("connectgaps")),l.hasMarkers(e)&&l.markerDefaults(t,e,r,o,i),l.hasText(e)&&l.textDefaults(t,e,o,i),(l.hasMarkers(e)||l.hasText(e))&&i("marker.maxdisplayed"),i("fill"),"none"!==e.fill){var c=!1;if(e.marker){var f=e.marker.color,d=(e.marker.line||{}).color;f&&!Array.isArray(f)?c=f:d&&!Array.isArray(d)&&(c=d)}i("fillcolor",a.Color.addOpacity((e.line||{}).color||c||r,.5)),l.hasLines(e)||n(t,e,i)}a.ErrorBars&&(a.ErrorBars.supplyDefaults(t,e,r,{axis:"y"}),a.ErrorBars.supplyDefaults(t,e,r,{axis:"x",inherit:"y"}))},l.lineDefaults=function(t,e,n,r){var a=(t.marker||{}).color;r("line.color",(Array.isArray(a)?!1:a)||n),r("line.width"),r("line.dash")},l.markerDefaults=function(t,e,n,r,o){var i,s=l.isBubble(t),u=(t.line||{}).color;u&&(n=u),o("marker.symbol"),o("marker.opacity",s?.7:1),o("marker.size"),o("marker.color",n),a.Colorscale.hasColorscale(t,"marker")&&a.Colorscale.handleDefaults(t,e,r,o,{prefix:"marker.",cLetter:"c"}),i=u&&e.marker.color!==u?u:s?a.Color.background:a.Color.defaultLine,o("marker.line.color",i),a.Colorscale.hasColorscale(t,"marker.line")&&a.Colorscale.handleDefaults(t,e,r,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",s?1:0),s&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode"))},l.textDefaults=function(t,e,n,r){r("textposition"),a.Lib.coerceFont(r,"textfont",n.font)},l.cleanData=function(t){var e,n,r,a,o;for(e=0;e<t.length;e++)if(n=t[e],r=n.fill,"none"!==r&&"scatter"===n.type&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(a=e-1;a>=0;a--)if(o=t[a],"scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}},l.hasLines=function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},l.hasMarkers=function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("markers")},l.hasText=function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},l.isBubble=function(t){return"object"==typeof t.marker&&Array.isArray(t.marker.size)},l.colorbar=function(t,e){var n=e[0].trace,r=n.marker,l="cb"+n.uid;if(t._fullLayout._infolayer.selectAll("."+l).remove(),void 0===r||!r.showscale)return void a.Plots.autoMargin(t,l);var s=a.Colorscale.getScale(r.colorscale),u=r.color,c=r.cmin,f=r.cmax;i(c)||(c=a.Lib.aggNums(Math.min,null,u)),i(f)||(f=a.Lib.aggNums(Math.max,null,u));var d=e[0].t.cb=a.Colorbar(t,l);d.fillcolor(o.scale.linear().domain(s.map(function(t){return c+t[0]*(f-c)})).range(s.map(function(t){return t[1]}))).filllevels({start:c,end:f,size:(f-c)/254}).options(r.colorbar)(),a.Lib.markTime("done colorbar")},l.getBubbleSizeFn=function(t){var e=t.marker,n=e.sizeref||1,r=e.sizemin||0,a="area"===e.sizemode?function(t){return Math.sqrt(t/n)}:function(t){return t/n};return function(t){var e=a(t/2);return i(e)&&e>0?Math.max(e,r):0}},l.calc=function(t,e){var n=a.Axes.getFromId(t,e.xaxis||"x"),r=a.Axes.getFromId(t,e.yaxis||"y");a.Lib.markTime("in Scatter.calc");var o=n.makeCalcdata(e,"x");a.Lib.markTime("finished convert x");var s=r.makeCalcdata(e,"y");a.Lib.markTime("finished convert y");var u,c,f,d=Math.min(o.length,s.length);n._minDtick=0,r._minDtick=0,o.length>d&&o.splice(d,o.length-d),s.length>d&&s.splice(d,s.length-d);var h={padded:!0},g={padded:!0};if(l.hasMarkers(e)){if(u=e.marker,c=u.size,Array.isArray(c)){var p={type:"linear"};a.Axes.setConvert(p),c=p.makeCalcdata(e.marker,"size"),c.length>d&&c.splice(d,c.length-d)}var m,v=1.6*(e.marker.sizeref||1);m="area"===e.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/v),3)}:function(t){return Math.max((t||0)/v,3)},h.ppad=g.ppad=Array.isArray(c)?c.map(m):m(c)}l.calcMarkerColorscales(e),!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||o[0]===o[d-1]&&s[0]===s[d-1]?void 0!==a.ErrorBars&&e.error_y.visible||-1===["tonexty","tozeroy"].indexOf(e.fill)&&(l.hasMarkers(e)||l.hasText(e))||(h.padded=!1,h.ppad=0):h.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||o[0]===o[d-1]&&s[0]===s[d-1]?-1!==["tonextx","tozerox"].indexOf(e.fill)&&(g.padded=!1):g.tozero=!0,a.Lib.markTime("ready for Axes.expand"),a.Axes.expand(n,o,h),a.Lib.markTime("done expand x"),a.Axes.expand(r,s,g),a.Lib.markTime("done expand y");var y=new Array(d);for(f=0;d>f;f++)y[f]=i(o[f])&&i(s[f])?{x:o[f],y:s[f]}:{x:!1,y:!1};return void 0!==typeof c&&a.Lib.mergeArray(c,y,"ms"),t.firstscatter=!1,y},l.calcMarkerColorscales=function(t){if(l.hasMarkers(t)){var e=t.marker;a.Colorscale.hasColorscale(t,"marker")&&a.Colorscale.calc(t,e.color,"marker","c"),a.Colorscale.hasColorscale(t,"marker.line")&&a.Colorscale.calc(t,e.line.color,"marker.line","c")}},l.selectMarkers=function(t,e,n){var r=e.x(),a=e.y(),i=o.extent(r.range.map(r.l2c)),s=o.extent(a.range.map(a.l2c));n.forEach(function(t,e){var r=t[0].trace;if(l.hasMarkers(r)){var a=r.marker.maxdisplayed;if(0!==a){var o=t.filter(function(t){return t.x>=i[0]&&t.x<=i[1]&&t.y>=s[0]&&t.y<=s[1]}),u=Math.ceil(o.length/a),c=0;n.forEach(function(t,n){var r=t[0].trace;l.hasMarkers(r)&&r.marker.maxdisplayed>0&&e>n&&c++});var f=Math.round(c*u/3+Math.floor(c/3)*u/7.1);t.forEach(function(t){delete t.vis}),o.forEach(function(t,e){0===Math.round((e+f)%u)&&(t.vis=!0)})}}})},l.arraysToCalcdata=function(t){var e=t[0].trace,n=e.marker;if(a.Lib.mergeArray(e.text,t,"tx"),a.Lib.mergeArray(e.textposition,t,"tp"),e.textfont&&(a.Lib.mergeArray(e.textfont.size,t,"ts"),a.Lib.mergeArray(e.textfont.color,t,"tc"),a.Lib.mergeArray(e.textfont.family,t,"tf")),n&&n.line){var r=n.line;a.Lib.mergeArray(n.opacity,t,"mo"),a.Lib.mergeArray(n.symbol,t,"mx"),a.Lib.mergeArray(n.color,t,"mc"),a.Lib.mergeArray(r.color,t,"mlc"),a.Lib.mergeArray(r.width,t,"mlw")}},l.plot=function(t,e,n){function r(t){return t.filter(function(t){return t.vis})}l.selectMarkers(t,e,n);var i=e.x(),s=e.y(),u=e.plot.select(".scatterlayer").selectAll("g.trace.scatter").data(n);u.enter().append("g").attr("class","trace scatter").style("stroke-miterlimit",2);var c,f,d,h="";u.each(function(t){var e=t[0].trace,n=e.line;if(e.visible===!0&&(l.arraysToCalcdata(t),l.hasLines(e)||"none"!==e.fill)){var r,u,g,p,m=o.select(this),v="",y="";c="tozero"===e.fill.substr(0,6)||"to"===e.fill.substr(0,2)&&!h?m.append("path").classed("js-fill",!0):null,d&&(f=d.datum(t)),d=m.append("path").classed("js-fill",!0),-1!==["hv","vh","hvh","vhv"].indexOf(n.shape)?(u=a.Drawing.steps(n.shape),g=a.Drawing.steps(n.shape.split("").reverse().join(""))):u=g="spline"===n.shape?function(t){return a.Drawing.smoothopen(t,n.smoothing)}:function(t){return"M"+t.join("L")},p=function(t){return"L"+g(t.reverse()).substr(1)};var x=l.linePoints(t,{xaxis:i,yaxis:s,connectGaps:e.connectgaps,baseTolerance:Math.max(n.width||1,3)/4,linear:"linear"===n.shape});if(x.length){for(var b=x[0][0],_=x[x.length-1],w=_[_.length-1],k=0;k<x.length;k++){var M=x[k];r=u(M),v+=v?"L"+r.substr(1):r,y=p(M)+y,l.hasLines(e)&&M.length>1&&m.append("path").classed("js-line",!0).attr("d",r)}c?b&&w&&("y"===e.fill.charAt(e.fill.length-1)?b[1]=w[1]=s.c2p(0,!0):b[0]=w[0]=i.c2p(0,!0),c.attr("d",v+"L"+w+"L"+b+"Z")):"tonext"===e.fill.substr(0,6)&&v&&h&&f.attr("d",v+h+"Z"),h=y}}}),u.selectAll("path:not([d])").remove(),u.append("g").attr("class","points").each(function(t){var e=t[0].trace,n=o.select(this),u=l.hasMarkers(e),c=l.hasText(e);!u&&!c||e.visible!==!0?n.remove():(u&&n.selectAll("path.point").data(e.marker.maxdisplayed?r:a.Lib.identity).enter().append("path").classed("point",!0).call(a.Drawing.translatePoints,i,s),c&&n.selectAll("g").data(e.marker.maxdisplayed?r:a.Lib.identity).enter().append("g").append("text").call(a.Drawing.translatePoints,i,s))})},l.linePoints=function(t,e){function n(e){var n=w.c2p(t[e].x),r=k.c2p(t[e].y);return n===z||r===z?!1:[n,r]}function r(t){var e=t[0]/w._length,n=t[1]/k._length;return(1+10*Math.max(0,-e,e-1,-n,n-1))*A}function o(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}var i,l,s,u,c,f,d,h,g,p,m,v,y,x,b,_,w=e.xaxis,k=e.yaxis,M=e.connectGaps,A=e.baseTolerance,L=e.linear,T=[],z=a.Axes.BADNUM,S=.2,C=new Array(t.length),E=0;for(i=0;i<t.length;i++)if(l=n(i)){for(E=0,C[E++]=l,i++;i<t.length;i++){if(u=n(i),!u){if(M)continue;break}if(L){if(d=o(u,l),!(d<r(u)*S)){for(g=[(u[0]-l[0])/d,(u[1]-l[1])/d],c=l,m=d,v=x=b=0,h=!1,s=u,i++;i<t.length;i++){if(f=n(i),!f){if(M)continue;break}if(p=[f[0]-l[0],f[1]-l[1]],_=p[0]*g[1]-p[1]*g[0],x=Math.min(x,_),b=Math.max(b,_),b-x>r(f))break;s=f,y=p[0]*g[0]+p[1]*g[1],y>m?(m=y,u=f,h=!1):v>y&&(v=y,c=f,h=!0)}if(h?(C[E++]=u,s!==c&&(C[E++]=c)):(c!==l&&(C[E++]=c),s!==u&&(C[E++]=u)),C[E++]=s,i>=t.length||!f)break;C[E++]=f,l=f}}else C[E++]=u}T.push(C.slice(0,E))}return T},l.style=function(t){var e=o.select(t).selectAll("g.trace.scatter");e.style("opacity",function(t){return t[0].trace.opacity}),e.selectAll("g.points").each(function(t){o.select(this).selectAll("path.point").call(a.Drawing.pointStyle,t.trace||t[0].trace),o.select(this).selectAll("text").call(a.Drawing.textPointStyle,t.trace||t[0].trace)}),e.selectAll("g.trace path.js-line").call(a.Drawing.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(a.Drawing.fillGroupStyle)},l.hoverPoints=function(t,e,n,o){var i=t.cd,l=i[0].trace,s=t.xa,u=t.ya,c=function(t){var n=Math.max(3,t.mrc||0);return Math.max(Math.abs(s.c2p(t.x)-s.c2p(e))-n,1-3/n)},f=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(u.c2p(t.y)-u.c2p(n))-e,1-3/e)},d=function(t){var r=Math.max(3,t.mrc||0),a=Math.abs(s.c2p(t.x)-s.c2p(e)),o=Math.abs(u.c2p(t.y)-u.c2p(n));return Math.max(Math.sqrt(a*a+o*o)-r,1-3/r)},h=a.Fx.getDistanceFunction(o,c,f,d);if(a.Fx.getClosest(i,h,t),t.index!==!1){var g=i[t.index],p=s.c2p(g.x,!0),m=u.c2p(g.y,!0),v=g.mrc||1;return t.color=r(l,g),t.x0=p-v,t.x1=p+v,t.xLabelVal=g.x,t.y0=m-v,t.y1=m+v,t.yLabelVal=g.y,g.tx?t.text=g.tx:l.text&&(t.text=l.text),a.ErrorBars&&a.ErrorBars.hoverInfo(g,l,t),[t]}}},{"./isnumeric":21,"./plotly":29,d3:6}],38:[function(t,e){"use strict";function n(t,e){function n(e,n){return s.Lib.coerce(t,r,c.layoutAttributes,e,n)}var r={};n("opacity"),n("fillcolor"),n("line.color"),n("line.width"),n("line.dash");for(var o=t.path?"path":"rect",i=n("type",o),l=["x","y"],u=0;2>u;u++){var f=l[u],d={_fullLayout:e},h=s.Axes.coerceRef(t,r,d,f);if("path"!==i){var g=.25,p=.75;if("paper"!==h){var m=s.Axes.getFromId(d,h),v=a(m);g=v(m.range[0]+g*(m.range[1]-m.range[0])),p=v(m.range[0]+p*(m.range[1]-m.range[0]))}n(f+"0",g),n(f+"1",p)}}return"path"===i?n("path"):s.Lib.noneOrAll(t,r,["x0","x1","y0","y1"]),r}function r(t){return"category"===t.type?t.c2l:t.d2l}function a(t){return"category"===t.type?t.l2c:t.l2d}function o(t){return function(e){return t(e.replace("_"," "))}}function i(t,e){var n,a,i,l,u=e.type,f=s.Axes.getFromId(t,e.xref),d=s.Axes.getFromId(t,e.yref),h=t._fullLayout._size;if(f?(n=r(f),a=function(t){return f._offset+f.l2p(n(t,!0))}):a=function(t){return h.l+h.w*t},d?(i=r(d),l=function(t){return d._offset+d.l2p(i(t,!0))}):l=function(t){return h.t+h.h*(1-t)},"path"===u)return f&&"date"===f.type&&(a=o(a)),d&&"date"===d.type&&(l=o(l)),c.convertPath(e.path,a,l);var g=a(e.x0),p=a(e.x1),m=l(e.y0),v=l(e.y1);if("line"===u)return"M"+g+","+m+"L"+p+","+v;if("rect"===u)return"M"+g+","+m+"H"+p+"V"+v+"H"+g+"Z";var y=(g+p)/2,x=(m+v)/2,b=Math.abs(y-g),_=Math.abs(x-m),w="A"+b+","+_,k=y+b+","+x,M=y+","+(x-_);return"M"+k+w+" 0 1,1 "+M+w+" 0 0,1 "+k+"Z"}function l(t,e,n,r,a){var i="category"===t.type?Number:t.d2c;if(void 0!==e)return[i(e),i(n)];if(r){var l,s,u,c,f,d=1/0,p=-1/0,m=r.match(h);for("date"===t.type&&(i=o(i)),l=0;l<m.length;l++)s=m[l],u=a[s.charAt(0)].drawn,void 0!==u&&(c=m[l].substr(1).match(g),!c||c.length<u||(f=i(c[u]),d>f&&(d=f),f>p&&(p=f)));return p>=d?[d,p]:void 0}}var s=t("./plotly"),u=t("./isnumeric"),c=e.exports={},f=s.Lib.extendFlat,d=s.Scatter.attributes.line;c.layoutAttributes={_isLinkedToArray:!0,opacity:{valType:"number",min:0,max:1,dflt:1},line:{color:d.color,width:d.width,dash:d.dash},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},type:{valType:"enumerated",values:["circle","rect","path","line"]},xref:f({},s.Annotations.layoutAttributes.xref,{}),x0:{valType:"any"},x1:{valType:"any"},yref:f({},s.Annotations.layoutAttributes.yref,{}),y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string"}},c.supplyLayoutDefaults=function(t,e){for(var r=t.shapes||[],a=e.shapes=[],o=0;o<r.length;o++)a.push(n(r[o]||{},e))},c.drawAll=function(t){var e=t._fullLayout;e._shapelayer.selectAll("path").remove();for(var n=0;n<e.shapes.length;n++)c.draw(t,n)},c.add=function(t){var e=t._fullLayout.shapes.length;s.relayout(t,"shapes["+e+"]","add")},c.draw=function(t,e,o,l){var f,d=t.layout,h=t._fullLayout;if(!u(e)||-1===e){if(!e&&Array.isArray(l))return d.shapes=l,c.supplyLayoutDefaults(d,h),void c.drawAll(t);if("remove"===l)return delete d.shapes,h.shapes=[],void c.drawAll(t);if(o&&"add"!==l){for(f=0;f<h.shapes.length;f++)c.draw(t,f,o,l);return}e=h.shapes.length,h.shapes.push({})}if(!o&&l){if("remove"===l){for(h._shapelayer.selectAll('[data-index="'+e+'"]').remove(),h.shapes.splice(e,1),d.shapes.splice(e,1),f=e;f<h.shapes.length;f++)h._shapelayer.selectAll('[data-index="'+(f+1)+'"]').attr("data-index",String(f)),c.draw(t,f);return}if("add"===l||s.Lib.isPlainObject(l)){h.shapes.splice(e,0,{});var g=s.Lib.isPlainObject(l)?s.Lib.extendFlat({},l):{text:"New text"};for(d.shapes?d.shapes.splice(e,0,g):d.shapes=[g],f=h.shapes.length-1;f>e;f--)h._shapelayer.selectAll('[data-index="'+(f-1)+'"]').attr("data-index",String(f)),c.draw(t,f)}}h._shapelayer.selectAll('[data-index="'+e+'"]').remove();var p=d.shapes[e];if(p){var m={xref:p.xref,yref:p.yref},v={};"string"==typeof o&&o?v[o]=l:s.Lib.isPlainObject(o)&&(v=o);var y=Object.keys(v);for(f=0;f<v.length;f++){var x=y[f];s.Lib.nestedProperty(p,x).set(v[x])}var b=["x0","x1","y0","y1"];for(f=0;4>f;f++){var _=b[f];if(void 0===v[_]&&void 0!==p[_]){var w,k=_.charAt(0),M=s.Axes.getFromId(t,s.Axes.coerceRef(m,{},t,k)),A=s.Axes.getFromId(t,s.Axes.coerceRef(p,{},t,k)),L=p[_];void 0!==v[k+"ref"]&&(M?(w=r(M)(L),L=(w-M.range[0])/(M.range[1]-M.range[0])):L=(L-A.domain[0])/(A.domain[1]-A.domain[0]),A?(w=A.range[0]+L*(A.range[1]-A.range[0]),L=a(A)(w)):L=M.domain[0]+L*(M.domain[1]-M.domain[0])),p[_]=L}}var T=n(p,h);h.shapes[e]=T;var z={"data-index":String(e),"fill-rule":"evenodd",d:i(t,T)},S=(T.xref+T.yref).replace(/paper/g,""),C=T.line.width?T.line.color:"rgba(0,0,0,0)",E=h._shapelayer.append("path").attr(z).style("opacity",T.opacity).call(s.Color.stroke,C).call(s.Color.fill,T.fillcolor).call(s.Drawing.dashLine,T.line.dash,T.line.width);S&&E.call(s.Drawing.setClipUrl,"clip"+h._uid+S)}};var h=/[MLHVQCTSZ][^MLHVQCTSZ]*/g,g=/[^\s,]+/g,p={M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},m={M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},v={M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0};c.convertPath=function(t,e,n){return t.replace(h,function(t){var r=0,a=t.charAt(0),o=p[a],i=m[a],l=v[a],s=t.substr(1).replace(g,function(t){return o[r]?t=e(t):i[r]&&(t=n(t)),r++,r>l&&(t="X"),t});return r>l&&(s=s.replace(/[\s,]*X.*/,""),console.log("ignoring extra params in segment "+t)),a+s})},c.calcAutorange=function(t){var e,n,r,a,o,i=t._fullLayout,u=i.shapes;if(u.length&&t._fullData.length)for(e=0;e<u.length;e++)n=u[e],r=n.line.width/2,"paper"!==n.xref&&(a=s.Axes.getFromId(t,n.xref),o=l(a,n.x0,n.x1,n.path,p),o&&s.Axes.expand(a,o,{ppad:r})),"paper"!==n.yref&&(a=s.Axes.getFromId(t,n.yref),o=l(a,n.y0,n.y1,n.path,m),o&&s.Axes.expand(a,o,{ppad:r}))}},{"./isnumeric":21,"./plotly":29}],39:[function(t,e){"use strict";function n(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}function r(t){var e=["xaxis","yaxis","zaxis"];return e.indexOf(t.slice(0,5))>-1}var a=t("../plotly"),o=a.Lib.extendFlat,i=a.Lib.extendDeep;e.exports=function(t,e){t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var l,s=t.data,u=t.layout,c=i([],s),f=i({},u,n(e.tileClass));if(e.width&&(f.width=e.width),e.height&&(f.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){f.annotations=[];var d=Object.keys(f);for(l=0;l<d.length;l++)r(d[l])&&(f[d[l]].title="");for(l=0;l<c.length;l++){var h=c[l];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(e.annotations))for(l=0;l<e.annotations.length;l++)f.annotations.push(e.annotations[l]);var g=a.Plots.getSubplotIds(f,"gl3d");if(g.length){var p={};for("thumbnail"===e.tileClass&&(p={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<g.length;l++){var m=g[l];o(f[m].xaxis,p),o(f[m].yaxis,p),o(f[m].zaxis,p),f[m]._scene=null}f.glopts={preserveDrawingBuffer:!0}}var v=document.createElement("div");e.tileClass&&(v.className=e.tileClass);var y={td:v,layout:f,data:c,config:{staticPlot:void 0===e.staticPlot?!0:e.staticPlot,plot3dPixelRatio:void 0===e.plot3dPixelRatio?2:e.plot3dPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1}};return"transparent"!==e.setBackground&&(y.config.setBackground=e.setBackground||"opaque"),y.td.defaultLayout=n(e.tileClass),y}},{"../plotly":29}],40:[function(t,e){var n={clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage")};e.exports=n},{"./cloneplot":39,"./svgtoimg":41,"./toimage":42,"./tosvg":43}],41:[function(t,e){"use strict";function n(t){var e=t.emitter?t.emitter:new r,n=window.Image,a=window.Blob,o=t.svg,i=t.format||"png",l=t.canvas,s=l.getContext("2d"),u=new n,c=window.URL||window.webkitURL,f=new a([o],{type:"image/svg+xml;charset=utf-8"}),d=c.createObjectURL(f);return l.height=t.height||150,l.width=t.width||300,u.onload=function(){var t;switch(c.revokeObjectURL(d),s.drawImage(u,0,0),i){case"jpeg":t=l.toDataURL("image/jpeg");break;case"png":t=l.toDataURL("image/png");break;case"webp":t=l.toDataURL("image/webp");break;case"svg":t=o;break;default:return e.emit("error","Image format is not jpeg, png or svg")}e.emit("success",t)},u.onerror=function(t){return c.revokeObjectURL(d),e.emit("error",t)},u.src=d,e}var r=t("events").EventEmitter;e.exports=n},{events:1}],42:[function(t,e){"use strict";function n(t,e){function n(){var t=s._fullLayout._hasGL3D,n=t?500:0;setTimeout(function(){var t=a.Snapshot.toSVG(s),n=window.document.createElement("div"),r=window.document.createElement("canvas");n.appendChild(r),n.id=a.Lib.randstr(),r.id=a.Lib.randstr(),i=a.Snapshot.svgToImg({format:e.format,width:s._fullLayout.width,height:s._fullLayout.height,canvas:r,emitter:i,svg:t}),i.clean=function(){s&&s.remove()}},n)}var o=a.Snapshot,i=new r,l=o.clone(t,{format:"png"}),s=l.td;return s.style.position="absolute",s.style.left="-5000px",document.body.appendChild(s),a.plot(s,l.data,l.layout,l.config).then(function(){s._fullLayout._hasGL3D||s.data&&s.data[0]&&s.data[0].r||(a.Annotations.drawAll(s),a.Legend.draw(s,s._fullLayout.showlegend),(s.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}))}).then(n).catch(function(t){i.emit("error",t)}),i}var r=t("events").EventEmitter,a=t("../plotly");e.exports=n},{"../plotly":29,events:1}],43:[function(t,e){"use strict";var n=t("../plotly"),r=t("d3");e.exports=function(t,e){var a,o,i=t._fullLayout,l=i._paper,s=i._size;l.insert("rect",":first-child").call(n.Drawing.setRect,0,0,i.width,i.height).call(n.Color.fill,i.paper_bgcolor);var u,c,f=n.Plots.getSubplotIds(i,"gl3d");for(o=0;o<f.length;o++)u=i[f[o]],c=u._scene.toImage("png"),a=u.domain,i._glimages.append("svg:image").attr({xmlns:"http://www.w3.org/2000/svg","xlink:xlink:href":c,height:s.h*(a.y[1]-a.y[0]),width:s.w*(a.x[1]-a.x[0]),x:s.l+s.w*a.x[0],y:s.t+s.h*(1-a.y[1]),preserveAspectRatio:"none"}),u._scene.destroy();var d,h,g=n.Plots.getSubplotIds(i,"geo");for(o=0;o<g.length;o++)d=i[g[o]],a=d.domain,h=d._geo.framework,h.attr("style",null),h.attr({x:s.l+s.w*a.x[0]+d._marginX,y:s.t+s.h*(1-a.y[1])+d._marginY,width:d._width,height:d._height}),i._geoimages.node().appendChild(h.node());if(i._toppaper){var p,m=i._toppaper.node().childNodes;for(o=0;o<m.length;o++)p=m[o],p.childNodes.length&&l.node().appendChild(p)}l.node().style.background="",l.selectAll("text").attr({"data-unformatted":null}).each(function(){var t=r.select(this);if("hidden"===t.style("visibility"))return void t.remove();var e=t.style("font-family");e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(/"/g,'"'))}),("pdf"===e||"eps"===e)&&l.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),l.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),l.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");var v=(new window.XMLSerializer).serializeToString(l.node());return v=n.util.html_entity_decode(v),v=n.util.xml_entity_encode(v)}},{"../plotly":29,d3:6}]},{},[29])(29)});
Plotly.BUILD="20151021a_basic";